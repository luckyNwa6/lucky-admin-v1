!(function(t, e) {
  'object' == typeof exports && 'undefined' != typeof module
    ? e(exports)
    : 'function' == typeof define && define.amd
    ? define(['exports'], e)
    : e(((t = 'undefined' != typeof globalThis ? globalThis : t || self).echarts = {}))
})(this, function(t) {
  'use strict'
  var p = function(t, e) {
    return (p =
      Object.setPrototypeOf ||
      ({ __proto__: [] } instanceof Array
        ? function(t, e) {
            t.__proto__ = e
          }
        : function(t, e) {
            for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
          }))(t, e)
  }
  function u(t, e) {
    if ('function' != typeof e && null !== e) throw new TypeError('Class extends value ' + String(e) + ' is not a constructor or null')
    function n() {
      this.constructor = t
    }
    p(t, e), (t.prototype = null === e ? Object.create(e) : ((n.prototype = e.prototype), new n()))
  }
  var m = function() {
      ;(this.firefox = !1), (this.ie = !1), (this.edge = !1), (this.newEdge = !1), (this.weChat = !1)
    },
    b = new (function() {
      ;(this.browser = new m()),
        (this.node = !1),
        (this.wxa = !1),
        (this.worker = !1),
        (this.svgSupported = !1),
        (this.touchEventsSupported = !1),
        (this.pointerEventsSupported = !1),
        (this.domSupported = !1),
        (this.transformSupported = !1),
        (this.transform3dSupported = !1),
        (this.hasGlobalWindow = 'undefined' != typeof window)
    })()
  'object' == typeof wx && 'function' == typeof wx.getSystemInfoSync
    ? ((b.wxa = !0), (b.touchEventsSupported = !0))
    : 'undefined' == typeof document && 'undefined' != typeof self
    ? (b.worker = !0)
    : !b.hasGlobalWindow || 'Deno' in window
    ? ((b.node = !0), (b.svgSupported = !0))
    : ((J = navigator.userAgent),
      (ie = (Ft = b).browser),
      (rt = J.match(/Firefox\/([\d.]+)/)),
      (L = J.match(/MSIE\s([\d.]+)/) || J.match(/Trident\/.+?rv:(([\d.]+))/)),
      (Q = J.match(/Edge?\/([\d.]+)/)),
      (J = /micromessenger/i.test(J)),
      rt && ((ie.firefox = !0), (ie.version = rt[1])),
      L && ((ie.ie = !0), (ie.version = L[1])),
      Q && ((ie.edge = !0), (ie.version = Q[1]), (ie.newEdge = 18 < +Q[1].split('.')[0])),
      J && (ie.weChat = !0),
      (Ft.svgSupported = 'undefined' != typeof SVGRect),
      (Ft.touchEventsSupported = 'ontouchstart' in window && !ie.ie && !ie.edge),
      (Ft.pointerEventsSupported = 'onpointerdown' in window && (ie.edge || (ie.ie && 11 <= +ie.version))),
      (Ft.domSupported = 'undefined' != typeof document),
      (rt = document.documentElement.style),
      (Ft.transform3dSupported =
        ((ie.ie && 'transition' in rt) ||
          ie.edge ||
          ('WebKitCSSMatrix' in window && 'm11' in new WebKitCSSMatrix()) ||
          'MozPerspective' in rt) &&
        !('OTransition' in rt)),
      (Ft.transformSupported = Ft.transform3dSupported || (ie.ie && 9 <= +ie.version)))
  var K = '12px sans-serif'
  var v,
    _,
    x = (function(t) {
      var e = {}
      if ('undefined' != typeof JSON)
        for (var n = 0; n < t.length; n++) {
          var i = String.fromCharCode(n + 32),
            o = (t.charCodeAt(n) - 20) / 100
          e[i] = o
        }
      return e
    })("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),
    U = {
      createCanvas: function() {
        return 'undefined' != typeof document && document.createElement('canvas')
      },
      measureText: function(t, e) {
        if ((v || ((n = U.createCanvas()), (v = n && n.getContext('2d'))), v)) return _ !== e && (_ = v.font = e || K), v.measureText(t)
        ;(t = t || ''), (e = e || K)
        var n = /((?:\d+)?\.?\d*)px/.exec(e),
          i = (n && +n[1]) || 12,
          o = 0
        if (0 <= e.indexOf('mono')) o = i * t.length
        else
          for (var r = 0; r < t.length; r++) {
            var a = x[t[r]]
            o += null == a ? i : a * i
          }
        return { width: o }
      },
      loadImage: function(t, e, n) {
        var i = new Image()
        return (i.onload = e), (i.onerror = n), (i.src = t), i
      },
    }
  function w(t) {
    for (var e in U) t[e] && (U[e] = t[e])
  }
  var T = ut(
      ['Function', 'RegExp', 'Date', 'Error', 'CanvasGradient', 'CanvasPattern', 'Image', 'Canvas'],
      function(t, e) {
        return (t['[object ' + e + ']'] = !0), t
      },
      {}
    ),
    I = ut(
      ['Int8', 'Uint8', 'Uint8Clamped', 'Int16', 'Uint16', 'Int32', 'Uint32', 'Float32', 'Float64'],
      function(t, e) {
        return (t['[object ' + e + 'Array]'] = !0), t
      },
      {}
    ),
    k = Object.prototype.toString,
    L = Array.prototype,
    X = L.forEach,
    Z = L.filter,
    q = L.slice,
    $ = L.map,
    Q = function() {}.constructor,
    J = Q ? Q.prototype : null,
    tt = '__proto__',
    et = 2311
  function nt() {
    return et++
  }
  function it() {
    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e]
    'undefined' != typeof console && console.error.apply(console, t)
  }
  function y(t) {
    if (null == t || 'object' != typeof t) return t
    var e = t,
      n = k.call(t)
    if ('[object Array]' === n) {
      if (!At(t)) for (var e = [], i = 0, o = t.length; i < o; i++) e[i] = y(t[i])
    } else if (I[n]) {
      if (!At(t)) {
        var r = t.constructor
        if (r.from) e = r.from(t)
        else {
          e = new r(t.length)
          for (i = 0, o = t.length; i < o; i++) e[i] = t[i]
        }
      }
    } else if (!T[n] && !At(t) && !gt(t)) for (var a in ((e = {}), t)) t.hasOwnProperty(a) && a !== tt && (e[a] = y(t[a]))
    return e
  }
  function d(t, e, n) {
    if (!O(e) || !O(t)) return n ? y(e) : t
    for (var i in e) {
      var o, r
      e.hasOwnProperty(i) &&
        i !== tt &&
        ((o = t[i]),
        !O((r = e[i])) || !O(o) || V(r) || V(o) || gt(r) || gt(o) || dt(r) || dt(o) || At(r) || At(o)
          ? (!n && i in t) || (t[i] = y(e[i]))
          : d(o, r, n))
    }
    return t
  }
  function ot(t, e) {
    for (var n = t[0], i = 1, o = t.length; i < o; i++) n = d(n, t[i], e)
    return n
  }
  function P(t, e) {
    if (Object.assign) Object.assign(t, e)
    else for (var n in e) e.hasOwnProperty(n) && n !== tt && (t[n] = e[n])
    return t
  }
  function z(t, e, n) {
    for (var i = ct(e), o = 0, r = i.length; o < r; o++) {
      var a = i[o]
      ;(n ? null != e[a] : null == t[a]) && (t[a] = e[a])
    }
    return t
  }
  var rt = U.createCanvas
  function C(t, e) {
    if (t) {
      if (t.indexOf) return t.indexOf(e)
      for (var n = 0, i = t.length; n < i; n++) if (t[n] === e) return n
    }
    return -1
  }
  function at(t, e) {
    var n,
      i = t.prototype
    function o() {}
    for (n in ((o.prototype = e.prototype), (t.prototype = new o()), i)) i.hasOwnProperty(n) && (t.prototype[n] = i[n])
    ;(t.prototype.constructor = t).superClass = e
  }
  function st(t, e, n) {
    if (((t = 'prototype' in t ? t.prototype : t), (e = 'prototype' in e ? e.prototype : e), Object.getOwnPropertyNames))
      for (var i = Object.getOwnPropertyNames(e), o = 0; o < i.length; o++) {
        var r = i[o]
        'constructor' !== r && (n ? null != e[r] : null == t[r]) && (t[r] = e[r])
      }
    else z(t, e, n)
  }
  function lt(t) {
    return !!t && 'string' != typeof t && 'number' == typeof t.length
  }
  function E(t, e, n) {
    if (t && e)
      if (t.forEach && t.forEach === X) t.forEach(e, n)
      else if (t.length === +t.length) for (var i = 0, o = t.length; i < o; i++) e.call(n, t[i], i, t)
      else for (var r in t) t.hasOwnProperty(r) && e.call(n, t[r], r, t)
  }
  function B(t, e, n) {
    if (!t) return []
    if (!e) return bt(t)
    if (t.map && t.map === $) return t.map(e, n)
    for (var i = [], o = 0, r = t.length; o < r; o++) i.push(e.call(n, t[o], o, t))
    return i
  }
  function ut(t, e, n, i) {
    if (t && e) {
      for (var o = 0, r = t.length; o < r; o++) n = e.call(i, n, t[o], o, t)
      return n
    }
  }
  function ht(t, e, n) {
    if (!t) return []
    if (!e) return bt(t)
    if (t.filter && t.filter === Z) return t.filter(e, n)
    for (var i = [], o = 0, r = t.length; o < r; o++) e.call(n, t[o], o, t) && i.push(t[o])
    return i
  }
  function ct(t) {
    if (!t) return []
    if (Object.keys) return Object.keys(t)
    var e,
      n = []
    for (e in t) t.hasOwnProperty(e) && n.push(e)
    return n
  }
  var S =
    J && A(J.bind)
      ? J.call.bind(J.bind)
      : function(t, e) {
          for (var n = [], i = 2; i < arguments.length; i++) n[i - 2] = arguments[i]
          return function() {
            return t.apply(e, n.concat(q.call(arguments)))
          }
        }
  function M(t) {
    for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n]
    return function() {
      return t.apply(this, e.concat(q.call(arguments)))
    }
  }
  function V(t) {
    return Array.isArray ? Array.isArray(t) : '[object Array]' === k.call(t)
  }
  function A(t) {
    return 'function' == typeof t
  }
  function F(t) {
    return 'string' == typeof t
  }
  function pt(t) {
    return '[object String]' === k.call(t)
  }
  function H(t) {
    return 'number' == typeof t
  }
  function O(t) {
    var e = typeof t
    return 'function' == e || (!!t && 'object' == e)
  }
  function dt(t) {
    return !!T[k.call(t)]
  }
  function ft(t) {
    return !!I[k.call(t)]
  }
  function gt(t) {
    return 'object' == typeof t && 'number' == typeof t.nodeType && 'object' == typeof t.ownerDocument
  }
  function yt(t) {
    return null != t.colorStops
  }
  function mt(t) {
    return null != t.image
  }
  function vt(t) {
    return '[object RegExp]' === k.call(t)
  }
  function _t(t) {
    return t != t
  }
  function xt() {
    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e]
    for (var n = 0, i = t.length; n < i; n++) if (null != t[n]) return t[n]
  }
  function R(t, e) {
    return null != t ? t : e
  }
  function wt(t, e, n) {
    return null != t ? t : null != e ? e : n
  }
  function bt(t) {
    for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n]
    return q.apply(t, e)
  }
  function St(t) {
    var e
    return 'number' == typeof t ? [t, t, t, t] : 2 === (e = t.length) ? [t[0], t[1], t[0], t[1]] : 3 === e ? [t[0], t[1], t[2], t[1]] : t
  }
  function Mt(t, e) {
    if (!t) throw new Error(e)
  }
  function Tt(t) {
    return null == t ? null : 'function' == typeof t.trim ? t.trim() : t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, '')
  }
  var It = '__ec_primitive__'
  function Ct(t) {
    t[It] = !0
  }
  function At(t) {
    return t[It]
  }
  ;(kt.prototype.delete = function(t) {
    var e = this.has(t)
    return e && delete this.data[t], e
  }),
    (kt.prototype.has = function(t) {
      return this.data.hasOwnProperty(t)
    }),
    (kt.prototype.get = function(t) {
      return this.data[t]
    }),
    (kt.prototype.set = function(t, e) {
      return (this.data[t] = e), this
    }),
    (kt.prototype.keys = function() {
      return ct(this.data)
    }),
    (kt.prototype.forEach = function(t) {
      var e,
        n = this.data
      for (e in n) n.hasOwnProperty(e) && t(n[e], e)
    })
  var Dt = kt
  function kt() {
    this.data = {}
  }
  var Lt = 'function' == typeof Map
  ;(Ot.prototype.hasKey = function(t) {
    return this.data.has(t)
  }),
    (Ot.prototype.get = function(t) {
      return this.data.get(t)
    }),
    (Ot.prototype.set = function(t, e) {
      return this.data.set(t, e), e
    }),
    (Ot.prototype.each = function(n, i) {
      this.data.forEach(function(t, e) {
        n.call(i, t, e)
      })
    }),
    (Ot.prototype.keys = function() {
      var t = this.data.keys()
      return Lt ? Array.from(t) : t
    }),
    (Ot.prototype.removeKey = function(t) {
      this.data.delete(t)
    })
  var Pt = Ot
  function Ot(t) {
    var n = V(t),
      i = ((this.data = new (Lt ? Map : Dt)()), this)
    function e(t, e) {
      n ? i.set(t, e) : i.set(e, t)
    }
    t instanceof Ot ? t.each(e) : t && E(t, e)
  }
  function N(t) {
    return new Pt(t)
  }
  function Rt(t, e) {
    for (var n = new t.constructor(t.length + e.length), i = 0; i < t.length; i++) n[i] = t[i]
    for (var o = t.length, i = 0; i < e.length; i++) n[i + o] = e[i]
    return n
  }
  function Nt(t, e) {
    var n,
      t = Object.create ? Object.create(t) : (((n = function() {}).prototype = t), new n())
    return e && P(t, e), t
  }
  function Et(t) {
    t = t.style
    ;(t.webkitUserSelect = 'none'),
      (t.userSelect = 'none'),
      (t.webkitTapHighlightColor = 'rgba(0,0,0,0)'),
      (t['-webkit-touch-callout'] = 'none')
  }
  function zt(t, e) {
    return t.hasOwnProperty(e)
  }
  function Bt() {}
  var Vt = 180 / Math.PI,
    Ft = Object.freeze({
      __proto__: null,
      HashMap: Pt,
      RADIAN_TO_DEGREE: Vt,
      assert: Mt,
      bind: S,
      clone: y,
      concatArray: Rt,
      createCanvas: rt,
      createHashMap: N,
      createObject: Nt,
      curry: M,
      defaults: z,
      disableUserSelect: Et,
      each: E,
      eqNaN: _t,
      extend: P,
      filter: ht,
      find: function(t, e, n) {
        if (t && e) for (var i = 0, o = t.length; i < o; i++) if (e.call(n, t[i], i, t)) return t[i]
      },
      guid: nt,
      hasOwn: zt,
      indexOf: C,
      inherits: at,
      isArray: V,
      isArrayLike: lt,
      isBuiltInObject: dt,
      isDom: gt,
      isFunction: A,
      isGradientObject: yt,
      isImagePatternObject: mt,
      isNumber: H,
      isObject: O,
      isPrimitive: At,
      isRegExp: vt,
      isString: F,
      isStringSafe: pt,
      isTypedArray: ft,
      keys: ct,
      logError: it,
      map: B,
      merge: d,
      mergeAll: ot,
      mixin: st,
      noop: Bt,
      normalizeCssArray: St,
      reduce: ut,
      retrieve: xt,
      retrieve2: R,
      retrieve3: wt,
      setAsPrimitive: Ct,
      slice: bt,
      trim: Tt,
    })
  function Ht(t, e) {
    return [(t = null == t ? 0 : t), (e = null == e ? 0 : e)]
  }
  function Gt(t) {
    return [t[0], t[1]]
  }
  function Wt(t, e, n) {
    return (t[0] = e[0] + n[0]), (t[1] = e[1] + n[1]), t
  }
  function Ut(t, e, n) {
    return (t[0] = e[0] - n[0]), (t[1] = e[1] - n[1]), t
  }
  function Yt(t) {
    return Math.sqrt(Xt(t))
  }
  function Xt(t) {
    return t[0] * t[0] + t[1] * t[1]
  }
  function Zt(t, e, n) {
    return (t[0] = e[0] * n), (t[1] = e[1] * n), t
  }
  function qt(t, e) {
    var n = Yt(e)
    return 0 === n ? ((t[0] = 0), (t[1] = 0)) : ((t[0] = e[0] / n), (t[1] = e[1] / n)), t
  }
  function jt(t, e) {
    return Math.sqrt((t[0] - e[0]) * (t[0] - e[0]) + (t[1] - e[1]) * (t[1] - e[1]))
  }
  var Kt = jt
  function $t(t, e) {
    return (t[0] - e[0]) * (t[0] - e[0]) + (t[1] - e[1]) * (t[1] - e[1])
  }
  var Qt = $t
  function Jt(t, e, n, i) {
    return (t[0] = e[0] + i * (n[0] - e[0])), (t[1] = e[1] + i * (n[1] - e[1])), t
  }
  function te(t, e, n) {
    var i = e[0],
      e = e[1]
    return (t[0] = n[0] * i + n[2] * e + n[4]), (t[1] = n[1] * i + n[3] * e + n[5]), t
  }
  function ee(t, e, n) {
    return (t[0] = Math.min(e[0], n[0])), (t[1] = Math.min(e[1], n[1])), t
  }
  function ne(t, e, n) {
    return (t[0] = Math.max(e[0], n[0])), (t[1] = Math.max(e[1], n[1])), t
  }
  var ie = Object.freeze({
      __proto__: null,
      add: Wt,
      applyTransform: te,
      clone: Gt,
      copy: function(t, e) {
        return (t[0] = e[0]), (t[1] = e[1]), t
      },
      create: Ht,
      dist: Kt,
      distSquare: Qt,
      distance: jt,
      distanceSquare: $t,
      div: function(t, e, n) {
        return (t[0] = e[0] / n[0]), (t[1] = e[1] / n[1]), t
      },
      dot: function(t, e) {
        return t[0] * e[0] + t[1] * e[1]
      },
      len: Yt,
      lenSquare: Xt,
      length: Yt,
      lengthSquare: Xt,
      lerp: Jt,
      max: ne,
      min: ee,
      mul: function(t, e, n) {
        return (t[0] = e[0] * n[0]), (t[1] = e[1] * n[1]), t
      },
      negate: function(t, e) {
        return (t[0] = -e[0]), (t[1] = -e[1]), t
      },
      normalize: qt,
      scale: Zt,
      scaleAndAdd: function(t, e, n, i) {
        return (t[0] = e[0] + n[0] * i), (t[1] = e[1] + n[1] * i), t
      },
      set: function(t, e, n) {
        return (t[0] = e), (t[1] = n), t
      },
      sub: Ut,
    }),
    oe = function(t, e) {
      ;(this.target = t), (this.topTarget = e && e.topTarget)
    },
    re =
      ((ae.prototype._dragStart = function(t) {
        for (var e = t.target; e && !e.draggable; ) e = e.parent || e.__hostTarget
        e &&
          (((this._draggingTarget = e).dragging = !0),
          (this._x = t.offsetX),
          (this._y = t.offsetY),
          this.handler.dispatchToElement(new oe(e, t), 'dragstart', t.event))
      }),
      (ae.prototype._drag = function(t) {
        var e,
          n,
          i,
          o,
          r = this._draggingTarget
        r &&
          ((e = t.offsetX),
          (n = t.offsetY),
          (i = e - this._x),
          (o = n - this._y),
          (this._x = e),
          (this._y = n),
          r.drift(i, o, t),
          this.handler.dispatchToElement(new oe(r, t), 'drag', t.event),
          (i = this.handler.findHover(e, n, r).target),
          (o = this._dropTarget),
          r !== (this._dropTarget = i)) &&
          (o && i !== o && this.handler.dispatchToElement(new oe(o, t), 'dragleave', t.event), i) &&
          i !== o &&
          this.handler.dispatchToElement(new oe(i, t), 'dragenter', t.event)
      }),
      (ae.prototype._dragEnd = function(t) {
        var e = this._draggingTarget
        e && (e.dragging = !1),
          this.handler.dispatchToElement(new oe(e, t), 'dragend', t.event),
          this._dropTarget && this.handler.dispatchToElement(new oe(this._dropTarget, t), 'drop', t.event),
          (this._draggingTarget = null),
          (this._dropTarget = null)
      }),
      ae)
  function ae(t) {
    ;(this.handler = t).on('mousedown', this._dragStart, this), t.on('mousemove', this._drag, this), t.on('mouseup', this._dragEnd, this)
  }
  ;(le.prototype.on = function(t, e, n, i) {
    this._$handlers || (this._$handlers = {})
    var o = this._$handlers
    if (('function' == typeof e && ((i = n), (n = e), (e = null)), n && t)) {
      var r = this._$eventProcessor
      null != e && r && r.normalizeQuery && (e = r.normalizeQuery(e)), o[t] || (o[t] = [])
      for (var a = 0; a < o[t].length; a++) if (o[t][a].h === n) return this
      ;(r = { h: n, query: e, ctx: i || this, callAtLast: n.zrEventfulCallAtLast }), (e = o[t].length - 1), (i = o[t][e])
      i && i.callAtLast ? o[t].splice(e, 0, r) : o[t].push(r)
    }
    return this
  }),
    (le.prototype.isSilent = function(t) {
      var e = this._$handlers
      return !e || !e[t] || !e[t].length
    }),
    (le.prototype.off = function(t, e) {
      var n = this._$handlers
      if (n)
        if (t)
          if (e) {
            if (n[t]) {
              for (var i = [], o = 0, r = n[t].length; o < r; o++) n[t][o].h !== e && i.push(n[t][o])
              n[t] = i
            }
            n[t] && 0 === n[t].length && delete n[t]
          } else delete n[t]
        else this._$handlers = {}
      return this
    }),
    (le.prototype.trigger = function(t) {
      for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n]
      if (this._$handlers) {
        var i = this._$handlers[t],
          o = this._$eventProcessor
        if (i)
          for (var r = e.length, a = i.length, s = 0; s < a; s++) {
            var l = i[s]
            if (!o || !o.filter || null == l.query || o.filter(t, l.query))
              switch (r) {
                case 0:
                  l.h.call(l.ctx)
                  break
                case 1:
                  l.h.call(l.ctx, e[0])
                  break
                case 2:
                  l.h.call(l.ctx, e[0], e[1])
                  break
                default:
                  l.h.apply(l.ctx, e)
              }
          }
        o && o.afterTrigger && o.afterTrigger(t)
      }
      return this
    }),
    (le.prototype.triggerWithContext = function(t) {
      for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n]
      if (this._$handlers) {
        var i = this._$handlers[t],
          o = this._$eventProcessor
        if (i)
          for (var r = e.length, a = e[r - 1], s = i.length, l = 0; l < s; l++) {
            var u = i[l]
            if (!o || !o.filter || null == u.query || o.filter(t, u.query))
              switch (r) {
                case 0:
                  u.h.call(a)
                  break
                case 1:
                  u.h.call(a, e[0])
                  break
                case 2:
                  u.h.call(a, e[0], e[1])
                  break
                default:
                  u.h.apply(a, e.slice(1, r - 1))
              }
          }
        o && o.afterTrigger && o.afterTrigger(t)
      }
      return this
    })
  var se = le
  function le(t) {
    t && (this._$eventProcessor = t)
  }
  var ue = Math.log(2)
  function he(t, e, n, i, o, r) {
    var a,
      s = i + '-' + o,
      l = t.length
    if (r.hasOwnProperty(s)) return r[s]
    if (1 === e) return (a = Math.round(Math.log(((1 << l) - 1) & ~o) / ue)), t[n][a]
    for (var u = i | (1 << n), h = n + 1; i & (1 << h); ) h++
    for (var c = 0, p = 0, d = 0; p < l; p++) {
      var f = 1 << p
      f & o || ((c += (d % 2 ? -1 : 1) * t[n][p] * he(t, e - 1, h, u, o | f, r)), d++)
    }
    return (r[s] = c)
  }
  function ce(t, e) {
    var n = [
        [t[0], t[1], 1, 0, 0, 0, -e[0] * t[0], -e[0] * t[1]],
        [0, 0, 0, t[0], t[1], 1, -e[1] * t[0], -e[1] * t[1]],
        [t[2], t[3], 1, 0, 0, 0, -e[2] * t[2], -e[2] * t[3]],
        [0, 0, 0, t[2], t[3], 1, -e[3] * t[2], -e[3] * t[3]],
        [t[4], t[5], 1, 0, 0, 0, -e[4] * t[4], -e[4] * t[5]],
        [0, 0, 0, t[4], t[5], 1, -e[5] * t[4], -e[5] * t[5]],
        [t[6], t[7], 1, 0, 0, 0, -e[6] * t[6], -e[6] * t[7]],
        [0, 0, 0, t[6], t[7], 1, -e[7] * t[6], -e[7] * t[7]],
      ],
      i = {},
      o = he(n, 8, 0, 0, 0, i)
    if (0 !== o) {
      for (var r = [], a = 0; a < 8; a++)
        for (var s = 0; s < 8; s++)
          null == r[s] && (r[s] = 0), (r[s] += ((((a + s) % 2 ? -1 : 1) * he(n, 7, 0 === a ? 1 : 0, 1 << a, 1 << s, i)) / o) * e[a])
      return function(t, e, n) {
        var i = e * r[6] + n * r[7] + 1
        ;(t[0] = (e * r[0] + n * r[1] + r[2]) / i), (t[1] = (e * r[3] + n * r[4] + r[5]) / i)
      }
    }
  }
  var pe = '___zrEVENTSAVED',
    de = []
  function fe(t, e, n, i, o) {
    if (e.getBoundingClientRect && b.domSupported && !ge(e)) {
      var r = e[pe] || (e[pe] = {}),
        e = (function(t, e, n) {
          for (var i = n ? 'invTrans' : 'trans', o = e[i], r = e.srcCoords, a = [], s = [], l = !0, u = 0; u < 4; u++) {
            var h = t[u].getBoundingClientRect(),
              c = 2 * u,
              p = h.left,
              h = h.top
            a.push(p, h), (l = l && r && p === r[c] && h === r[1 + c]), s.push(t[u].offsetLeft, t[u].offsetTop)
          }
          return l && o ? o : ((e.srcCoords = a), (e[i] = n ? ce(s, a) : ce(a, s)))
        })(
          (function(t, e) {
            var n = e.markers
            if (!n) {
              n = e.markers = []
              for (var i = ['left', 'right'], o = ['top', 'bottom'], r = 0; r < 4; r++) {
                var a = document.createElement('div'),
                  s = a.style,
                  l = r % 2,
                  u = (r >> 1) % 2
                ;(s.cssText = [
                  'position: absolute',
                  'visibility: hidden',
                  'padding: 0',
                  'margin: 0',
                  'border-width: 0',
                  'user-select: none',
                  'width:0',
                  'height:0',
                  i[l] + ':0',
                  o[u] + ':0',
                  i[1 - l] + ':auto',
                  o[1 - u] + ':auto',
                  '',
                ].join('!important;')),
                  t.appendChild(a),
                  n.push(a)
              }
            }
            return n
          })(e, r),
          r,
          o
        )
      if (e) return e(t, n, i), !0
    }
    return !1
  }
  function ge(t) {
    return 'CANVAS' === t.nodeName.toUpperCase()
  }
  var ye = /([&<>"'])/g,
    me = { '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#39;' }
  function ve(t) {
    return null == t
      ? ''
      : (t + '').replace(ye, function(t, e) {
          return me[e]
        })
  }
  var _e = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
    xe = [],
    we = b.browser.firefox && +b.browser.version.split('.')[0] < 39
  function be(t, e, n, i) {
    return (
      (n = n || {}),
      i
        ? Se(t, e, n)
        : we && null != e.layerX && e.layerX !== e.offsetX
        ? ((n.zrX = e.layerX), (n.zrY = e.layerY))
        : null != e.offsetX
        ? ((n.zrX = e.offsetX), (n.zrY = e.offsetY))
        : Se(t, e, n),
      n
    )
  }
  function Se(t, e, n) {
    if (b.domSupported && t.getBoundingClientRect) {
      var i,
        o = e.clientX,
        e = e.clientY
      if (ge(t)) return (i = t.getBoundingClientRect()), (n.zrX = o - i.left), void (n.zrY = e - i.top)
      if (fe(xe, t, o, e)) return (n.zrX = xe[0]), void (n.zrY = xe[1])
    }
    n.zrX = n.zrY = 0
  }
  function Me(t) {
    return t || window.event
  }
  function Te(t, e, n) {
    var i
    return (
      null == (e = Me(e)).zrX &&
        ((i = e.type) && 0 <= i.indexOf('touch')
          ? (i = ('touchend' !== i ? e.targetTouches : e.changedTouches)[0]) && be(t, i, e, n)
          : (be(t, e, e, n),
            (i = (function(t) {
              var e = t.wheelDelta
              if (e) return e
              var n = t.deltaX,
                t = t.deltaY
              return null != n && null != t ? 3 * (0 !== t ? Math.abs(t) : Math.abs(n)) * (0 < t || (!(t < 0) && 0 < n) ? -1 : 1) : e
            })(e)),
            (e.zrDelta = i ? i / 120 : -(e.detail || 0) / 3)),
        (t = e.button),
        null == e.which && void 0 !== t && _e.test(e.type)) &&
        (e.which = 1 & t ? 1 : 2 & t ? 3 : 4 & t ? 2 : 0),
      e
    )
  }
  var Ie = function(t) {
    t.preventDefault(), t.stopPropagation(), (t.cancelBubble = !0)
  }
  function Ce(t) {
    return 2 === t.which || 3 === t.which
  }
  ;(De.prototype.recognize = function(t, e, n) {
    return this._doTrack(t, e, n), this._recognize(t)
  }),
    (De.prototype.clear = function() {
      return (this._track.length = 0), this
    }),
    (De.prototype._doTrack = function(t, e, n) {
      var i = t.touches
      if (i) {
        for (var o = { points: [], touches: [], target: e, event: t }, r = 0, a = i.length; r < a; r++) {
          var s = i[r],
            l = be(n, s, {})
          o.points.push([l.zrX, l.zrY]), o.touches.push(s)
        }
        this._track.push(o)
      }
    }),
    (De.prototype._recognize = function(t) {
      for (var e in Le)
        if (Le.hasOwnProperty(e)) {
          e = Le[e](this._track, t)
          if (e) return e
        }
    })
  var Ae = De
  function De() {
    this._track = []
  }
  function ke(t) {
    var e = t[1][0] - t[0][0],
      t = t[1][1] - t[0][1]
    return Math.sqrt(e * e + t * t)
  }
  var Le = {
    pinch: function(t, e) {
      var n,
        i = t.length
      if (i)
        return (
          (n = (t[i - 1] || {}).points),
          (i = (t[i - 2] || {}).points || n) && 1 < i.length && n && 1 < n.length
            ? ((i = ke(n) / ke(i)),
              isFinite(i) || (i = 1),
              (e.pinchScale = i),
              (i = [(n[0][0] + n[1][0]) / 2, (n[0][1] + n[1][1]) / 2]),
              (e.pinchX = i[0]),
              (e.pinchY = i[1]),
              { type: 'pinch', target: t[0].target, event: e })
            : void 0
        )
    },
  }
  function Pe() {
    return [1, 0, 0, 1, 0, 0]
  }
  function Oe(t) {
    return (t[0] = 1), (t[1] = 0), (t[2] = 0), (t[3] = 1), (t[4] = 0), (t[5] = 0), t
  }
  function Re(t, e) {
    return (t[0] = e[0]), (t[1] = e[1]), (t[2] = e[2]), (t[3] = e[3]), (t[4] = e[4]), (t[5] = e[5]), t
  }
  function Ne(t, e, n) {
    var i = e[0] * n[0] + e[2] * n[1],
      o = e[1] * n[0] + e[3] * n[1],
      r = e[0] * n[2] + e[2] * n[3],
      a = e[1] * n[2] + e[3] * n[3],
      s = e[0] * n[4] + e[2] * n[5] + e[4],
      n = e[1] * n[4] + e[3] * n[5] + e[5]
    return (t[0] = i), (t[1] = o), (t[2] = r), (t[3] = a), (t[4] = s), (t[5] = n), t
  }
  function Ee(t, e, n) {
    return (t[0] = e[0]), (t[1] = e[1]), (t[2] = e[2]), (t[3] = e[3]), (t[4] = e[4] + n[0]), (t[5] = e[5] + n[1]), t
  }
  function ze(t, e, n, i) {
    void 0 === i && (i = [0, 0])
    var o = e[0],
      r = e[2],
      a = e[4],
      s = e[1],
      l = e[3],
      e = e[5],
      u = Math.sin(n),
      n = Math.cos(n)
    return (
      (t[0] = o * n + s * u),
      (t[1] = -o * u + s * n),
      (t[2] = r * n + l * u),
      (t[3] = -r * u + n * l),
      (t[4] = n * (a - i[0]) + u * (e - i[1]) + i[0]),
      (t[5] = n * (e - i[1]) - u * (a - i[0]) + i[1]),
      t
    )
  }
  function Be(t, e, n) {
    var i = n[0],
      n = n[1]
    return (t[0] = e[0] * i), (t[1] = e[1] * n), (t[2] = e[2] * i), (t[3] = e[3] * n), (t[4] = e[4] * i), (t[5] = e[5] * n), t
  }
  function Ve(t, e) {
    var n = e[0],
      i = e[2],
      o = e[4],
      r = e[1],
      a = e[3],
      e = e[5],
      s = n * a - r * i
    return s
      ? ((t[0] = a * (s = 1 / s)),
        (t[1] = -r * s),
        (t[2] = -i * s),
        (t[3] = n * s),
        (t[4] = (i * e - a * o) * s),
        (t[5] = (r * o - n * e) * s),
        t)
      : null
  }
  var Fe = Object.freeze({
      __proto__: null,
      clone: function(t) {
        var e = Pe()
        return Re(e, t), e
      },
      copy: Re,
      create: Pe,
      identity: Oe,
      invert: Ve,
      mul: Ne,
      rotate: ze,
      scale: Be,
      translate: Ee,
    }),
    G =
      ((He.prototype.copy = function(t) {
        return (this.x = t.x), (this.y = t.y), this
      }),
      (He.prototype.clone = function() {
        return new He(this.x, this.y)
      }),
      (He.prototype.set = function(t, e) {
        return (this.x = t), (this.y = e), this
      }),
      (He.prototype.equal = function(t) {
        return t.x === this.x && t.y === this.y
      }),
      (He.prototype.add = function(t) {
        return (this.x += t.x), (this.y += t.y), this
      }),
      (He.prototype.scale = function(t) {
        ;(this.x *= t), (this.y *= t)
      }),
      (He.prototype.scaleAndAdd = function(t, e) {
        ;(this.x += t.x * e), (this.y += t.y * e)
      }),
      (He.prototype.sub = function(t) {
        return (this.x -= t.x), (this.y -= t.y), this
      }),
      (He.prototype.dot = function(t) {
        return this.x * t.x + this.y * t.y
      }),
      (He.prototype.len = function() {
        return Math.sqrt(this.x * this.x + this.y * this.y)
      }),
      (He.prototype.lenSquare = function() {
        return this.x * this.x + this.y * this.y
      }),
      (He.prototype.normalize = function() {
        var t = this.len()
        return (this.x /= t), (this.y /= t), this
      }),
      (He.prototype.distance = function(t) {
        var e = this.x - t.x,
          t = this.y - t.y
        return Math.sqrt(e * e + t * t)
      }),
      (He.prototype.distanceSquare = function(t) {
        var e = this.x - t.x,
          t = this.y - t.y
        return e * e + t * t
      }),
      (He.prototype.negate = function() {
        return (this.x = -this.x), (this.y = -this.y), this
      }),
      (He.prototype.transform = function(t) {
        var e, n
        if (t) return (e = this.x), (n = this.y), (this.x = t[0] * e + t[2] * n + t[4]), (this.y = t[1] * e + t[3] * n + t[5]), this
      }),
      (He.prototype.toArray = function(t) {
        return (t[0] = this.x), (t[1] = this.y), t
      }),
      (He.prototype.fromArray = function(t) {
        ;(this.x = t[0]), (this.y = t[1])
      }),
      (He.set = function(t, e, n) {
        ;(t.x = e), (t.y = n)
      }),
      (He.copy = function(t, e) {
        ;(t.x = e.x), (t.y = e.y)
      }),
      (He.len = function(t) {
        return Math.sqrt(t.x * t.x + t.y * t.y)
      }),
      (He.lenSquare = function(t) {
        return t.x * t.x + t.y * t.y
      }),
      (He.dot = function(t, e) {
        return t.x * e.x + t.y * e.y
      }),
      (He.add = function(t, e, n) {
        ;(t.x = e.x + n.x), (t.y = e.y + n.y)
      }),
      (He.sub = function(t, e, n) {
        ;(t.x = e.x - n.x), (t.y = e.y - n.y)
      }),
      (He.scale = function(t, e, n) {
        ;(t.x = e.x * n), (t.y = e.y * n)
      }),
      (He.scaleAndAdd = function(t, e, n, i) {
        ;(t.x = e.x + n.x * i), (t.y = e.y + n.y * i)
      }),
      (He.lerp = function(t, e, n, i) {
        var o = 1 - i
        ;(t.x = o * e.x + i * n.x), (t.y = o * e.y + i * n.y)
      }),
      He)
  function He(t, e) {
    ;(this.x = t || 0), (this.y = e || 0)
  }
  var Ge = Math.min,
    We = Math.max,
    Ue = new G(),
    Ye = new G(),
    Xe = new G(),
    Ze = new G(),
    qe = new G(),
    je = new G(),
    Y =
      ((Ke.prototype.union = function(t) {
        var e = Ge(t.x, this.x),
          n = Ge(t.y, this.y)
        isFinite(this.x) && isFinite(this.width) ? (this.width = We(t.x + t.width, this.x + this.width) - e) : (this.width = t.width),
          isFinite(this.y) && isFinite(this.height)
            ? (this.height = We(t.y + t.height, this.y + this.height) - n)
            : (this.height = t.height),
          (this.x = e),
          (this.y = n)
      }),
      (Ke.prototype.applyTransform = function(t) {
        Ke.applyTransform(this, this, t)
      }),
      (Ke.prototype.calculateTransform = function(t) {
        var e = t.width / this.width,
          n = t.height / this.height,
          i = Pe()
        return Ee(i, i, [-this.x, -this.y]), Be(i, i, [e, n]), Ee(i, i, [t.x, t.y]), i
      }),
      (Ke.prototype.intersect = function(t, e) {
        if (!t) return !1
        t instanceof Ke || (t = Ke.create(t))
        var n,
          i,
          o,
          r,
          a,
          s,
          l,
          u,
          h = this,
          c = h.x,
          p = h.x + h.width,
          d = h.y,
          h = h.y + h.height,
          f = t.x,
          g = t.x + t.width,
          y = t.y,
          t = t.y + t.height,
          m = !(p < f || g < c || h < y || t < d)
        return (
          e &&
            ((n = 1 / 0),
            (i = 0),
            (o = Math.abs(p - f)),
            (r = Math.abs(g - c)),
            (a = Math.abs(h - y)),
            (s = Math.abs(t - d)),
            (l = Math.min(o, r)),
            (u = Math.min(a, s)),
            p < f || g < c
              ? i < l && ((i = l), o < r ? G.set(je, -o, 0) : G.set(je, r, 0))
              : l < n && ((n = l), o < r ? G.set(qe, o, 0) : G.set(qe, -r, 0)),
            h < y || t < d
              ? i < u && ((i = u), a < s ? G.set(je, 0, -a) : G.set(je, 0, s))
              : l < n && ((n = l), a < s ? G.set(qe, 0, a) : G.set(qe, 0, -s))),
          e && G.copy(e, m ? qe : je),
          m
        )
      }),
      (Ke.prototype.contain = function(t, e) {
        var n = this
        return t >= n.x && t <= n.x + n.width && e >= n.y && e <= n.y + n.height
      }),
      (Ke.prototype.clone = function() {
        return new Ke(this.x, this.y, this.width, this.height)
      }),
      (Ke.prototype.copy = function(t) {
        Ke.copy(this, t)
      }),
      (Ke.prototype.plain = function() {
        return { x: this.x, y: this.y, width: this.width, height: this.height }
      }),
      (Ke.prototype.isFinite = function() {
        return isFinite(this.x) && isFinite(this.y) && isFinite(this.width) && isFinite(this.height)
      }),
      (Ke.prototype.isZero = function() {
        return 0 === this.width || 0 === this.height
      }),
      (Ke.create = function(t) {
        return new Ke(t.x, t.y, t.width, t.height)
      }),
      (Ke.copy = function(t, e) {
        ;(t.x = e.x), (t.y = e.y), (t.width = e.width), (t.height = e.height)
      }),
      (Ke.applyTransform = function(t, e, n) {
        var i, o, r, a
        n
          ? n[1] < 1e-5 && -1e-5 < n[1] && n[2] < 1e-5 && -1e-5 < n[2]
            ? ((i = n[0]),
              (o = n[3]),
              (r = n[4]),
              (a = n[5]),
              (t.x = e.x * i + r),
              (t.y = e.y * o + a),
              (t.width = e.width * i),
              (t.height = e.height * o),
              t.width < 0 && ((t.x += t.width), (t.width = -t.width)),
              t.height < 0 && ((t.y += t.height), (t.height = -t.height)))
            : ((Ue.x = Xe.x = e.x),
              (Ue.y = Ze.y = e.y),
              (Ye.x = Ze.x = e.x + e.width),
              (Ye.y = Xe.y = e.y + e.height),
              Ue.transform(n),
              Ze.transform(n),
              Ye.transform(n),
              Xe.transform(n),
              (t.x = Ge(Ue.x, Ye.x, Xe.x, Ze.x)),
              (t.y = Ge(Ue.y, Ye.y, Xe.y, Ze.y)),
              (r = We(Ue.x, Ye.x, Xe.x, Ze.x)),
              (a = We(Ue.y, Ye.y, Xe.y, Ze.y)),
              (t.width = r - t.x),
              (t.height = a - t.y))
          : t !== e && Ke.copy(t, e)
      }),
      Ke)
  function Ke(t, e, n, i) {
    n < 0 && ((t += n), (n = -n)), i < 0 && ((e += i), (i = -i)), (this.x = t), (this.y = e), (this.width = n), (this.height = i)
  }
  var $e = 'silent'
  function Qe() {
    Ie(this.event)
  }
  u(en, (Je = se)), (en.prototype.dispose = function() {}), (en.prototype.setCursor = function() {})
  var Je,
    tn = en
  function en() {
    var t = (null !== Je && Je.apply(this, arguments)) || this
    return (t.handler = null), t
  }
  var nn,
    on = function(t, e) {
      ;(this.x = t), (this.y = e)
    },
    rn = ['click', 'dblclick', 'mousewheel', 'mouseout', 'mouseup', 'mousedown', 'mousemove', 'contextmenu'],
    an = new Y(0, 0, 0, 0),
    sn =
      (u(ln, (nn = se)),
      (ln.prototype.setHandlerProxy = function(e) {
        this.proxy && this.proxy.dispose(),
          e &&
            (E(
              rn,
              function(t) {
                e.on && e.on(t, this[t], this)
              },
              this
            ),
            (e.handler = this)),
          (this.proxy = e)
      }),
      (ln.prototype.mousemove = function(t) {
        var e = t.zrX,
          n = t.zrY,
          i = hn(this, e, n),
          o = this._hovered,
          r = o.target,
          i = (r && !r.__zr && (r = (o = this.findHover(o.x, o.y)).target), (this._hovered = i ? new on(e, n) : this.findHover(e, n))),
          e = i.target,
          n = this.proxy
        n.setCursor && n.setCursor(e ? e.cursor : 'default'),
          r && e !== r && this.dispatchToElement(o, 'mouseout', t),
          this.dispatchToElement(i, 'mousemove', t),
          e && e !== r && this.dispatchToElement(i, 'mouseover', t)
      }),
      (ln.prototype.mouseout = function(t) {
        var e = t.zrEventControl
        'only_globalout' !== e && this.dispatchToElement(this._hovered, 'mouseout', t),
          'no_globalout' !== e && this.trigger('globalout', { type: 'globalout', event: t })
      }),
      (ln.prototype.resize = function() {
        this._hovered = new on(0, 0)
      }),
      (ln.prototype.dispatch = function(t, e) {
        t = this[t]
        t && t.call(this, e)
      }),
      (ln.prototype.dispose = function() {
        this.proxy.dispose(), (this.storage = null), (this.proxy = null), (this.painter = null)
      }),
      (ln.prototype.setCursorStyle = function(t) {
        var e = this.proxy
        e.setCursor && e.setCursor(t)
      }),
      (ln.prototype.dispatchToElement = function(t, e, n) {
        var i = (t = t || {}).target
        if (!i || !i.silent) {
          for (
            var o = 'on' + e,
              r = {
                type: e,
                event: n,
                target: (t = t).target,
                topTarget: t.topTarget,
                cancelBubble: !1,
                offsetX: n.zrX,
                offsetY: n.zrY,
                gestureEvent: n.gestureEvent,
                pinchX: n.pinchX,
                pinchY: n.pinchY,
                pinchScale: n.pinchScale,
                wheelDelta: n.zrDelta,
                zrByTouch: n.zrByTouch,
                which: n.which,
                stop: Qe,
              };
            i && (i[o] && (r.cancelBubble = !!i[o].call(i, r)), i.trigger(e, r), (i = i.__hostTarget || i.parent), !r.cancelBubble);

          );
          r.cancelBubble ||
            (this.trigger(e, r),
            this.painter &&
              this.painter.eachOtherLayer &&
              this.painter.eachOtherLayer(function(t) {
                'function' == typeof t[o] && t[o].call(t, r), t.trigger && t.trigger(e, r)
              }))
        }
      }),
      (ln.prototype.findHover = function(t, e, n) {
        var i = this.storage.getDisplayList(),
          o = new on(t, e)
        if ((un(i, o, t, e, n), this._pointerSize && !o.target)) {
          for (var r = [], a = this._pointerSize, s = a / 2, l = new Y(t - s, e - s, a, a), u = i.length - 1; 0 <= u; u--) {
            var h = i[u]
            h === n ||
              h.ignore ||
              h.ignoreCoarsePointer ||
              (h.parent && h.parent.ignoreCoarsePointer) ||
              (an.copy(h.getBoundingRect()), h.transform && an.applyTransform(h.transform), an.intersect(l) && r.push(h))
          }
          if (r.length)
            for (var c = Math.PI / 12, p = 2 * Math.PI, d = 0; d < s; d += 4)
              for (var f = 0; f < p; f += c) if ((un(r, o, t + d * Math.cos(f), e + d * Math.sin(f), n), o.target)) return o
        }
        return o
      }),
      (ln.prototype.processGesture = function(t, e) {
        this._gestureMgr || (this._gestureMgr = new Ae())
        var n = this._gestureMgr,
          i = ('start' === e && n.clear(), n.recognize(t, this.findHover(t.zrX, t.zrY, null).target, this.proxy.dom))
        'end' === e && n.clear(),
          i && ((e = i.type), (t.gestureEvent = e), ((n = new on()).target = i.target), this.dispatchToElement(n, e, i.event))
      }),
      ln)
  function ln(t, e, n, i, o) {
    var r = nn.call(this) || this
    return (
      (r._hovered = new on(0, 0)),
      (r.storage = t),
      (r.painter = e),
      (r.painterRoot = i),
      (r._pointerSize = o),
      (n = n || new tn()),
      (r.proxy = null),
      r.setHandlerProxy(n),
      (r._draggingMgr = new re(r)),
      r
    )
  }
  function un(t, e, n, i, o) {
    for (var r = t.length - 1; 0 <= r; r--) {
      var a = t[r],
        s = void 0
      if (
        a !== o &&
        !a.ignore &&
        (s = (function(t, e, n) {
          if (t[t.rectHover ? 'rectContain' : 'contain'](e, n)) {
            for (var i = t, o = void 0, r = !1; i; ) {
              if (!(r = i.ignoreClip ? !0 : r)) {
                var a = i.getClipPath()
                if (a && !a.contain(e, n)) return !1
              }
              i.silent && (o = !0)
              ;(a = i.__hostTarget), (i = a || i.parent)
            }
            return !o || $e
          }
          return !1
        })(a, n, i)) &&
        (e.topTarget || (e.topTarget = a), s !== $e)
      ) {
        e.target = a
        break
      }
    }
  }
  function hn(t, e, n) {
    t = t.painter
    return e < 0 || e > t.getWidth() || n < 0 || n > t.getHeight()
  }
  E(['click', 'mousedown', 'mouseup', 'mousewheel', 'dblclick', 'contextmenu'], function(a) {
    sn.prototype[a] = function(t) {
      var e,
        n,
        i = t.zrX,
        o = t.zrY,
        r = hn(this, i, o)
      if ((('mouseup' === a && r) || (n = (e = this.findHover(i, o)).target), 'mousedown' === a))
        (this._downEl = n), (this._downPoint = [t.zrX, t.zrY]), (this._upEl = n)
      else if ('mouseup' === a) this._upEl = n
      else if ('click' === a) {
        if (this._downEl !== this._upEl || !this._downPoint || 4 < Kt(this._downPoint, [t.zrX, t.zrY])) return
        this._downPoint = null
      }
      this.dispatchToElement(e, a, t)
    }
  })
  var cn = 32,
    pn = 7
  function dn(t, e, n, i) {
    var o = e + 1
    if (o === n) return 1
    if (i(t[o++], t[e]) < 0) {
      for (; o < n && i(t[o], t[o - 1]) < 0; ) o++
      var r = t,
        a = e,
        s = o
      for (s--; a < s; ) {
        var l = r[a]
        ;(r[a++] = r[s]), (r[s--] = l)
      }
    } else for (; o < n && 0 <= i(t[o], t[o - 1]); ) o++
    return o - e
  }
  function fn(t, e, n, i, o) {
    for (i === e && i++; i < n; i++) {
      for (var r, a = t[i], s = e, l = i; s < l; ) o(a, t[(r = (s + l) >>> 1)]) < 0 ? (l = r) : (s = 1 + r)
      var u = i - s
      switch (u) {
        case 3:
          t[s + 3] = t[s + 2]
        case 2:
          t[s + 2] = t[s + 1]
        case 1:
          t[s + 1] = t[s]
          break
        default:
          for (; 0 < u; ) (t[s + u] = t[s + u - 1]), u--
      }
      t[s] = a
    }
  }
  function gn(t, e, n, i, o, r) {
    var a = 0,
      s = 0,
      l = 1
    if (0 < r(t, e[n + o])) {
      for (s = i - o; l < s && 0 < r(t, e[n + o + l]); ) (l = 1 + ((a = l) << 1)) <= 0 && (l = s)
      s < l && (l = s), (a += o), (l += o)
    } else {
      for (s = o + 1; l < s && r(t, e[n + o - l]) <= 0; ) (l = 1 + ((a = l) << 1)) <= 0 && (l = s)
      ;(i = a), (a = o - (l = s < l ? s : l)), (l = o - i)
    }
    for (a++; a < l; ) {
      var u = a + ((l - a) >>> 1)
      0 < r(t, e[n + u]) ? (a = u + 1) : (l = u)
    }
    return l
  }
  function yn(t, e, n, i, o, r) {
    var a = 0,
      s = 0,
      l = 1
    if (r(t, e[n + o]) < 0) {
      for (s = o + 1; l < s && r(t, e[n + o - l]) < 0; ) (l = 1 + ((a = l) << 1)) <= 0 && (l = s)
      var u = a,
        a = o - (l = s < l ? s : l),
        l = o - u
    } else {
      for (s = i - o; l < s && 0 <= r(t, e[n + o + l]); ) (l = 1 + ((a = l) << 1)) <= 0 && (l = s)
      s < l && (l = s), (a += o), (l += o)
    }
    for (a++; a < l; ) {
      var h = a + ((l - a) >>> 1)
      r(t, e[n + h]) < 0 ? (l = h) : (a = h + 1)
    }
    return l
  }
  function mn(k, L) {
    var P,
      O,
      R = pn,
      N = 0,
      E = []
    function e(t) {
      var e = P[t],
        n = O[t],
        i = P[t + 1],
        o = O[t + 1],
        t = ((O[t] = n + o), t === N - 3 && ((P[t + 1] = P[t + 2]), (O[t + 1] = O[t + 2])), N--, yn(k[i], k, e, n, 0, L))
      if (((e += t), 0 != (n -= t) && 0 !== (o = gn(k[e + n - 1], k, i, o, o - 1, L))))
        if (n <= o) {
          var r = e,
            a = n,
            t = i,
            s = o,
            l = 0
          for (l = 0; l < a; l++) E[l] = k[r + l]
          var u = 0,
            h = t,
            c = r
          if (((k[c++] = k[h++]), 0 == --s)) for (l = 0; l < a; l++) k[c + l] = E[u + l]
          else if (1 === a) {
            for (l = 0; l < s; l++) k[c + l] = k[h + l]
            k[c + s] = E[u]
          } else {
            for (var p, d, f, g = R; ; ) {
              ;(d = p = 0), (f = !1)
              do {
                if (L(k[h], E[u]) < 0) {
                  if (((k[c++] = k[h++]), d++, (p = 0) == --s)) {
                    f = !0
                    break
                  }
                } else if (((k[c++] = E[u++]), p++, (d = 0), 1 == --a)) {
                  f = !0
                  break
                }
              } while ((p | d) < g)
              if (f) break
              do {
                if (0 !== (p = yn(k[h], E, u, a, 0, L))) {
                  for (l = 0; l < p; l++) k[c + l] = E[u + l]
                  if (((c += p), (u += p), (a -= p) <= 1)) {
                    f = !0
                    break
                  }
                }
                if (((k[c++] = k[h++]), 0 == --s)) {
                  f = !0
                  break
                }
                if (0 !== (d = gn(E[u], k, h, s, 0, L))) {
                  for (l = 0; l < d; l++) k[c + l] = k[h + l]
                  if (((c += d), (h += d), 0 === (s -= d))) {
                    f = !0
                    break
                  }
                }
                if (((k[c++] = E[u++]), 1 == --a)) {
                  f = !0
                  break
                }
              } while ((g--, pn <= p || pn <= d))
              if (f) break
              g < 0 && (g = 0), (g += 2)
            }
            if (((R = g) < 1 && (R = 1), 1 === a)) {
              for (l = 0; l < s; l++) k[c + l] = k[h + l]
              k[c + s] = E[u]
            } else {
              if (0 === a) throw new Error()
              for (l = 0; l < a; l++) k[c + l] = E[u + l]
            }
          }
        } else {
          var y = e,
            m = n,
            v = i,
            _ = o,
            x = 0
          for (x = 0; x < _; x++) E[x] = k[v + x]
          var w = y + m - 1,
            b = _ - 1,
            S = v + _ - 1,
            M = 0,
            T = 0
          if (((k[S--] = k[w--]), 0 == --m)) for (M = S - (_ - 1), x = 0; x < _; x++) k[M + x] = E[x]
          else if (1 === _) {
            for (T = (S -= m) + 1, M = (w -= m) + 1, x = m - 1; 0 <= x; x--) k[T + x] = k[M + x]
            k[S] = E[b]
          } else {
            for (var I = R; ; ) {
              var C = 0,
                A = 0,
                D = !1
              do {
                if (L(E[b], k[w]) < 0) {
                  if (((k[S--] = k[w--]), C++, (A = 0) == --m)) {
                    D = !0
                    break
                  }
                } else if (((k[S--] = E[b--]), A++, (C = 0), 1 == --_)) {
                  D = !0
                  break
                }
              } while ((C | A) < I)
              if (D) break
              do {
                if (0 !== (C = m - yn(E[b], k, y, m, m - 1, L))) {
                  for (m -= C, T = (S -= C) + 1, M = (w -= C) + 1, x = C - 1; 0 <= x; x--) k[T + x] = k[M + x]
                  if (0 === m) {
                    D = !0
                    break
                  }
                }
                if (((k[S--] = E[b--]), 1 == --_)) {
                  D = !0
                  break
                }
                if (0 !== (A = _ - gn(k[w], E, 0, _, _ - 1, L))) {
                  for (_ -= A, T = (S -= A) + 1, M = (b -= A) + 1, x = 0; x < A; x++) k[T + x] = E[M + x]
                  if (_ <= 1) {
                    D = !0
                    break
                  }
                }
                if (((k[S--] = k[w--]), 0 == --m)) {
                  D = !0
                  break
                }
              } while ((I--, pn <= C || pn <= A))
              if (D) break
              I < 0 && (I = 0), (I += 2)
            }
            if (((R = I) < 1 && (R = 1), 1 === _)) {
              for (T = (S -= m) + 1, M = (w -= m) + 1, x = m - 1; 0 <= x; x--) k[T + x] = k[M + x]
              k[S] = E[b]
            } else {
              if (0 === _) throw new Error()
              for (M = S - (_ - 1), x = 0; x < _; x++) k[M + x] = E[x]
            }
          }
        }
    }
    return (
      (P = []),
      (O = []),
      {
        mergeRuns: function() {
          for (; 1 < N; ) {
            var t = N - 2
            if ((1 <= t && O[t - 1] <= O[t] + O[t + 1]) || (2 <= t && O[t - 2] <= O[t] + O[t - 1])) O[t - 1] < O[t + 1] && t--
            else if (O[t] > O[t + 1]) break
            e(t)
          }
        },
        forceMergeRuns: function() {
          for (; 1 < N; ) {
            var t = N - 2
            0 < t && O[t - 1] < O[t + 1] && t--, e(t)
          }
        },
        pushRun: function(t, e) {
          ;(P[N] = t), (O[N] = e), (N += 1)
        },
      }
    )
  }
  function vn(t, e, n, i) {
    var o = (i = i || t.length) - (n = n || 0)
    if (!(o < 2)) {
      var r = 0
      if (o < cn) fn(t, n, i, n + (r = dn(t, n, i, e)), e)
      else {
        var a,
          s = mn(t, e),
          l = (function(t) {
            for (var e = 0; cn <= t; ) (e |= 1 & t), (t >>= 1)
            return t + e
          })(o)
        do {} while (
          ((r = dn(t, n, i, e)) < l && (fn(t, n, n + (a = l < (a = o) ? l : o), n + r, e), (r = a)),
          s.pushRun(n, r),
          s.mergeRuns(),
          (n += r),
          0 !== (o -= r))
        )
        s.forceMergeRuns()
      }
    }
  }
  var _n = 1,
    xn = 4,
    wn = !1
  function bn() {
    wn || ((wn = !0), console.warn('z / z2 / zlevel of displayable is invalid, which may cause unexpected errors'))
  }
  function Sn(t, e) {
    return t.zlevel === e.zlevel ? (t.z === e.z ? t.z2 - e.z2 : t.z - e.z) : t.zlevel - e.zlevel
  }
  ;(Tn.prototype.traverse = function(t, e) {
    for (var n = 0; n < this._roots.length; n++) this._roots[n].traverse(t, e)
  }),
    (Tn.prototype.getDisplayList = function(t, e) {
      e = e || !1
      var n = this._displayList
      return (!t && n.length) || this.updateDisplayList(e), n
    }),
    (Tn.prototype.updateDisplayList = function(t) {
      this._displayListLen = 0
      for (var e = this._roots, n = this._displayList, i = 0, o = e.length; i < o; i++) this._updateAndAddDisplayable(e[i], null, t)
      ;(n.length = this._displayListLen), vn(n, Sn)
    }),
    (Tn.prototype._updateAndAddDisplayable = function(t, e, n) {
      if (!t.ignore || n) {
        t.beforeUpdate(), t.update(), t.afterUpdate()
        var i = t.getClipPath()
        if (t.ignoreClip) e = null
        else if (i) {
          e = e ? e.slice() : []
          for (var o = i, r = t; o; ) (o.parent = r), o.updateTransform(), e.push(o), (o = (r = o).getClipPath())
        }
        if (t.childrenRef) {
          for (var a = t.childrenRef(), s = 0; s < a.length; s++) {
            var l = a[s]
            t.__dirty && (l.__dirty |= _n), this._updateAndAddDisplayable(l, e, n)
          }
          t.__dirty = 0
        } else {
          i = t
          e && e.length ? (i.__clipPaths = e) : i.__clipPaths && 0 < i.__clipPaths.length && (i.__clipPaths = []),
            isNaN(i.z) && (bn(), (i.z = 0)),
            isNaN(i.z2) && (bn(), (i.z2 = 0)),
            isNaN(i.zlevel) && (bn(), (i.zlevel = 0)),
            (this._displayList[this._displayListLen++] = i)
        }
        ;(i = t.getDecalElement && t.getDecalElement()),
          (i = (i && this._updateAndAddDisplayable(i, e, n), t.getTextGuideLine())),
          (i = (i && this._updateAndAddDisplayable(i, e, n), t.getTextContent()))
        i && this._updateAndAddDisplayable(i, e, n)
      }
    }),
    (Tn.prototype.addRoot = function(t) {
      ;(t.__zr && t.__zr.storage === this) || this._roots.push(t)
    }),
    (Tn.prototype.delRoot = function(t) {
      if (t instanceof Array) for (var e = 0, n = t.length; e < n; e++) this.delRoot(t[e])
      else {
        var i = C(this._roots, t)
        0 <= i && this._roots.splice(i, 1)
      }
    }),
    (Tn.prototype.delAllRoots = function() {
      ;(this._roots = []), (this._displayList = []), (this._displayListLen = 0)
    }),
    (Tn.prototype.getRoots = function() {
      return this._roots
    }),
    (Tn.prototype.dispose = function() {
      ;(this._displayList = null), (this._roots = null)
    })
  var Mn = Tn
  function Tn() {
    ;(this._roots = []), (this._displayList = []), (this._displayListLen = 0), (this.displayableSortFunc = Sn)
  }
  var In =
      (b.hasGlobalWindow &&
        ((window.requestAnimationFrame && window.requestAnimationFrame.bind(window)) ||
          (window.msRequestAnimationFrame && window.msRequestAnimationFrame.bind(window)) ||
          window.mozRequestAnimationFrame ||
          window.webkitRequestAnimationFrame)) ||
      function(t) {
        return setTimeout(t, 16)
      },
    Cn = {
      linear: function(t) {
        return t
      },
      quadraticIn: function(t) {
        return t * t
      },
      quadraticOut: function(t) {
        return t * (2 - t)
      },
      quadraticInOut: function(t) {
        return (t *= 2) < 1 ? 0.5 * t * t : -0.5 * (--t * (t - 2) - 1)
      },
      cubicIn: function(t) {
        return t * t * t
      },
      cubicOut: function(t) {
        return --t * t * t + 1
      },
      cubicInOut: function(t) {
        return (t *= 2) < 1 ? 0.5 * t * t * t : 0.5 * ((t -= 2) * t * t + 2)
      },
      quarticIn: function(t) {
        return t * t * t * t
      },
      quarticOut: function(t) {
        return 1 - --t * t * t * t
      },
      quarticInOut: function(t) {
        return (t *= 2) < 1 ? 0.5 * t * t * t * t : -0.5 * ((t -= 2) * t * t * t - 2)
      },
      quinticIn: function(t) {
        return t * t * t * t * t
      },
      quinticOut: function(t) {
        return --t * t * t * t * t + 1
      },
      quinticInOut: function(t) {
        return (t *= 2) < 1 ? 0.5 * t * t * t * t * t : 0.5 * ((t -= 2) * t * t * t * t + 2)
      },
      sinusoidalIn: function(t) {
        return 1 - Math.cos((t * Math.PI) / 2)
      },
      sinusoidalOut: function(t) {
        return Math.sin((t * Math.PI) / 2)
      },
      sinusoidalInOut: function(t) {
        return 0.5 * (1 - Math.cos(Math.PI * t))
      },
      exponentialIn: function(t) {
        return 0 === t ? 0 : Math.pow(1024, t - 1)
      },
      exponentialOut: function(t) {
        return 1 === t ? 1 : 1 - Math.pow(2, -10 * t)
      },
      exponentialInOut: function(t) {
        return 0 === t ? 0 : 1 === t ? 1 : (t *= 2) < 1 ? 0.5 * Math.pow(1024, t - 1) : 0.5 * (2 - Math.pow(2, -10 * (t - 1)))
      },
      circularIn: function(t) {
        return 1 - Math.sqrt(1 - t * t)
      },
      circularOut: function(t) {
        return Math.sqrt(1 - --t * t)
      },
      circularInOut: function(t) {
        return (t *= 2) < 1 ? -0.5 * (Math.sqrt(1 - t * t) - 1) : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1)
      },
      elasticIn: function(t) {
        var e,
          n = 0.1
        return 0 === t
          ? 0
          : 1 === t
          ? 1
          : ((e = !n || n < 1 ? ((n = 1), 0.1) : (0.4 * Math.asin(1 / n)) / (2 * Math.PI)),
            -(n * Math.pow(2, 10 * --t) * Math.sin(((t - e) * (2 * Math.PI)) / 0.4)))
      },
      elasticOut: function(t) {
        var e,
          n = 0.1
        return 0 === t
          ? 0
          : 1 === t
          ? 1
          : ((e = !n || n < 1 ? ((n = 1), 0.1) : (0.4 * Math.asin(1 / n)) / (2 * Math.PI)),
            n * Math.pow(2, -10 * t) * Math.sin(((t - e) * (2 * Math.PI)) / 0.4) + 1)
      },
      elasticInOut: function(t) {
        var e,
          n = 0.1
        return 0 === t
          ? 0
          : 1 === t
          ? 1
          : ((e = !n || n < 1 ? ((n = 1), 0.1) : (0.4 * Math.asin(1 / n)) / (2 * Math.PI)),
            (t *= 2) < 1
              ? n * Math.pow(2, 10 * --t) * Math.sin(((t - e) * (2 * Math.PI)) / 0.4) * -0.5
              : n * Math.pow(2, -10 * --t) * Math.sin(((t - e) * (2 * Math.PI)) / 0.4) * 0.5 + 1)
      },
      backIn: function(t) {
        return t * t * (2.70158 * t - 1.70158)
      },
      backOut: function(t) {
        return --t * t * (2.70158 * t + 1.70158) + 1
      },
      backInOut: function(t) {
        var e = 2.5949095
        return (t *= 2) < 1 ? t * t * ((1 + e) * t - e) * 0.5 : 0.5 * ((t -= 2) * t * ((1 + e) * t + e) + 2)
      },
      bounceIn: function(t) {
        return 1 - Cn.bounceOut(1 - t)
      },
      bounceOut: function(t) {
        return t < 1 / 2.75
          ? 7.5625 * t * t
          : t < 2 / 2.75
          ? 7.5625 * (t -= 1.5 / 2.75) * t + 0.75
          : t < 2.5 / 2.75
          ? 7.5625 * (t -= 2.25 / 2.75) * t + 0.9375
          : 7.5625 * (t -= 2.625 / 2.75) * t + 0.984375
      },
      bounceInOut: function(t) {
        return t < 0.5 ? 0.5 * Cn.bounceIn(2 * t) : 0.5 * Cn.bounceOut(2 * t - 1) + 0.5
      },
    },
    An = Math.pow,
    Dn = Math.sqrt,
    kn = 1e-8,
    Ln = Dn(3),
    Pn = 1 / 3,
    On = Ht(),
    Rn = Ht(),
    Nn = Ht()
  function En(t) {
    return -kn < t && t < kn
  }
  function zn(t) {
    return kn < t || t < -kn
  }
  function Bn(t, e, n, i, o) {
    var r = 1 - o
    return r * r * (r * t + 3 * o * e) + o * o * (o * i + 3 * r * n)
  }
  function Vn(t, e, n, i, o) {
    var r = 1 - o
    return 3 * (((e - t) * r + 2 * (n - e) * o) * r + (i - n) * o * o)
  }
  function Fn(t, e, n, i, o, r) {
    var a,
      s,
      i = i + 3 * (e - n) - t,
      n = 3 * (n - 2 * e + t),
      e = 3 * (e - t),
      t = t - o,
      o = n * n - 3 * i * e,
      l = n * e - 9 * i * t,
      t = e * e - 3 * n * t,
      u = 0
    return (
      En(o) && En(l)
        ? En(n)
          ? (r[0] = 0)
          : 0 <= (a = -e / n) && a <= 1 && (r[u++] = a)
        : En((e = l * l - 4 * o * t))
        ? ((s = -(t = l / o) / 2), 0 <= (a = -n / i + t) && a <= 1 && (r[u++] = a), 0 <= s && s <= 1 && (r[u++] = s))
        : 0 < e
        ? ((e = o * n + 1.5 * i * (-l - (t = Dn(e)))),
          0 <=
            (a =
              (-n - ((t = (t = o * n + 1.5 * i * (-l + t)) < 0 ? -An(-t, Pn) : An(t, Pn)) + (e = e < 0 ? -An(-e, Pn) : An(e, Pn)))) /
              (3 * i)) &&
            a <= 1 &&
            (r[u++] = a))
        : ((t = (2 * o * n - 3 * i * l) / (2 * Dn(o * o * o))),
          (e = Math.acos(t) / 3),
          (a = (-n - 2 * (l = Dn(o)) * (t = Math.cos(e))) / (3 * i)),
          (s = (-n + l * (t + Ln * Math.sin(e))) / (3 * i)),
          (o = (-n + l * (t - Ln * Math.sin(e))) / (3 * i)),
          0 <= a && a <= 1 && (r[u++] = a),
          0 <= s && s <= 1 && (r[u++] = s),
          0 <= o && o <= 1 && (r[u++] = o)),
      u
    )
  }
  function Hn(t, e, n, i, o) {
    var r,
      a = 6 * n - 12 * e + 6 * t,
      i = 9 * e + 3 * i - 3 * t - 9 * n,
      n = 3 * e - 3 * t,
      e = 0
    return (
      En(i)
        ? zn(a) && 0 <= (r = -n / a) && r <= 1 && (o[e++] = r)
        : En((t = a * a - 4 * i * n))
        ? (o[0] = -a / (2 * i))
        : 0 < t &&
          ((t = (-a - (n = Dn(t))) / (2 * i)), 0 <= (r = (-a + n) / (2 * i)) && r <= 1 && (o[e++] = r), 0 <= t) &&
          t <= 1 &&
          (o[e++] = t),
      e
    )
  }
  function Gn(t, e, n, i, o, r) {
    var a = (e - t) * o + t,
      e = (n - e) * o + e,
      n = (i - n) * o + n,
      s = (e - a) * o + a,
      e = (n - e) * o + e,
      o = (e - s) * o + s
    ;(r[0] = t), (r[1] = a), (r[2] = s), (r[3] = o), (r[4] = o), (r[5] = e), (r[6] = n), (r[7] = i)
  }
  function Wn(t, e, n, i, o, r, a, s, l, u, h) {
    var c,
      p,
      d,
      f,
      g = 0.005,
      y = 1 / 0
    ;(On[0] = l), (On[1] = u)
    for (var m = 0; m < 1; m += 0.05) (Rn[0] = Bn(t, n, o, a, m)), (Rn[1] = Bn(e, i, r, s, m)), (d = Qt(On, Rn)) < y && ((c = m), (y = d))
    for (var y = 1 / 0, v = 0; v < 32 && !(g < 1e-4); v++)
      (p = c + g),
        (Rn[0] = Bn(t, n, o, a, (f = c - g))),
        (Rn[1] = Bn(e, i, r, s, f)),
        (d = Qt(Rn, On)),
        0 <= f && d < y
          ? ((c = f), (y = d))
          : ((Nn[0] = Bn(t, n, o, a, p)), (Nn[1] = Bn(e, i, r, s, p)), (f = Qt(Nn, On)), p <= 1 && f < y ? ((c = p), (y = f)) : (g *= 0.5))
    return h && ((h[0] = Bn(t, n, o, a, c)), (h[1] = Bn(e, i, r, s, c))), Dn(y)
  }
  function Un(t, e, n, i) {
    var o = 1 - i
    return o * (o * t + 2 * i * e) + i * i * n
  }
  function Yn(t, e, n, i) {
    return 2 * ((1 - i) * (e - t) + i * (n - e))
  }
  function Xn(t, e, n) {
    n = t + n - 2 * e
    return 0 == n ? 0.5 : (t - e) / n
  }
  function Zn(t, e, n, i, o) {
    var r = (e - t) * i + t,
      e = (n - e) * i + e,
      i = (e - r) * i + r
    ;(o[0] = t), (o[1] = r), (o[2] = i), (o[3] = i), (o[4] = e), (o[5] = n)
  }
  function qn(t, e, n, i, o, r, a, s, l) {
    var u,
      h = 0.005,
      c = 1 / 0
    ;(On[0] = a), (On[1] = s)
    for (var p = 0; p < 1; p += 0.05) (Rn[0] = Un(t, n, o, p)), (Rn[1] = Un(e, i, r, p)), (y = Qt(On, Rn)) < c && ((u = p), (c = y))
    for (var c = 1 / 0, d = 0; d < 32 && !(h < 1e-4); d++) {
      var f = u - h,
        g = u + h,
        y = ((Rn[0] = Un(t, n, o, f)), (Rn[1] = Un(e, i, r, f)), Qt(Rn, On))
      0 <= f && y < c
        ? ((u = f), (c = y))
        : ((Nn[0] = Un(t, n, o, g)), (Nn[1] = Un(e, i, r, g)), (f = Qt(Nn, On)), g <= 1 && f < c ? ((u = g), (c = f)) : (h *= 0.5))
    }
    return l && ((l[0] = Un(t, n, o, u)), (l[1] = Un(e, i, r, u))), Dn(c)
  }
  var jn = /cubic-bezier\(([0-9,\.e ]+)\)/
  function Kn(t) {
    t = t && jn.exec(t)
    if (t) {
      var e,
        t = t[1].split(','),
        n = +Tt(t[0]),
        i = +Tt(t[1]),
        o = +Tt(t[2]),
        r = +Tt(t[3])
      if (!isNaN(n + i + o + r))
        return (
          (e = []),
          function(t) {
            return t <= 0 ? 0 : 1 <= t ? 1 : Fn(0, n, o, 1, t, e) && Bn(0, i, r, 1, e[0])
          }
        )
    }
  }
  ;(Qn.prototype.step = function(t, e) {
    if ((this._inited || ((this._startTime = t + this._delay), (this._inited = !0)), !this._paused)) {
      var n = this._life,
        i = t - this._startTime - this._pausedTime,
        o = i / n,
        r = (o < 0 && (o = 0), (o = Math.min(o, 1)), this.easingFunc),
        r = r ? r(o) : o
      if ((this.onframe(r), 1 === o)) {
        if (!this.loop) return !0
        ;(this._startTime = t - (i % n)), (this._pausedTime = 0), this.onrestart()
      }
      return !1
    }
    this._pausedTime += e
  }),
    (Qn.prototype.pause = function() {
      this._paused = !0
    }),
    (Qn.prototype.resume = function() {
      this._paused = !1
    }),
    (Qn.prototype.setEasing = function(t) {
      ;(this.easing = t), (this.easingFunc = A(t) ? t : Cn[t] || Kn(t))
    })
  var $n = Qn
  function Qn(t) {
    ;(this._inited = !1),
      (this._startTime = 0),
      (this._pausedTime = 0),
      (this._paused = !1),
      (this._life = t.life || 1e3),
      (this._delay = t.delay || 0),
      (this.loop = t.loop || !1),
      (this.onframe = t.onframe || Bt),
      (this.ondestroy = t.ondestroy || Bt),
      (this.onrestart = t.onrestart || Bt),
      t.easing && this.setEasing(t.easing)
  }
  var Jn = function(t) {
      this.value = t
    },
    ti =
      ((ei.prototype.insert = function(t) {
        t = new Jn(t)
        return this.insertEntry(t), t
      }),
      (ei.prototype.insertEntry = function(t) {
        this.head ? (((this.tail.next = t).prev = this.tail), (t.next = null), (this.tail = t)) : (this.head = this.tail = t), this._len++
      }),
      (ei.prototype.remove = function(t) {
        var e = t.prev,
          n = t.next
        e ? (e.next = n) : (this.head = n), n ? (n.prev = e) : (this.tail = e), (t.next = t.prev = null), this._len--
      }),
      (ei.prototype.len = function() {
        return this._len
      }),
      (ei.prototype.clear = function() {
        ;(this.head = this.tail = null), (this._len = 0)
      }),
      ei)
  function ei() {
    this._len = 0
  }
  ;(ii.prototype.put = function(t, e) {
    var n,
      i,
      o = this._list,
      r = this._map,
      a = null
    return (
      null == r[t] &&
        ((i = o.len()),
        (n = this._lastRemovedEntry),
        i >= this._maxSize && 0 < i && ((i = o.head), o.remove(i), delete r[i.key], (a = i.value), (this._lastRemovedEntry = i)),
        n ? (n.value = e) : (n = new Jn(e)),
        (n.key = t),
        o.insertEntry(n),
        (r[t] = n)),
      a
    )
  }),
    (ii.prototype.get = function(t) {
      var t = this._map[t],
        e = this._list
      if (null != t) return t !== e.tail && (e.remove(t), e.insertEntry(t)), t.value
    }),
    (ii.prototype.clear = function() {
      this._list.clear(), (this._map = {})
    }),
    (ii.prototype.len = function() {
      return this._list.len()
    })
  var ni = ii
  function ii(t) {
    ;(this._list = new ti()), (this._maxSize = 10), (this._map = {}), (this._maxSize = t)
  }
  var oi = {
    transparent: [0, 0, 0, 0],
    aliceblue: [240, 248, 255, 1],
    antiquewhite: [250, 235, 215, 1],
    aqua: [0, 255, 255, 1],
    aquamarine: [127, 255, 212, 1],
    azure: [240, 255, 255, 1],
    beige: [245, 245, 220, 1],
    bisque: [255, 228, 196, 1],
    black: [0, 0, 0, 1],
    blanchedalmond: [255, 235, 205, 1],
    blue: [0, 0, 255, 1],
    blueviolet: [138, 43, 226, 1],
    brown: [165, 42, 42, 1],
    burlywood: [222, 184, 135, 1],
    cadetblue: [95, 158, 160, 1],
    chartreuse: [127, 255, 0, 1],
    chocolate: [210, 105, 30, 1],
    coral: [255, 127, 80, 1],
    cornflowerblue: [100, 149, 237, 1],
    cornsilk: [255, 248, 220, 1],
    crimson: [220, 20, 60, 1],
    cyan: [0, 255, 255, 1],
    darkblue: [0, 0, 139, 1],
    darkcyan: [0, 139, 139, 1],
    darkgoldenrod: [184, 134, 11, 1],
    darkgray: [169, 169, 169, 1],
    darkgreen: [0, 100, 0, 1],
    darkgrey: [169, 169, 169, 1],
    darkkhaki: [189, 183, 107, 1],
    darkmagenta: [139, 0, 139, 1],
    darkolivegreen: [85, 107, 47, 1],
    darkorange: [255, 140, 0, 1],
    darkorchid: [153, 50, 204, 1],
    darkred: [139, 0, 0, 1],
    darksalmon: [233, 150, 122, 1],
    darkseagreen: [143, 188, 143, 1],
    darkslateblue: [72, 61, 139, 1],
    darkslategray: [47, 79, 79, 1],
    darkslategrey: [47, 79, 79, 1],
    darkturquoise: [0, 206, 209, 1],
    darkviolet: [148, 0, 211, 1],
    deeppink: [255, 20, 147, 1],
    deepskyblue: [0, 191, 255, 1],
    dimgray: [105, 105, 105, 1],
    dimgrey: [105, 105, 105, 1],
    dodgerblue: [30, 144, 255, 1],
    firebrick: [178, 34, 34, 1],
    floralwhite: [255, 250, 240, 1],
    forestgreen: [34, 139, 34, 1],
    fuchsia: [255, 0, 255, 1],
    gainsboro: [220, 220, 220, 1],
    ghostwhite: [248, 248, 255, 1],
    gold: [255, 215, 0, 1],
    goldenrod: [218, 165, 32, 1],
    gray: [128, 128, 128, 1],
    green: [0, 128, 0, 1],
    greenyellow: [173, 255, 47, 1],
    grey: [128, 128, 128, 1],
    honeydew: [240, 255, 240, 1],
    hotpink: [255, 105, 180, 1],
    indianred: [205, 92, 92, 1],
    indigo: [75, 0, 130, 1],
    ivory: [255, 255, 240, 1],
    khaki: [240, 230, 140, 1],
    lavender: [230, 230, 250, 1],
    lavenderblush: [255, 240, 245, 1],
    lawngreen: [124, 252, 0, 1],
    lemonchiffon: [255, 250, 205, 1],
    lightblue: [173, 216, 230, 1],
    lightcoral: [240, 128, 128, 1],
    lightcyan: [224, 255, 255, 1],
    lightgoldenrodyellow: [250, 250, 210, 1],
    lightgray: [211, 211, 211, 1],
    lightgreen: [144, 238, 144, 1],
    lightgrey: [211, 211, 211, 1],
    lightpink: [255, 182, 193, 1],
    lightsalmon: [255, 160, 122, 1],
    lightseagreen: [32, 178, 170, 1],
    lightskyblue: [135, 206, 250, 1],
    lightslategray: [119, 136, 153, 1],
    lightslategrey: [119, 136, 153, 1],
    lightsteelblue: [176, 196, 222, 1],
    lightyellow: [255, 255, 224, 1],
    lime: [0, 255, 0, 1],
    limegreen: [50, 205, 50, 1],
    linen: [250, 240, 230, 1],
    magenta: [255, 0, 255, 1],
    maroon: [128, 0, 0, 1],
    mediumaquamarine: [102, 205, 170, 1],
    mediumblue: [0, 0, 205, 1],
    mediumorchid: [186, 85, 211, 1],
    mediumpurple: [147, 112, 219, 1],
    mediumseagreen: [60, 179, 113, 1],
    mediumslateblue: [123, 104, 238, 1],
    mediumspringgreen: [0, 250, 154, 1],
    mediumturquoise: [72, 209, 204, 1],
    mediumvioletred: [199, 21, 133, 1],
    midnightblue: [25, 25, 112, 1],
    mintcream: [245, 255, 250, 1],
    mistyrose: [255, 228, 225, 1],
    moccasin: [255, 228, 181, 1],
    navajowhite: [255, 222, 173, 1],
    navy: [0, 0, 128, 1],
    oldlace: [253, 245, 230, 1],
    olive: [128, 128, 0, 1],
    olivedrab: [107, 142, 35, 1],
    orange: [255, 165, 0, 1],
    orangered: [255, 69, 0, 1],
    orchid: [218, 112, 214, 1],
    palegoldenrod: [238, 232, 170, 1],
    palegreen: [152, 251, 152, 1],
    paleturquoise: [175, 238, 238, 1],
    palevioletred: [219, 112, 147, 1],
    papayawhip: [255, 239, 213, 1],
    peachpuff: [255, 218, 185, 1],
    peru: [205, 133, 63, 1],
    pink: [255, 192, 203, 1],
    plum: [221, 160, 221, 1],
    powderblue: [176, 224, 230, 1],
    purple: [128, 0, 128, 1],
    red: [255, 0, 0, 1],
    rosybrown: [188, 143, 143, 1],
    royalblue: [65, 105, 225, 1],
    saddlebrown: [139, 69, 19, 1],
    salmon: [250, 128, 114, 1],
    sandybrown: [244, 164, 96, 1],
    seagreen: [46, 139, 87, 1],
    seashell: [255, 245, 238, 1],
    sienna: [160, 82, 45, 1],
    silver: [192, 192, 192, 1],
    skyblue: [135, 206, 235, 1],
    slateblue: [106, 90, 205, 1],
    slategray: [112, 128, 144, 1],
    slategrey: [112, 128, 144, 1],
    snow: [255, 250, 250, 1],
    springgreen: [0, 255, 127, 1],
    steelblue: [70, 130, 180, 1],
    tan: [210, 180, 140, 1],
    teal: [0, 128, 128, 1],
    thistle: [216, 191, 216, 1],
    tomato: [255, 99, 71, 1],
    turquoise: [64, 224, 208, 1],
    violet: [238, 130, 238, 1],
    wheat: [245, 222, 179, 1],
    white: [255, 255, 255, 1],
    whitesmoke: [245, 245, 245, 1],
    yellow: [255, 255, 0, 1],
    yellowgreen: [154, 205, 50, 1],
  }
  function ri(t) {
    return (t = Math.round(t)) < 0 ? 0 : 255 < t ? 255 : t
  }
  function ai(t) {
    return t < 0 ? 0 : 1 < t ? 1 : t
  }
  function si(t) {
    return t.length && '%' === t.charAt(t.length - 1) ? ri((parseFloat(t) / 100) * 255) : ri(parseInt(t, 10))
  }
  function li(t) {
    return t.length && '%' === t.charAt(t.length - 1) ? ai(parseFloat(t) / 100) : ai(parseFloat(t))
  }
  function ui(t, e, n) {
    return n < 0 ? (n += 1) : 1 < n && --n, 6 * n < 1 ? t + (e - t) * n * 6 : 2 * n < 1 ? e : 3 * n < 2 ? t + (e - t) * (2 / 3 - n) * 6 : t
  }
  function hi(t, e, n) {
    return t + (e - t) * n
  }
  function ci(t, e, n, i, o) {
    return (t[0] = e), (t[1] = n), (t[2] = i), (t[3] = o), t
  }
  function pi(t, e) {
    return (t[0] = e[0]), (t[1] = e[1]), (t[2] = e[2]), (t[3] = e[3]), t
  }
  var di = new ni(20),
    fi = null
  function gi(t, e) {
    fi && pi(fi, e), (fi = di.put(t, fi || e.slice()))
  }
  function yi(t, e) {
    if (t) {
      e = e || []
      var n = di.get(t)
      if (n) return pi(e, n)
      n = (t += '').replace(/ /g, '').toLowerCase()
      if (n in oi) return pi(e, oi[n]), gi(t, e), e
      var i = n.length
      if ('#' === n.charAt(0))
        return 4 === i || 5 === i
          ? 0 <= (o = parseInt(n.slice(1, 4), 16)) && o <= 4095
            ? (ci(
                e,
                ((3840 & o) >> 4) | ((3840 & o) >> 8),
                (240 & o) | ((240 & o) >> 4),
                (15 & o) | ((15 & o) << 4),
                5 === i ? parseInt(n.slice(4), 16) / 15 : 1
              ),
              gi(t, e),
              e)
            : void ci(e, 0, 0, 0, 1)
          : 7 === i || 9 === i
          ? 0 <= (o = parseInt(n.slice(1, 7), 16)) && o <= 16777215
            ? (ci(e, (16711680 & o) >> 16, (65280 & o) >> 8, 255 & o, 9 === i ? parseInt(n.slice(7), 16) / 255 : 1), gi(t, e), e)
            : void ci(e, 0, 0, 0, 1)
          : void 0
      var o = n.indexOf('('),
        r = n.indexOf(')')
      if (-1 !== o && r + 1 === i) {
        var i = n.substr(0, o),
          a = n.substr(o + 1, r - (o + 1)).split(','),
          s = 1
        switch (i) {
          case 'rgba':
            if (4 !== a.length) return 3 === a.length ? ci(e, +a[0], +a[1], +a[2], 1) : ci(e, 0, 0, 0, 1)
            s = li(a.pop())
          case 'rgb':
            return 3 <= a.length
              ? (ci(e, si(a[0]), si(a[1]), si(a[2]), 3 === a.length ? s : li(a[3])), gi(t, e), e)
              : void ci(e, 0, 0, 0, 1)
          case 'hsla':
            return 4 !== a.length ? void ci(e, 0, 0, 0, 1) : ((a[3] = li(a[3])), mi(a, e), gi(t, e), e)
          case 'hsl':
            return 3 !== a.length ? void ci(e, 0, 0, 0, 1) : (mi(a, e), gi(t, e), e)
          default:
            return
        }
      }
      ci(e, 0, 0, 0, 1)
    }
  }
  function mi(t, e) {
    var n = (((parseFloat(t[0]) % 360) + 360) % 360) / 360,
      i = li(t[1]),
      o = li(t[2]),
      i = o <= 0.5 ? o * (i + 1) : o + i - o * i,
      o = 2 * o - i
    return (
      ci((e = e || []), ri(255 * ui(o, i, n + 1 / 3)), ri(255 * ui(o, i, n)), ri(255 * ui(o, i, n - 1 / 3)), 1),
      4 === t.length && (e[3] = t[3]),
      e
    )
  }
  function vi(t, e) {
    var n = yi(t)
    if (n) {
      for (var i = 0; i < 3; i++)
        (n[i] = e < 0 ? (n[i] * (1 - e)) | 0 : ((255 - n[i]) * e + n[i]) | 0), 255 < n[i] ? (n[i] = 255) : n[i] < 0 && (n[i] = 0)
      return Si(n, 4 === n.length ? 'rgba' : 'rgb')
    }
  }
  function _i(t, e, n) {
    var i, o, r
    if (e && e.length && 0 <= t && t <= 1)
      return (
        (n = n || []),
        (t = t * (e.length - 1)),
        (i = Math.floor(t)),
        (r = Math.ceil(t)),
        (o = e[i]),
        (e = e[r]),
        (n[0] = ri(hi(o[0], e[0], (r = t - i)))),
        (n[1] = ri(hi(o[1], e[1], r))),
        (n[2] = ri(hi(o[2], e[2], r))),
        (n[3] = ai(hi(o[3], e[3], r))),
        n
      )
  }
  var xi = _i
  function wi(t, e, n) {
    var i, o, r, a
    if (e && e.length && 0 <= t && t <= 1)
      return (
        (t = t * (e.length - 1)),
        (i = Math.floor(t)),
        (o = Math.ceil(t)),
        (a = yi(e[i])),
        (e = yi(e[o])),
        (a = Si([ri(hi(a[0], e[0], (r = t - i))), ri(hi(a[1], e[1], r)), ri(hi(a[2], e[2], r)), ai(hi(a[3], e[3], r))], 'rgba')),
        n ? { color: a, leftIndex: i, rightIndex: o, value: t } : a
      )
  }
  var e = wi
  function bi(t, e) {
    t = yi(t)
    if (t && null != e) return (t[3] = ai(e)), Si(t, 'rgba')
  }
  function Si(t, e) {
    var n
    if (t && t.length)
      return (n = t[0] + ',' + t[1] + ',' + t[2]), ('rgba' !== e && 'hsva' !== e && 'hsla' !== e) || (n += ',' + t[3]), e + '(' + n + ')'
  }
  function Mi(t, e) {
    t = yi(t)
    return t ? ((0.299 * t[0] + 0.587 * t[1] + 0.114 * t[2]) * t[3]) / 255 + (1 - t[3]) * e : 0
  }
  var Ti = new ni(100)
  function Ii(t) {
    var e
    return F(t)
      ? ((e = Ti.get(t)) || ((e = vi(t, -0.1)), Ti.put(t, e)), e)
      : yt(t)
      ? (((e = P({}, t)).colorStops = B(t.colorStops, function(t) {
          return { offset: t.offset, color: vi(t.color, -0.1) }
        })),
        e)
      : t
  }
  xi = Object.freeze({
    __proto__: null,
    fastLerp: _i,
    fastMapToColor: xi,
    lerp: wi,
    lift: vi,
    liftColor: Ii,
    lum: Mi,
    mapToColor: e,
    modifyAlpha: bi,
    modifyHSL: function(t, e, n, i) {
      var o = yi(t)
      if (t)
        return (
          (o = (function(t) {
            var e, n, i, o, r, a, s, l, u, h
            if (t)
              return (
                (h = t[0] / 255),
                (e = t[1] / 255),
                (n = t[2] / 255),
                (s = Math.min(h, e, n)),
                (o = ((i = Math.max(h, e, n)) + s) / 2),
                0 == (u = i - s)
                  ? (a = r = 0)
                  : ((a = o < 0.5 ? u / (i + s) : u / (2 - i - s)),
                    (s = ((i - h) / 6 + u / 2) / u),
                    (l = ((i - e) / 6 + u / 2) / u),
                    (u = ((i - n) / 6 + u / 2) / u),
                    h === i ? (r = u - l) : e === i ? (r = 1 / 3 + s - u) : n === i && (r = 2 / 3 + l - s),
                    r < 0 && (r += 1),
                    1 < r && --r),
                (h = [360 * r, a, o]),
                null != t[3] && h.push(t[3]),
                h
              )
          })(o)),
          null != e && (o[0] = ((t = e), (t = Math.round(t)) < 0 ? 0 : 360 < t ? 360 : t)),
          null != n && (o[1] = li(n)),
          null != i && (o[2] = li(i)),
          Si(mi(o), 'rgba')
        )
    },
    parse: yi,
    random: function() {
      return Si([Math.round(255 * Math.random()), Math.round(255 * Math.random()), Math.round(255 * Math.random())], 'rgb')
    },
    stringify: Si,
    toHex: function(t) {
      if ((t = yi(t))) return ((1 << 24) + (t[0] << 16) + (t[1] << 8) + +t[2]).toString(16).slice(1)
    },
  })
  b.hasGlobalWindow && A(window.btoa)
  var Ci = Array.prototype.slice
  function Ai(t, e, n) {
    return (e - t) * n + t
  }
  function Di(t, e, n, i) {
    for (var o = e.length, r = 0; r < o; r++) t[r] = Ai(e[r], n[r], i)
    return t
  }
  function ki(t, e, n, i) {
    for (var o = e.length, r = 0; r < o; r++) t[r] = e[r] + n[r] * i
    return t
  }
  function Li(t, e, n, i) {
    for (var o = e.length, r = o && e[0].length, a = 0; a < o; a++) {
      t[a] || (t[a] = [])
      for (var s = 0; s < r; s++) t[a][s] = e[a][s] + n[a][s] * i
    }
    return t
  }
  function Pi(t) {
    if (lt(t)) {
      var e = t.length
      if (lt(t[0])) {
        for (var n = [], i = 0; i < e; i++) n.push(Ci.call(t[i]))
        return n
      }
      return Ci.call(t)
    }
    return t
  }
  function Oi(t) {
    return (
      (t[0] = Math.floor(t[0]) || 0),
      (t[1] = Math.floor(t[1]) || 0),
      (t[2] = Math.floor(t[2]) || 0),
      (t[3] = null == t[3] ? 1 : t[3]),
      'rgba(' + t.join(',') + ')'
    )
  }
  function Ri(t) {
    return 4 === t || 5 === t
  }
  function Ni(t) {
    return 1 === t || 2 === t
  }
  var Ei = [0, 0, 0, 0],
    zi =
      ((Bi.prototype.isFinished = function() {
        return this._finished
      }),
      (Bi.prototype.setFinished = function() {
        ;(this._finished = !0), this._additiveTrack && this._additiveTrack.setFinished()
      }),
      (Bi.prototype.needsAnimate = function() {
        return 1 <= this.keyframes.length
      }),
      (Bi.prototype.getAdditiveTrack = function() {
        return this._additiveTrack
      }),
      (Bi.prototype.addKeyframe = function(t, e, n) {
        this._needsSort = !0
        var i,
          o = this.keyframes,
          r = o.length,
          a = !1,
          s = 6,
          l = e,
          u =
            (lt(e)
              ? ((1 == (s = i = lt((i = e) && i[0]) ? 2 : 1) && !H(e[0])) || (2 == i && !H(e[0][0]))) && (a = !0)
              : H(e) && !_t(e)
              ? (s = 0)
              : F(e)
              ? isNaN(+e)
                ? (i = yi(e)) && ((l = i), (s = 3))
                : (s = 0)
              : yt(e) &&
                (((u = P({}, l)).colorStops = B(e.colorStops, function(t) {
                  return { offset: t.offset, color: yi(t.color) }
                })),
                'linear' === e.type ? (s = 4) : 'radial' === e.type && (s = 5),
                (l = u)),
            0 === r ? (this.valType = s) : (s === this.valType && 6 !== s) || (a = !0),
            (this.discrete = this.discrete || a),
            { time: t, value: l, rawValue: e, percent: 0 })
        return n && ((u.easing = n), (u.easingFunc = A(n) ? n : Cn[n] || Kn(n))), o.push(u), u
      }),
      (Bi.prototype.prepare = function(t, e) {
        for (
          var n = this.keyframes,
            i =
              (this._needsSort &&
                n.sort(function(t, e) {
                  return t.time - e.time
                }),
              this.valType),
            o = n.length,
            r = n[o - 1],
            a = this.discrete,
            s = Ni(i),
            l = Ri(i),
            u = 0;
          u < o;
          u++
        ) {
          var h = n[u],
            c = h.value,
            p = r.value
          if (((h.percent = h.time / t), !a))
            if (s && u !== o - 1) {
              x = _ = v = m = y = g = f = d = h = void 0
              var d = p,
                f = i,
                g = (h = c),
                y = d
              if (g.push && y.push) {
                var h = g.length,
                  m = y.length
                if (h !== m)
                  if (m < h) g.length = m
                  else for (var v = h; v < m; v++) g.push(1 === f ? y[v] : Ci.call(y[v]))
                for (var _ = g[0] && g[0].length, v = 0; v < g.length; v++)
                  if (1 === f) isNaN(g[v]) && (g[v] = y[v])
                  else for (var x = 0; x < _; x++) isNaN(g[v][x]) && (g[v][x] = y[v][x])
              }
            } else if (l) {
              T = M = S = b = w = h = d = void 0
              for (
                var d = c.colorStops,
                  h = p.colorStops,
                  w = d.length,
                  b = h.length,
                  S = b < w ? h : d,
                  h = Math.min(w, b),
                  M = S[h - 1] || { color: [0, 0, 0, 0], offset: 0 },
                  T = h;
                T < Math.max(w, b);
                T++
              )
                S.push({ offset: M.offset, color: M.color.slice() })
            }
        }
        if (!a && 5 !== i && e && this.needsAnimate() && e.needsAnimate() && i === e.valType && !e._finished) {
          this._additiveTrack = e
          for (var I = n[0].value, u = 0; u < o; u++)
            0 === i
              ? (n[u].additiveValue = n[u].value - I)
              : 3 === i
              ? (n[u].additiveValue = ki([], n[u].value, I, -1))
              : Ni(i) && (n[u].additiveValue = (1 === i ? ki : Li)([], n[u].value, I, -1))
        }
      }),
      (Bi.prototype.step = function(t, e) {
        if (!this._finished) {
          this._additiveTrack && this._additiveTrack._finished && (this._additiveTrack = null)
          var n,
            i,
            o,
            r,
            a = null != this._additiveTrack,
            s = a ? 'additiveValue' : 'value',
            l = this.valType,
            u = this.keyframes,
            h = u.length,
            c = this.propName,
            p = 3 === l,
            d = this._lastFr,
            f = Math.min
          if (1 === h) n = i = u[0]
          else {
            if (e < 0) g = 0
            else if (e < this._lastFrP) {
              for (var g = f(d + 1, h - 1); 0 <= g && !(u[g].percent <= e); g--);
              g = f(g, h - 2)
            } else {
              for (g = d; g < h && !(u[g].percent > e); g++);
              g = f(g - 1, h - 2)
            }
            ;(i = u[g + 1]), (n = u[g])
          }
          n &&
            i &&
            ((this._lastFr = g),
            (this._lastFrP = e),
            (d = i.percent - n.percent),
            (o = 0 == d ? 1 : f((e - n.percent) / d, 1)),
            i.easingFunc && (o = i.easingFunc(o)),
            (f = a ? this._additiveValue : p ? Ei : t[c]),
            (Ni(l) || p) && (f = f || (this._additiveValue = [])),
            this.discrete
              ? (t[c] = (o < 1 ? n : i).rawValue)
              : Ni(l)
              ? (1 === l
                  ? Di
                  : function(t, e, n, i) {
                      for (var o = e.length, r = o && e[0].length, a = 0; a < o; a++) {
                        t[a] || (t[a] = [])
                        for (var s = 0; s < r; s++) t[a][s] = Ai(e[a][s], n[a][s], i)
                      }
                    })(f, n[s], i[s], o)
              : Ri(l)
              ? ((d = n[s]),
                (r = i[s]),
                (t[c] = {
                  type: (l = 4 === l) ? 'linear' : 'radial',
                  x: Ai(d.x, r.x, o),
                  y: Ai(d.y, r.y, o),
                  colorStops: B(d.colorStops, function(t, e) {
                    e = r.colorStops[e]
                    return { offset: Ai(t.offset, e.offset, o), color: Oi(Di([], t.color, e.color, o)) }
                  }),
                  global: r.global,
                }),
                l ? ((t[c].x2 = Ai(d.x2, r.x2, o)), (t[c].y2 = Ai(d.y2, r.y2, o))) : (t[c].r = Ai(d.r, r.r, o)))
              : p
              ? (Di(f, n[s], i[s], o), a || (t[c] = Oi(f)))
              : ((l = Ai(n[s], i[s], o)), a ? (this._additiveValue = l) : (t[c] = l)),
            a) &&
            this._addToTarget(t)
        }
      }),
      (Bi.prototype._addToTarget = function(t) {
        var e = this.valType,
          n = this.propName,
          i = this._additiveValue
        0 === e
          ? (t[n] = t[n] + i)
          : 3 === e
          ? (yi(t[n], Ei), ki(Ei, Ei, i, 1), (t[n] = Oi(Ei)))
          : 1 === e
          ? ki(t[n], t[n], i, 1)
          : 2 === e && Li(t[n], t[n], i, 1)
      }),
      Bi)
  function Bi(t) {
    ;(this.keyframes = []),
      (this.discrete = !1),
      (this._invalid = !1),
      (this._needsSort = !1),
      (this._lastFr = 0),
      (this._lastFrP = 0),
      (this.propName = t)
  }
  ;(Fi.prototype.getMaxTime = function() {
    return this._maxTime
  }),
    (Fi.prototype.getDelay = function() {
      return this._delay
    }),
    (Fi.prototype.getLoop = function() {
      return this._loop
    }),
    (Fi.prototype.getTarget = function() {
      return this._target
    }),
    (Fi.prototype.changeTarget = function(t) {
      this._target = t
    }),
    (Fi.prototype.when = function(t, e, n) {
      return this.whenWithKeys(t, e, ct(e), n)
    }),
    (Fi.prototype.whenWithKeys = function(t, e, n, i) {
      for (var o = this._tracks, r = 0; r < n.length; r++) {
        var a = n[r]
        if (!(l = o[a])) {
          var s,
            l = (o[a] = new zi(a)),
            u = void 0,
            h = this._getAdditiveTrack(a)
          if (
            (h ? ((u = (s = (s = h.keyframes)[s.length - 1]) && s.value), 3 === h.valType && (u = u && Oi(u))) : (u = this._target[a]),
            null == u)
          )
            continue
          0 < t && l.addKeyframe(0, Pi(u), i), this._trackKeys.push(a)
        }
        l.addKeyframe(t, Pi(e[a]), i)
      }
      return (this._maxTime = Math.max(this._maxTime, t)), this
    }),
    (Fi.prototype.pause = function() {
      this._clip.pause(), (this._paused = !0)
    }),
    (Fi.prototype.resume = function() {
      this._clip.resume(), (this._paused = !1)
    }),
    (Fi.prototype.isPaused = function() {
      return !!this._paused
    }),
    (Fi.prototype.duration = function(t) {
      return (this._maxTime = t), (this._force = !0), this
    }),
    (Fi.prototype._doneCallback = function() {
      this._setTracksFinished(), (this._clip = null)
      var t = this._doneCbs
      if (t) for (var e = t.length, n = 0; n < e; n++) t[n].call(this)
    }),
    (Fi.prototype._abortedCallback = function() {
      this._setTracksFinished()
      var t = this.animation,
        e = this._abortedCbs
      if ((t && t.removeClip(this._clip), (this._clip = null), e)) for (var n = 0; n < e.length; n++) e[n].call(this)
    }),
    (Fi.prototype._setTracksFinished = function() {
      for (var t = this._tracks, e = this._trackKeys, n = 0; n < e.length; n++) t[e[n]].setFinished()
    }),
    (Fi.prototype._getAdditiveTrack = function(t) {
      var e,
        n = this._additiveAnimators
      if (n)
        for (var i = 0; i < n.length; i++) {
          var o = n[i].getTrack(t)
          o && (e = o)
        }
      return e
    }),
    (Fi.prototype.start = function(t) {
      if (!(0 < this._started)) {
        this._started = 1
        for (var e, r = this, a = [], n = this._maxTime || 0, i = 0; i < this._trackKeys.length; i++) {
          var o = this._trackKeys[i],
            s = this._tracks[o],
            o = this._getAdditiveTrack(o),
            l = s.keyframes,
            u = l.length
          s.prepare(n, o),
            s.needsAnimate() &&
              (!this._allowDiscrete && s.discrete ? ((o = l[u - 1]) && (r._target[s.propName] = o.rawValue), s.setFinished()) : a.push(s))
        }
        return (
          a.length || this._force
            ? ((e = new $n({
                life: n,
                loop: this._loop,
                delay: this._delay || 0,
                onframe: function(t) {
                  r._started = 2
                  var e = r._additiveAnimators
                  if (e) {
                    for (var n = !1, i = 0; i < e.length; i++)
                      if (e[i]._clip) {
                        n = !0
                        break
                      }
                    n || (r._additiveAnimators = null)
                  }
                  for (i = 0; i < a.length; i++) a[i].step(r._target, t)
                  var o = r._onframeCbs
                  if (o) for (i = 0; i < o.length; i++) o[i](r._target, t)
                },
                ondestroy: function() {
                  r._doneCallback()
                },
              })),
              (this._clip = e),
              this.animation && this.animation.addClip(e),
              t && e.setEasing(t))
            : this._doneCallback(),
          this
        )
      }
    }),
    (Fi.prototype.stop = function(t) {
      var e
      this._clip && ((e = this._clip), t && e.onframe(1), this._abortedCallback())
    }),
    (Fi.prototype.delay = function(t) {
      return (this._delay = t), this
    }),
    (Fi.prototype.during = function(t) {
      return t && (this._onframeCbs || (this._onframeCbs = []), this._onframeCbs.push(t)), this
    }),
    (Fi.prototype.done = function(t) {
      return t && (this._doneCbs || (this._doneCbs = []), this._doneCbs.push(t)), this
    }),
    (Fi.prototype.aborted = function(t) {
      return t && (this._abortedCbs || (this._abortedCbs = []), this._abortedCbs.push(t)), this
    }),
    (Fi.prototype.getClip = function() {
      return this._clip
    }),
    (Fi.prototype.getTrack = function(t) {
      return this._tracks[t]
    }),
    (Fi.prototype.getTracks = function() {
      var e = this
      return B(this._trackKeys, function(t) {
        return e._tracks[t]
      })
    }),
    (Fi.prototype.stopTracks = function(t, e) {
      if (!t.length || !this._clip) return !0
      for (var n = this._tracks, i = this._trackKeys, o = 0; o < t.length; o++) {
        var r = n[t[o]]
        r && !r.isFinished() && (e ? r.step(this._target, 1) : 1 === this._started && r.step(this._target, 0), r.setFinished())
      }
      for (var a = !0, o = 0; o < i.length; o++)
        if (!n[i[o]].isFinished()) {
          a = !1
          break
        }
      return a && this._abortedCallback(), a
    }),
    (Fi.prototype.saveTo = function(t, e, n) {
      if (t) {
        e = e || this._trackKeys
        for (var i = 0; i < e.length; i++) {
          var o = e[i],
            r = this._tracks[o]
          r && !r.isFinished() && (r = (r = r.keyframes)[n ? 0 : r.length - 1]) && (t[o] = Pi(r.rawValue))
        }
      }
    }),
    (Fi.prototype.__changeFinalValue = function(t, e) {
      e = e || ct(t)
      for (var n = 0; n < e.length; n++) {
        var i,
          o = e[n],
          r = this._tracks[o]
        r && 1 < (i = r.keyframes).length && ((i = i.pop()), r.addKeyframe(i.time, t[o]), r.prepare(this._maxTime, r.getAdditiveTrack()))
      }
    })
  var Vi = Fi
  function Fi(t, e, n, i) {
    ;(this._tracks = {}),
      (this._trackKeys = []),
      (this._maxTime = 0),
      (this._started = 0),
      (this._clip = null),
      (this._target = t),
      (this._loop = e) && i
        ? it("Can' use additive animation on looped animation.")
        : ((this._additiveAnimators = i), (this._allowDiscrete = n))
  }
  function Hi() {
    return new Date().getTime()
  }
  u(Ui, (Gi = se)),
    (Ui.prototype.addClip = function(t) {
      t.animation && this.removeClip(t),
        this._head ? (((this._tail.next = t).prev = this._tail), (t.next = null), (this._tail = t)) : (this._head = this._tail = t),
        (t.animation = this)
    }),
    (Ui.prototype.addAnimator = function(t) {
      t.animation = this
      t = t.getClip()
      t && this.addClip(t)
    }),
    (Ui.prototype.removeClip = function(t) {
      var e, n
      t.animation &&
        ((e = t.prev),
        (n = t.next),
        e ? (e.next = n) : (this._head = n),
        n ? (n.prev = e) : (this._tail = e),
        (t.next = t.prev = t.animation = null))
    }),
    (Ui.prototype.removeAnimator = function(t) {
      var e = t.getClip()
      e && this.removeClip(e), (t.animation = null)
    }),
    (Ui.prototype.update = function(t) {
      for (var e = Hi() - this._pausedTime, n = e - this._time, i = this._head; i; )
        var o = i.next, i = (i.step(e, n) && (i.ondestroy(), this.removeClip(i)), o)
      ;(this._time = e), t || (this.trigger('frame', n), this.stage.update && this.stage.update())
    }),
    (Ui.prototype._startLoop = function() {
      var e = this
      ;(this._running = !0),
        In(function t() {
          e._running && (In(t), e._paused || e.update())
        })
    }),
    (Ui.prototype.start = function() {
      this._running || ((this._time = Hi()), (this._pausedTime = 0), this._startLoop())
    }),
    (Ui.prototype.stop = function() {
      this._running = !1
    }),
    (Ui.prototype.pause = function() {
      this._paused || ((this._pauseStart = Hi()), (this._paused = !0))
    }),
    (Ui.prototype.resume = function() {
      this._paused && ((this._pausedTime += Hi() - this._pauseStart), (this._paused = !1))
    }),
    (Ui.prototype.clear = function() {
      for (var t = this._head; t; ) {
        var e = t.next
        ;(t.prev = t.next = t.animation = null), (t = e)
      }
      this._head = this._tail = null
    }),
    (Ui.prototype.isFinished = function() {
      return null == this._head
    }),
    (Ui.prototype.animate = function(t, e) {
      ;(e = e || {}), this.start()
      t = new Vi(t, e.loop)
      return this.addAnimator(t), t
    })
  var Gi,
    Wi = Ui
  function Ui(t) {
    var e = Gi.call(this) || this
    return (
      (e._running = !1), (e._time = 0), (e._pausedTime = 0), (e._pauseStart = 0), (e._paused = !1), (e.stage = (t = t || {}).stage || {}), e
    )
  }
  var Yi,
    Xi = b.domSupported,
    Zi =
      ((Yi = { pointerdown: 1, pointerup: 1, pointermove: 1, pointerout: 1 }),
      {
        mouse: (e = ['click', 'dblclick', 'mousewheel', 'wheel', 'mouseout', 'mouseup', 'mousedown', 'mousemove', 'contextmenu']),
        touch: ['touchstart', 'touchend', 'touchmove'],
        pointer: B(e, function(t) {
          var e = t.replace('mouse', 'pointer')
          return Yi.hasOwnProperty(e) ? e : t
        }),
      }),
    qi = ['mousemove', 'mouseup'],
    ji = ['pointermove', 'pointerup'],
    Ki = !1
  function $i(t) {
    t = t.pointerType
    return 'pen' === t || 'touch' === t
  }
  function Qi(t) {
    t && (t.zrByTouch = !0)
  }
  function Ji(t, e) {
    for (var n = e, i = !1; n && 9 !== n.nodeType && !(i = n.domBelongToZr || (n !== e && n === t.painterRoot)); ) n = n.parentNode
    return i
  }
  var to = function(t, e) {
      ;(this.stopPropagation = Bt),
        (this.stopImmediatePropagation = Bt),
        (this.preventDefault = Bt),
        (this.type = e.type),
        (this.target = this.currentTarget = t.dom),
        (this.pointerType = e.pointerType),
        (this.clientX = e.clientX),
        (this.clientY = e.clientY)
    },
    eo = {
      mousedown: function(t) {
        ;(t = Te(this.dom, t)), (this.__mayPointerCapture = [t.zrX, t.zrY]), this.trigger('mousedown', t)
      },
      mousemove: function(t) {
        t = Te(this.dom, t)
        var e = this.__mayPointerCapture
        !e || (t.zrX === e[0] && t.zrY === e[1]) || this.__togglePointerCapture(!0), this.trigger('mousemove', t)
      },
      mouseup: function(t) {
        ;(t = Te(this.dom, t)), this.__togglePointerCapture(!1), this.trigger('mouseup', t)
      },
      mouseout: function(t) {
        Ji(this, (t = Te(this.dom, t)).toElement || t.relatedTarget) ||
          (this.__pointerCapturing && (t.zrEventControl = 'no_globalout'), this.trigger('mouseout', t))
      },
      wheel: function(t) {
        ;(Ki = !0), (t = Te(this.dom, t)), this.trigger('mousewheel', t)
      },
      mousewheel: function(t) {
        Ki || ((t = Te(this.dom, t)), this.trigger('mousewheel', t))
      },
      touchstart: function(t) {
        Qi((t = Te(this.dom, t))),
          (this.__lastTouchMoment = new Date()),
          this.handler.processGesture(t, 'start'),
          eo.mousemove.call(this, t),
          eo.mousedown.call(this, t)
      },
      touchmove: function(t) {
        Qi((t = Te(this.dom, t))), this.handler.processGesture(t, 'change'), eo.mousemove.call(this, t)
      },
      touchend: function(t) {
        Qi((t = Te(this.dom, t))),
          this.handler.processGesture(t, 'end'),
          eo.mouseup.call(this, t),
          +new Date() - +this.__lastTouchMoment < 300 && eo.click.call(this, t)
      },
      pointerdown: function(t) {
        eo.mousedown.call(this, t)
      },
      pointermove: function(t) {
        $i(t) || eo.mousemove.call(this, t)
      },
      pointerup: function(t) {
        eo.mouseup.call(this, t)
      },
      pointerout: function(t) {
        $i(t) || eo.mouseout.call(this, t)
      },
    },
    no =
      (E(['click', 'dblclick', 'contextmenu'], function(e) {
        eo[e] = function(t) {
          ;(t = Te(this.dom, t)), this.trigger(e, t)
        }
      }),
      {
        pointermove: function(t) {
          $i(t) || no.mousemove.call(this, t)
        },
        pointerup: function(t) {
          no.mouseup.call(this, t)
        },
        mousemove: function(t) {
          this.trigger('mousemove', t)
        },
        mouseup: function(t) {
          var e = this.__pointerCapturing
          this.__togglePointerCapture(!1),
            this.trigger('mouseup', t),
            e && ((t.zrEventControl = 'only_globalout'), this.trigger('mouseout', t))
        },
      })
  function io(i, o) {
    var r = o.domHandlers
    b.pointerEventsSupported
      ? E(Zi.pointer, function(e) {
          ro(o, e, function(t) {
            r[e].call(i, t)
          })
        })
      : (b.touchEventsSupported &&
          E(Zi.touch, function(n) {
            ro(o, n, function(t) {
              var e
              r[n].call(i, t),
                ((e = o).touching = !0),
                null != e.touchTimer && (clearTimeout(e.touchTimer), (e.touchTimer = null)),
                (e.touchTimer = setTimeout(function() {
                  ;(e.touching = !1), (e.touchTimer = null)
                }, 700))
            })
          }),
        E(Zi.mouse, function(e) {
          ro(o, e, function(t) {
            ;(t = Me(t)), o.touching || r[e].call(i, t)
          })
        }))
  }
  function oo(i, o) {
    function t(n) {
      ro(
        o,
        n,
        function(t) {
          var e
          ;(t = Me(t)), Ji(i, t.target) || ((e = t), (t = Te(i.dom, new to(i, e), !0)), o.domHandlers[n].call(i, t))
        },
        { capture: !0 }
      )
    }
    b.pointerEventsSupported ? E(ji, t) : b.touchEventsSupported || E(qi, t)
  }
  function ro(t, e, n, i) {
    ;(t.mounted[e] = n), (t.listenerOpts[e] = i), t.domTarget.addEventListener(e, n, i)
  }
  function ao(t) {
    var e,
      n,
      i,
      o,
      r,
      a = t.mounted
    for (e in a) a.hasOwnProperty(e) && ((n = t.domTarget), (o = a[(i = e)]), (r = t.listenerOpts[e]), n.removeEventListener(i, o, r))
    t.mounted = {}
  }
  var so,
    lo = function(t, e) {
      ;(this.mounted = {}), (this.listenerOpts = {}), (this.touching = !1), (this.domTarget = t), (this.domHandlers = e)
    },
    uo =
      (u(ho, (so = se)),
      (ho.prototype.dispose = function() {
        ao(this._localHandlerScope), Xi && ao(this._globalHandlerScope)
      }),
      (ho.prototype.setCursor = function(t) {
        this.dom.style && (this.dom.style.cursor = t || 'default')
      }),
      (ho.prototype.__togglePointerCapture = function(t) {
        var e
        ;(this.__mayPointerCapture = null),
          Xi && +this.__pointerCapturing ^ +t && ((this.__pointerCapturing = t), (e = this._globalHandlerScope), t ? oo(this, e) : ao(e))
      }),
      ho)
  function ho(t, e) {
    var n = so.call(this) || this
    return (
      (n.__pointerCapturing = !1),
      (n.dom = t),
      (n.painterRoot = e),
      (n._localHandlerScope = new lo(t, eo)),
      Xi && (n._globalHandlerScope = new lo(document, no)),
      io(n, n._localHandlerScope),
      n
    )
  }
  var e = 1,
    co = (e = b.hasGlobalWindow
      ? Math.max(window.devicePixelRatio || (window.screen && window.screen.deviceXDPI / window.screen.logicalXDPI) || 1, 1)
      : e),
    po = '#333',
    fo = '#ccc',
    go = Oe
  function yo(t) {
    return 5e-5 < t || t < -5e-5
  }
  var mo = [],
    vo = [],
    _o = Pe(),
    xo = Math.abs,
    wo =
      ((bo.prototype.getLocalTransform = function(t) {
        return bo.getLocalTransform(this, t)
      }),
      (bo.prototype.setPosition = function(t) {
        ;(this.x = t[0]), (this.y = t[1])
      }),
      (bo.prototype.setScale = function(t) {
        ;(this.scaleX = t[0]), (this.scaleY = t[1])
      }),
      (bo.prototype.setSkew = function(t) {
        ;(this.skewX = t[0]), (this.skewY = t[1])
      }),
      (bo.prototype.setOrigin = function(t) {
        ;(this.originX = t[0]), (this.originY = t[1])
      }),
      (bo.prototype.needLocalTransform = function() {
        return (
          yo(this.rotation) || yo(this.x) || yo(this.y) || yo(this.scaleX - 1) || yo(this.scaleY - 1) || yo(this.skewX) || yo(this.skewY)
        )
      }),
      (bo.prototype.updateTransform = function() {
        var t = this.parent && this.parent.transform,
          e = this.needLocalTransform(),
          n = this.transform
        e || t
          ? ((n = n || Pe()),
            e ? this.getLocalTransform(n) : go(n),
            t && (e ? Ne(n, t, n) : Re(n, t)),
            (this.transform = n),
            this._resolveGlobalScaleRatio(n))
          : n && (go(n), (this.invTransform = null))
      }),
      (bo.prototype._resolveGlobalScaleRatio = function(t) {
        var e,
          n,
          i = this.globalScaleRatio
        null != i &&
          1 !== i &&
          (this.getGlobalScale(mo),
          (n = ((mo[1] - (n = mo[1] < 0 ? -1 : 1)) * i + n) / mo[1] || 0),
          (t[0] *= i = ((mo[0] - (e = mo[0] < 0 ? -1 : 1)) * i + e) / mo[0] || 0),
          (t[1] *= i),
          (t[2] *= n),
          (t[3] *= n)),
          (this.invTransform = this.invTransform || Pe()),
          Ve(this.invTransform, t)
      }),
      (bo.prototype.getComputedTransform = function() {
        for (var t = this, e = []; t; ) e.push(t), (t = t.parent)
        for (; (t = e.pop()); ) t.updateTransform()
        return this.transform
      }),
      (bo.prototype.setLocalTransform = function(t) {
        var e, n, i, o
        t &&
          ((o = t[0] * t[0] + t[1] * t[1]),
          (i = t[2] * t[2] + t[3] * t[3]),
          (e = Math.atan2(t[1], t[0])),
          (n = Math.PI / 2 + e - Math.atan2(t[3], t[2])),
          (i = Math.sqrt(i) * Math.cos(n)),
          (o = Math.sqrt(o)),
          (this.skewX = n),
          (this.skewY = 0),
          (this.rotation = -e),
          (this.x = +t[4]),
          (this.y = +t[5]),
          (this.scaleX = o),
          (this.scaleY = i),
          (this.originX = 0),
          (this.originY = 0))
      }),
      (bo.prototype.decomposeTransform = function() {
        var t, e, n
        this.transform &&
          ((e = this.parent),
          (t = this.transform),
          e && e.transform && ((e.invTransform = e.invTransform || Pe()), Ne(vo, e.invTransform, t), (t = vo)),
          (e = this.originX),
          (n = this.originY),
          (e || n) && ((_o[4] = e), (_o[5] = n), Ne(vo, t, _o), (vo[4] -= e), (vo[5] -= n), (t = vo)),
          this.setLocalTransform(t))
      }),
      (bo.prototype.getGlobalScale = function(t) {
        var e = this.transform
        return (
          (t = t || []),
          e
            ? ((t[0] = Math.sqrt(e[0] * e[0] + e[1] * e[1])),
              (t[1] = Math.sqrt(e[2] * e[2] + e[3] * e[3])),
              e[0] < 0 && (t[0] = -t[0]),
              e[3] < 0 && (t[1] = -t[1]))
            : ((t[0] = 1), (t[1] = 1)),
          t
        )
      }),
      (bo.prototype.transformCoordToLocal = function(t, e) {
        ;(t = [t, e]), (e = this.invTransform)
        return e && te(t, t, e), t
      }),
      (bo.prototype.transformCoordToGlobal = function(t, e) {
        ;(t = [t, e]), (e = this.transform)
        return e && te(t, t, e), t
      }),
      (bo.prototype.getLineScale = function() {
        var t = this.transform
        return t && 1e-10 < xo(t[0] - 1) && 1e-10 < xo(t[3] - 1) ? Math.sqrt(xo(t[0] * t[3] - t[2] * t[1])) : 1
      }),
      (bo.prototype.copyTransform = function(t) {
        for (var e = this, n = t, i = 0; i < So.length; i++) {
          var o = So[i]
          e[o] = n[o]
        }
      }),
      (bo.getLocalTransform = function(t, e) {
        e = e || []
        var n = t.originX || 0,
          i = t.originY || 0,
          o = t.scaleX,
          r = t.scaleY,
          a = t.anchorX,
          s = t.anchorY,
          l = t.rotation || 0,
          u = t.x,
          h = t.y,
          c = t.skewX ? Math.tan(t.skewX) : 0,
          t = t.skewY ? Math.tan(-t.skewY) : 0
        return (
          n || i || a || s ? ((e[4] = -(a = n + a) * o - c * (s = i + s) * r), (e[5] = -s * r - t * a * o)) : (e[4] = e[5] = 0),
          (e[0] = o),
          (e[3] = r),
          (e[1] = t * o),
          (e[2] = c * r),
          l && ze(e, e, l),
          (e[4] += n + u),
          (e[5] += i + h),
          e
        )
      }),
      (bo.initDefaultProps =
        (((e = bo.prototype).scaleX = e.scaleY = e.globalScaleRatio = 1),
        void (e.x = e.y = e.originX = e.originY = e.skewX = e.skewY = e.rotation = e.anchorX = e.anchorY = 0))),
      bo)
  function bo() {}
  var So = ['x', 'y', 'originX', 'originY', 'anchorX', 'anchorY', 'rotation', 'scaleX', 'scaleY', 'skewX', 'skewY']
  var Mo = {}
  function To(t, e) {
    var n = Mo[(e = e || K)],
      i = (n = n || (Mo[e] = new ni(500))).get(t)
    return null == i && ((i = U.measureText(t, e).width), n.put(t, i)), i
  }
  function Io(t, e, n, i) {
    ;(t = To(t, e)), (e = ko(e)), (n = Ao(0, t, n)), (i = Do(0, e, i))
    return new Y(n, i, t, e)
  }
  function Co(t, e, n, i) {
    var o = ((t || '') + '').split('\n')
    if (1 === o.length) return Io(o[0], e, n, i)
    for (var r = new Y(0, 0, 0, 0), a = 0; a < o.length; a++) {
      var s = Io(o[a], e, n, i)
      0 === a ? r.copy(s) : r.union(s)
    }
    return r
  }
  function Ao(t, e, n) {
    return 'right' === n ? (t -= e) : 'center' === n && (t -= e / 2), t
  }
  function Do(t, e, n) {
    return 'middle' === n ? (t -= e / 2) : 'bottom' === n && (t -= e), t
  }
  function ko(t) {
    return To('国', t)
  }
  function Lo(t, e) {
    return 'string' == typeof t ? (0 <= t.lastIndexOf('%') ? (parseFloat(t) / 100) * e : parseFloat(t)) : t
  }
  function Po(t, e, n) {
    var i = e.position || 'inside',
      o = null != e.distance ? e.distance : 5,
      r = n.height,
      a = n.width,
      s = r / 2,
      l = n.x,
      u = n.y,
      h = 'left',
      c = 'top'
    if (i instanceof Array) (l += Lo(i[0], n.width)), (u += Lo(i[1], n.height)), (c = h = null)
    else
      switch (i) {
        case 'left':
          ;(l -= o), (u += s), (h = 'right'), (c = 'middle')
          break
        case 'right':
          ;(l += o + a), (u += s), (c = 'middle')
          break
        case 'top':
          ;(l += a / 2), (u -= o), (h = 'center'), (c = 'bottom')
          break
        case 'bottom':
          ;(l += a / 2), (u += r + o), (h = 'center')
          break
        case 'inside':
          ;(l += a / 2), (u += s), (h = 'center'), (c = 'middle')
          break
        case 'insideLeft':
          ;(l += o), (u += s), (c = 'middle')
          break
        case 'insideRight':
          ;(l += a - o), (u += s), (h = 'right'), (c = 'middle')
          break
        case 'insideTop':
          ;(l += a / 2), (u += o), (h = 'center')
          break
        case 'insideBottom':
          ;(l += a / 2), (u += r - o), (h = 'center'), (c = 'bottom')
          break
        case 'insideTopLeft':
          ;(l += o), (u += o)
          break
        case 'insideTopRight':
          ;(l += a - o), (u += o), (h = 'right')
          break
        case 'insideBottomLeft':
          ;(l += o), (u += r - o), (c = 'bottom')
          break
        case 'insideBottomRight':
          ;(l += a - o), (u += r - o), (h = 'right'), (c = 'bottom')
      }
    return ((t = t || {}).x = l), (t.y = u), (t.align = h), (t.verticalAlign = c), t
  }
  var Oo,
    Ro = '__zr_normal__',
    No = So.concat(['ignore']),
    Eo = ut(
      So,
      function(t, e) {
        return (t[e] = !0), t
      },
      { ignore: !1 }
    ),
    zo = {},
    Bo = new Y(0, 0, 0, 0),
    e =
      ((n.prototype._init = function(t) {
        this.attr(t)
      }),
      (n.prototype.drift = function(t, e, n) {
        switch (this.draggable) {
          case 'horizontal':
            e = 0
            break
          case 'vertical':
            t = 0
        }
        var i = this.transform
        ;((i = i || (this.transform = [1, 0, 0, 1, 0, 0]))[4] += t), (i[5] += e), this.decomposeTransform(), this.markRedraw()
      }),
      (n.prototype.beforeUpdate = function() {}),
      (n.prototype.afterUpdate = function() {}),
      (n.prototype.update = function() {
        this.updateTransform(), this.__dirty && this.updateInnerText()
      }),
      (n.prototype.updateInnerText = function(t) {
        var e,
          n,
          i,
          o,
          r,
          a,
          s,
          l,
          u,
          h,
          c = this._textContent
        !c ||
          (c.ignore && !t) ||
          (this.textConfig || (this.textConfig = {}),
          (l = (t = this.textConfig).local),
          (i = n = void 0),
          (o = !1),
          ((e = c.innerTransformable).parent = l ? this : null),
          (h = !1),
          e.copyTransform(c),
          null != t.position &&
            ((u = Bo),
            t.layoutRect ? u.copy(t.layoutRect) : u.copy(this.getBoundingRect()),
            l || u.applyTransform(this.transform),
            this.calculateTextPosition ? this.calculateTextPosition(zo, t, u) : Po(zo, t, u),
            (e.x = zo.x),
            (e.y = zo.y),
            (n = zo.align),
            (i = zo.verticalAlign),
            (r = t.origin)) &&
            null != t.rotation &&
            ((s = a = void 0),
            (s = 'center' === r ? ((a = 0.5 * u.width), 0.5 * u.height) : ((a = Lo(r[0], u.width)), Lo(r[1], u.height))),
            (h = !0),
            (e.originX = -e.x + a + (l ? 0 : u.x)),
            (e.originY = -e.y + s + (l ? 0 : u.y))),
          null != t.rotation && (e.rotation = t.rotation),
          (r = t.offset) && ((e.x += r[0]), (e.y += r[1]), h || ((e.originX = -r[0]), (e.originY = -r[1]))),
          (a = null == t.inside ? 'string' == typeof t.position && 0 <= t.position.indexOf('inside') : t.inside),
          (s = this._innerTextDefaultStyle || (this._innerTextDefaultStyle = {})),
          (h = u = l = void 0),
          a && this.canBeInsideText()
            ? ((l = t.insideFill),
              (u = t.insideStroke),
              (null != l && 'auto' !== l) || (l = this.getInsideTextFill()),
              (null != u && 'auto' !== u) || ((u = this.getInsideTextStroke(l)), (h = !0)))
            : ((l = t.outsideFill),
              (u = t.outsideStroke),
              (null != l && 'auto' !== l) || (l = this.getOutsideFill()),
              (null != u && 'auto' !== u) || ((u = this.getOutsideStroke(l)), (h = !0))),
          ((l = l || '#000') === s.fill && u === s.stroke && h === s.autoStroke && n === s.align && i === s.verticalAlign) ||
            ((o = !0), (s.fill = l), (s.stroke = u), (s.autoStroke = h), (s.align = n), (s.verticalAlign = i), c.setDefaultTextStyle(s)),
          (c.__dirty |= _n),
          o && c.dirtyStyle(!0))
      }),
      (n.prototype.canBeInsideText = function() {
        return !0
      }),
      (n.prototype.getInsideTextFill = function() {
        return '#fff'
      }),
      (n.prototype.getInsideTextStroke = function(t) {
        return '#000'
      }),
      (n.prototype.getOutsideFill = function() {
        return this.__zr && this.__zr.isDarkMode() ? fo : po
      }),
      (n.prototype.getOutsideStroke = function(t) {
        for (
          var e = this.__zr && this.__zr.getBackgroundColor(),
            n = 'string' == typeof e && yi(e),
            i = (n = n || [255, 255, 255, 1])[3],
            o = this.__zr.isDarkMode(),
            r = 0;
          r < 3;
          r++
        )
          n[r] = n[r] * i + (o ? 0 : 255) * (1 - i)
        return (n[3] = 1), Si(n, 'rgba')
      }),
      (n.prototype.traverse = function(t, e) {}),
      (n.prototype.attrKV = function(t, e) {
        'textConfig' === t
          ? this.setTextConfig(e)
          : 'textContent' === t
          ? this.setTextContent(e)
          : 'clipPath' === t
          ? this.setClipPath(e)
          : 'extra' === t
          ? ((this.extra = this.extra || {}), P(this.extra, e))
          : (this[t] = e)
      }),
      (n.prototype.hide = function() {
        ;(this.ignore = !0), this.markRedraw()
      }),
      (n.prototype.show = function() {
        ;(this.ignore = !1), this.markRedraw()
      }),
      (n.prototype.attr = function(t, e) {
        if ('string' == typeof t) this.attrKV(t, e)
        else if (O(t))
          for (var n = ct(t), i = 0; i < n.length; i++) {
            var o = n[i]
            this.attrKV(o, t[o])
          }
        return this.markRedraw(), this
      }),
      (n.prototype.saveCurrentToNormalState = function(t) {
        this._innerSaveToNormal(t)
        for (var e = this._normalState, n = 0; n < this.animators.length; n++) {
          var i = this.animators[n],
            o = i.__fromStateTransition
          i.getLoop() || (o && o !== Ro) || ((o = (o = i.targetName) ? e[o] : e), i.saveTo(o))
        }
      }),
      (n.prototype._innerSaveToNormal = function(t) {
        var e = (e = this._normalState) || (this._normalState = {})
        t.textConfig && !e.textConfig && (e.textConfig = this.textConfig), this._savePrimaryToNormal(t, e, No)
      }),
      (n.prototype._savePrimaryToNormal = function(t, e, n) {
        for (var i = 0; i < n.length; i++) {
          var o = n[i]
          null == t[o] || o in e || (e[o] = this[o])
        }
      }),
      (n.prototype.hasState = function() {
        return 0 < this.currentStates.length
      }),
      (n.prototype.getState = function(t) {
        return this.states[t]
      }),
      (n.prototype.ensureState = function(t) {
        var e = this.states
        return e[t] || (e[t] = {}), e[t]
      }),
      (n.prototype.clearStates = function(t) {
        this.useState(Ro, !1, t)
      }),
      (n.prototype.useState = function(t, e, n, i) {
        var o = t === Ro,
          r = this.hasState()
        if (r || !o) {
          var a,
            r = this.currentStates,
            s = this.stateTransition
          if (!(0 <= C(r, t)) || (!e && 1 !== r.length)) {
            if ((a = (a = this.stateProxy && !o ? this.stateProxy(t) : a) || (this.states && this.states[t])) || o)
              return (
                o || this.saveCurrentToNormalState(a),
                (r = !!((a && a.hoverLayer) || i)) && this._toggleHoverLayerFlag(!0),
                this._applyStateObj(t, a, this._normalState, e, !n && !this.__inHover && s && 0 < s.duration, s),
                (i = this._textContent),
                (s = this._textGuide),
                i && i.useState(t, e, n, r),
                s && s.useState(t, e, n, r),
                o ? ((this.currentStates = []), (this._normalState = {})) : e ? this.currentStates.push(t) : (this.currentStates = [t]),
                this._updateAnimationTargets(),
                this.markRedraw(),
                !r && this.__inHover && (this._toggleHoverLayerFlag(!1), (this.__dirty &= ~_n)),
                a
              )
            it('State ' + t + ' not exists.')
          }
        }
      }),
      (n.prototype.useStates = function(t, e, n) {
        if (t.length) {
          var i = [],
            o = this.currentStates,
            r = t.length,
            a = r === o.length
          if (a)
            for (var s = 0; s < r; s++)
              if (t[s] !== o[s]) {
                a = !1
                break
              }
          if (!a) {
            for (s = 0; s < r; s++) {
              var l = t[s],
                u = void 0
              ;(u = (u = this.stateProxy ? this.stateProxy(l, t) : u) || this.states[l]) && i.push(u)
            }
            var h = i[r - 1],
              h = !!((h && h.hoverLayer) || n),
              n = (h && this._toggleHoverLayerFlag(!0), this._mergeStates(i)),
              c = this.stateTransition,
              n =
                (this.saveCurrentToNormalState(n),
                this._applyStateObj(t.join(','), n, this._normalState, !1, !e && !this.__inHover && c && 0 < c.duration, c),
                this._textContent),
              c = this._textGuide
            n && n.useStates(t, e, h),
              c && c.useStates(t, e, h),
              this._updateAnimationTargets(),
              (this.currentStates = t.slice()),
              this.markRedraw(),
              !h && this.__inHover && (this._toggleHoverLayerFlag(!1), (this.__dirty &= ~_n))
          }
        } else this.clearStates()
      }),
      (n.prototype.isSilent = function() {
        for (var t = this.silent, e = this.parent; !t && e; ) {
          if (e.silent) {
            t = !0
            break
          }
          e = e.parent
        }
        return t
      }),
      (n.prototype._updateAnimationTargets = function() {
        for (var t = 0; t < this.animators.length; t++) {
          var e = this.animators[t]
          e.targetName && e.changeTarget(this[e.targetName])
        }
      }),
      (n.prototype.removeState = function(t) {
        var e,
          t = C(this.currentStates, t)
        0 <= t && ((e = this.currentStates.slice()).splice(t, 1), this.useStates(e))
      }),
      (n.prototype.replaceState = function(t, e, n) {
        var i = this.currentStates.slice(),
          t = C(i, t),
          o = 0 <= C(i, e)
        0 <= t ? (o ? i.splice(t, 1) : (i[t] = e)) : n && !o && i.push(e), this.useStates(i)
      }),
      (n.prototype.toggleState = function(t, e) {
        e ? this.useState(t, !0) : this.removeState(t)
      }),
      (n.prototype._mergeStates = function(t) {
        for (var e, n = {}, i = 0; i < t.length; i++) {
          var o = t[i]
          P(n, o), o.textConfig && P((e = e || {}), o.textConfig)
        }
        return e && (n.textConfig = e), n
      }),
      (n.prototype._applyStateObj = function(t, e, n, i, o, r) {
        for (
          var a = !(e && i),
            s =
              (e && e.textConfig
                ? ((this.textConfig = P({}, (i ? this : n).textConfig)), P(this.textConfig, e.textConfig))
                : a && n.textConfig && (this.textConfig = n.textConfig),
              {}),
            l = !1,
            u = 0;
          u < No.length;
          u++
        ) {
          var h = No[u],
            c = o && Eo[h]
          e && null != e[h]
            ? c
              ? ((l = !0), (s[h] = e[h]))
              : (this[h] = e[h])
            : a && null != n[h] && (c ? ((l = !0), (s[h] = n[h])) : (this[h] = n[h]))
        }
        if (!o)
          for (u = 0; u < this.animators.length; u++) {
            var p = this.animators[u],
              d = p.targetName
            p.getLoop() || p.__changeFinalValue(d ? (e || n)[d] : e || n)
          }
        l && this._transitionState(t, s, r)
      }),
      (n.prototype._attachComponent = function(t) {
        var e
        ;(t.__zr && !t.__hostTarget) || (t !== this && ((e = this.__zr) && t.addSelfToZr(e), (t.__zr = e), (t.__hostTarget = this)))
      }),
      (n.prototype._detachComponent = function(t) {
        t.__zr && t.removeSelfFromZr(t.__zr), (t.__zr = null), (t.__hostTarget = null)
      }),
      (n.prototype.getClipPath = function() {
        return this._clipPath
      }),
      (n.prototype.setClipPath = function(t) {
        this._clipPath && this._clipPath !== t && this.removeClipPath(), this._attachComponent(t), (this._clipPath = t), this.markRedraw()
      }),
      (n.prototype.removeClipPath = function() {
        var t = this._clipPath
        t && (this._detachComponent(t), (this._clipPath = null), this.markRedraw())
      }),
      (n.prototype.getTextContent = function() {
        return this._textContent
      }),
      (n.prototype.setTextContent = function(t) {
        var e = this._textContent
        e !== t &&
          (e && e !== t && this.removeTextContent(),
          (t.innerTransformable = new wo()),
          this._attachComponent(t),
          (this._textContent = t),
          this.markRedraw())
      }),
      (n.prototype.setTextConfig = function(t) {
        this.textConfig || (this.textConfig = {}), P(this.textConfig, t), this.markRedraw()
      }),
      (n.prototype.removeTextConfig = function() {
        ;(this.textConfig = null), this.markRedraw()
      }),
      (n.prototype.removeTextContent = function() {
        var t = this._textContent
        t &&
          ((t.innerTransformable = null),
          this._detachComponent(t),
          (this._textContent = null),
          (this._innerTextDefaultStyle = null),
          this.markRedraw())
      }),
      (n.prototype.getTextGuideLine = function() {
        return this._textGuide
      }),
      (n.prototype.setTextGuideLine = function(t) {
        this._textGuide && this._textGuide !== t && this.removeTextGuideLine(),
          this._attachComponent(t),
          (this._textGuide = t),
          this.markRedraw()
      }),
      (n.prototype.removeTextGuideLine = function() {
        var t = this._textGuide
        t && (this._detachComponent(t), (this._textGuide = null), this.markRedraw())
      }),
      (n.prototype.markRedraw = function() {
        this.__dirty |= _n
        var t = this.__zr
        t && (this.__inHover ? t.refreshHover() : t.refresh()), this.__hostTarget && this.__hostTarget.markRedraw()
      }),
      (n.prototype.dirty = function() {
        this.markRedraw()
      }),
      (n.prototype._toggleHoverLayerFlag = function(t) {
        this.__inHover = t
        var e = this._textContent,
          n = this._textGuide
        e && (e.__inHover = t), n && (n.__inHover = t)
      }),
      (n.prototype.addSelfToZr = function(t) {
        if (this.__zr !== t) {
          this.__zr = t
          var e = this.animators
          if (e) for (var n = 0; n < e.length; n++) t.animation.addAnimator(e[n])
          this._clipPath && this._clipPath.addSelfToZr(t),
            this._textContent && this._textContent.addSelfToZr(t),
            this._textGuide && this._textGuide.addSelfToZr(t)
        }
      }),
      (n.prototype.removeSelfFromZr = function(t) {
        if (this.__zr) {
          this.__zr = null
          var e = this.animators
          if (e) for (var n = 0; n < e.length; n++) t.animation.removeAnimator(e[n])
          this._clipPath && this._clipPath.removeSelfFromZr(t),
            this._textContent && this._textContent.removeSelfFromZr(t),
            this._textGuide && this._textGuide.removeSelfFromZr(t)
        }
      }),
      (n.prototype.animate = function(t, e, n) {
        var i = t ? this[t] : this,
          i = new Vi(i, e, n)
        return t && (i.targetName = t), this.addAnimator(i, t), i
      }),
      (n.prototype.addAnimator = function(n, t) {
        var e = this.__zr,
          i = this
        n
          .during(function() {
            i.updateDuringAnimation(t)
          })
          .done(function() {
            var t = i.animators,
              e = C(t, n)
            0 <= e && t.splice(e, 1)
          }),
          this.animators.push(n),
          e && e.animation.addAnimator(n),
          e && e.wakeUp()
      }),
      (n.prototype.updateDuringAnimation = function(t) {
        this.markRedraw()
      }),
      (n.prototype.stopAnimation = function(t, e) {
        for (var n = this.animators, i = n.length, o = [], r = 0; r < i; r++) {
          var a = n[r]
          t && t !== a.scope ? o.push(a) : a.stop(e)
        }
        return (this.animators = o), this
      }),
      (n.prototype.animateTo = function(t, e, n) {
        Fo(this, t, e, n)
      }),
      (n.prototype.animateFrom = function(t, e, n) {
        Fo(this, t, e, n, !0)
      }),
      (n.prototype._transitionState = function(t, e, n, i) {
        for (var o = Fo(this, e, n, i), r = 0; r < o.length; r++) o[r].__fromStateTransition = t
      }),
      (n.prototype.getBoundingRect = function() {
        return null
      }),
      (n.prototype.getPaintRect = function() {
        return null
      }),
      (n.initDefaultProps =
        (((Oo = n.prototype).type = 'element'),
        (Oo.name = ''),
        (Oo.ignore = Oo.silent = Oo.isGroup = Oo.draggable = Oo.dragging = Oo.ignoreClip = Oo.__inHover = !1),
        (Oo.__dirty = _n),
        void (
          Object.defineProperty &&
          (Vo('position', '_legacyPos', 'x', 'y'),
          Vo('scale', '_legacyScale', 'scaleX', 'scaleY'),
          Vo('origin', '_legacyOrigin', 'originX', 'originY'))
        ))),
      n)
  function n(t) {
    ;(this.id = et++), (this.animators = []), (this.currentStates = []), (this.states = {}), this._init(t)
  }
  function Vo(t, e, n, i) {
    function o(e, t) {
      Object.defineProperty(t, 0, {
        get: function() {
          return e[n]
        },
        set: function(t) {
          e[n] = t
        },
      }),
        Object.defineProperty(t, 1, {
          get: function() {
            return e[i]
          },
          set: function(t) {
            e[i] = t
          },
        })
    }
    Object.defineProperty(Oo, t, {
      get: function() {
        var t
        return this[e] || ((t = this[e] = []), o(this, t)), this[e]
      },
      set: function(t) {
        ;(this[n] = t[0]), (this[i] = t[1]), (this[e] = t), o(this, t)
      },
    })
  }
  function Fo(t, e, n, i, o) {
    function r() {
      ;(u = !0), --l <= 0 && (u ? h && h() : c && c())
    }
    function a() {
      --l <= 0 && (u ? h && h() : c && c())
    }
    var s = [],
      l =
        (!(function t(e, n, i, o, r, a, s, l) {
          var u = ct(o)
          var h = r.duration
          var c = r.delay
          var p = r.additive
          var d = r.setToFinal
          var f = !O(a)
          var g = e.animators
          var y = []
          for (var m = 0; m < u.length; m++) {
            var v = u[m],
              _ = o[v]
            null != _ && null != i[v] && (f || a[v])
              ? !O(_) || lt(_) || yt(_)
                ? y.push(v)
                : n
                ? l || ((i[v] = _), e.updateDuringAnimation(n))
                : t(e, v, i[v], _, r, a && a[v], s, l)
              : l || ((i[v] = _), e.updateDuringAnimation(n), y.push(v))
          }
          var x = y.length
          if (!p && x)
            for (var w, b = 0; b < g.length; b++) (S = g[b]).targetName === n && S.stopTracks(y) && ((w = C(g, S)), g.splice(w, 1))
          r.force ||
            ((y = ht(y, function(t) {
              return !Wo(o[t], i[t])
            })),
            (x = y.length))
          if (0 < x || (r.force && !s.length)) {
            var S,
              M = void 0,
              T = void 0,
              I = void 0
            if (l) {
              ;(T = {}), d && (M = {})
              for (b = 0; b < x; b++) {
                v = y[b]
                ;(T[v] = i[v]), d ? (M[v] = o[v]) : (i[v] = o[v])
              }
            } else if (d) {
              I = {}
              for (b = 0; b < x; b++) {
                v = y[b]
                ;(I[v] = Pi(i[v])), Go(i, o, v)
              }
            }
            ;((S = new Vi(
              i,
              !1,
              !1,
              p
                ? ht(g, function(t) {
                    return t.targetName === n
                  })
                : null
            )).targetName = n),
              r.scope && (S.scope = r.scope),
              d && M && S.whenWithKeys(0, M, y),
              I && S.whenWithKeys(0, I, y),
              S.whenWithKeys(null == h ? 500 : h, l ? T : o, y).delay(c || 0),
              e.addAnimator(S, n),
              s.push(S)
          }
        })(t, '', t, e, (n = n || {}), i, s, o),
        s.length),
      u = !1,
      h = n.done,
      c = n.aborted
    l || (h && h()),
      0 < s.length &&
        n.during &&
        s[0].during(function(t, e) {
          n.during(e)
        })
    for (var p = 0; p < s.length; p++) {
      var d = s[p]
      d.done(r), d.aborted(a), n.force && d.duration(n.duration), d.start(n.easing)
    }
    return s
  }
  function Ho(t, e, n) {
    for (var i = 0; i < n; i++) t[i] = e[i]
  }
  function Go(t, e, n) {
    if (lt(e[n]))
      if ((lt(t[n]) || (t[n] = []), ft(e[n]))) {
        var i = e[n].length
        t[n].length !== i && ((t[n] = new e[n].constructor(i)), Ho(t[n], e[n], i))
      } else {
        var o = e[n],
          r = t[n],
          a = o.length
        if (lt(o[0])) for (var s = o[0].length, l = 0; l < a; l++) r[l] ? Ho(r[l], o[l], s) : (r[l] = Array.prototype.slice.call(o[l]))
        else Ho(r, o, a)
        r.length = o.length
      }
    else t[n] = e[n]
  }
  function Wo(t, e) {
    return (
      t === e ||
      (lt(t) &&
        lt(e) &&
        (function(t, e) {
          var n = t.length
          if (n !== e.length) return !1
          for (var i = 0; i < n; i++) if (t[i] !== e[i]) return !1
          return !0
        })(t, e))
    )
  }
  st(e, se), st(e, wo)
  u(Xo, (Uo = e)),
    (Xo.prototype.childrenRef = function() {
      return this._children
    }),
    (Xo.prototype.children = function() {
      return this._children.slice()
    }),
    (Xo.prototype.childAt = function(t) {
      return this._children[t]
    }),
    (Xo.prototype.childOfName = function(t) {
      for (var e = this._children, n = 0; n < e.length; n++) if (e[n].name === t) return e[n]
    }),
    (Xo.prototype.childCount = function() {
      return this._children.length
    }),
    (Xo.prototype.add = function(t) {
      return t && t !== this && t.parent !== this && (this._children.push(t), this._doAdd(t)), this
    }),
    (Xo.prototype.addBefore = function(t, e) {
      var n
      return (
        t &&
          t !== this &&
          t.parent !== this &&
          e &&
          e.parent === this &&
          0 <= (e = (n = this._children).indexOf(e)) &&
          (n.splice(e, 0, t), this._doAdd(t)),
        this
      )
    }),
    (Xo.prototype.replace = function(t, e) {
      t = C(this._children, t)
      return 0 <= t && this.replaceAt(e, t), this
    }),
    (Xo.prototype.replaceAt = function(t, e) {
      var n = this._children,
        i = n[e]
      return (
        t &&
          t !== this &&
          t.parent !== this &&
          t !== i &&
          ((n[e] = t), (i.parent = null), (n = this.__zr) && i.removeSelfFromZr(n), this._doAdd(t)),
        this
      )
    }),
    (Xo.prototype._doAdd = function(t) {
      t.parent && t.parent.remove(t)
      var e = (t.parent = this).__zr
      e && e !== t.__zr && t.addSelfToZr(e), e && e.refresh()
    }),
    (Xo.prototype.remove = function(t) {
      var e = this.__zr,
        n = this._children,
        i = C(n, t)
      return i < 0 || (n.splice(i, 1), (t.parent = null), e && t.removeSelfFromZr(e), e && e.refresh()), this
    }),
    (Xo.prototype.removeAll = function() {
      for (var t = this._children, e = this.__zr, n = 0; n < t.length; n++) {
        var i = t[n]
        e && i.removeSelfFromZr(e), (i.parent = null)
      }
      return (t.length = 0), this
    }),
    (Xo.prototype.eachChild = function(t, e) {
      for (var n = this._children, i = 0; i < n.length; i++) {
        var o = n[i]
        t.call(e, o, i)
      }
      return this
    }),
    (Xo.prototype.traverse = function(t, e) {
      for (var n = 0; n < this._children.length; n++) {
        var i = this._children[n],
          o = t.call(e, i)
        i.isGroup && !o && i.traverse(t, e)
      }
      return this
    }),
    (Xo.prototype.addSelfToZr = function(t) {
      Uo.prototype.addSelfToZr.call(this, t)
      for (var e = 0; e < this._children.length; e++) this._children[e].addSelfToZr(t)
    }),
    (Xo.prototype.removeSelfFromZr = function(t) {
      Uo.prototype.removeSelfFromZr.call(this, t)
      for (var e = 0; e < this._children.length; e++) this._children[e].removeSelfFromZr(t)
    }),
    (Xo.prototype.getBoundingRect = function(t) {
      for (var e = new Y(0, 0, 0, 0), n = t || this._children, i = [], o = null, r = 0; r < n.length; r++) {
        var a,
          s = n[r]
        s.ignore ||
          s.invisible ||
          ((a = s.getBoundingRect()),
          (s = s.getLocalTransform(i)) ? (Y.applyTransform(e, a, s), (o = o || e.clone()).union(e)) : (o = o || a.clone()).union(a))
      }
      return o || e
    })
  var Uo,
    Yo = Xo
  function Xo(t) {
    var e = Uo.call(this) || this
    return (e.isGroup = !0), (e._children = []), e.attr(t), e
  }
  Yo.prototype.type = 'group'
  var Zo = {},
    qo = {}
  ;($o.prototype.add = function(t) {
    !this._disposed && t && (this.storage.addRoot(t), t.addSelfToZr(this), this.refresh())
  }),
    ($o.prototype.remove = function(t) {
      !this._disposed && t && (this.storage.delRoot(t), t.removeSelfFromZr(this), this.refresh())
    }),
    ($o.prototype.configLayer = function(t, e) {
      this._disposed || (this.painter.configLayer && this.painter.configLayer(t, e), this.refresh())
    }),
    ($o.prototype.setBackgroundColor = function(t) {
      this._disposed ||
        (this.painter.setBackgroundColor && this.painter.setBackgroundColor(t),
        this.refresh(),
        (this._backgroundColor = t),
        (this._darkMode = (function(t) {
          if (t) {
            if ('string' == typeof t) return Mi(t, 1) < 0.4
            if (t.colorStops) {
              for (var e = t.colorStops, n = 0, i = e.length, o = 0; o < i; o++) n += Mi(e[o].color, 1)
              return (n /= i) < 0.4
            }
          }
          return !1
        })(t)))
    }),
    ($o.prototype.getBackgroundColor = function() {
      return this._backgroundColor
    }),
    ($o.prototype.setDarkMode = function(t) {
      this._darkMode = t
    }),
    ($o.prototype.isDarkMode = function() {
      return this._darkMode
    }),
    ($o.prototype.refreshImmediately = function(t) {
      this._disposed || (t || this.animation.update(!0), (this._needsRefresh = !1), this.painter.refresh(), (this._needsRefresh = !1))
    }),
    ($o.prototype.refresh = function() {
      this._disposed || ((this._needsRefresh = !0), this.animation.start())
    }),
    ($o.prototype.flush = function() {
      this._disposed || this._flush(!1)
    }),
    ($o.prototype._flush = function(t) {
      var e,
        n = Hi(),
        t =
          (this._needsRefresh && ((e = !0), this.refreshImmediately(t)),
          this._needsRefreshHover && ((e = !0), this.refreshHoverImmediately()),
          Hi())
      e
        ? ((this._stillFrameAccum = 0), this.trigger('rendered', { elapsedTime: t - n }))
        : 0 < this._sleepAfterStill && (this._stillFrameAccum++, this._stillFrameAccum > this._sleepAfterStill) && this.animation.stop()
    }),
    ($o.prototype.setSleepAfterStill = function(t) {
      this._sleepAfterStill = t
    }),
    ($o.prototype.wakeUp = function() {
      this._disposed || (this.animation.start(), (this._stillFrameAccum = 0))
    }),
    ($o.prototype.refreshHover = function() {
      this._needsRefreshHover = !0
    }),
    ($o.prototype.refreshHoverImmediately = function() {
      this._disposed ||
        ((this._needsRefreshHover = !1), this.painter.refreshHover && 'canvas' === this.painter.getType() && this.painter.refreshHover())
    }),
    ($o.prototype.resize = function(t) {
      this._disposed || (this.painter.resize((t = t || {}).width, t.height), this.handler.resize())
    }),
    ($o.prototype.clearAnimation = function() {
      this._disposed || this.animation.clear()
    }),
    ($o.prototype.getWidth = function() {
      if (!this._disposed) return this.painter.getWidth()
    }),
    ($o.prototype.getHeight = function() {
      if (!this._disposed) return this.painter.getHeight()
    }),
    ($o.prototype.setCursorStyle = function(t) {
      this._disposed || this.handler.setCursorStyle(t)
    }),
    ($o.prototype.findHover = function(t, e) {
      if (!this._disposed) return this.handler.findHover(t, e)
    }),
    ($o.prototype.on = function(t, e, n) {
      return this._disposed || this.handler.on(t, e, n), this
    }),
    ($o.prototype.off = function(t, e) {
      this._disposed || this.handler.off(t, e)
    }),
    ($o.prototype.trigger = function(t, e) {
      this._disposed || this.handler.trigger(t, e)
    }),
    ($o.prototype.clear = function() {
      if (!this._disposed) {
        for (var t = this.storage.getRoots(), e = 0; e < t.length; e++) t[e] instanceof Yo && t[e].removeSelfFromZr(this)
        this.storage.delAllRoots(), this.painter.clear()
      }
    }),
    ($o.prototype.dispose = function() {
      var t
      this._disposed ||
        (this.animation.stop(),
        this.clear(),
        this.storage.dispose(),
        this.painter.dispose(),
        this.handler.dispose(),
        (this.animation = this.storage = this.painter = this.handler = null),
        (this._disposed = !0),
        (t = this.id),
        delete qo[t])
    })
  var jo,
    Ko = $o
  function $o(t, e, n) {
    var i,
      o = this,
      r =
        ((this._sleepAfterStill = 10),
        (this._stillFrameAccum = 0),
        (this._needsRefresh = !0),
        (this._needsRefreshHover = !0),
        (this._darkMode = !1),
        (n = n || {}),
        (this.dom = e),
        (this.id = t),
        new Mn()),
      a = n.renderer || 'canvas',
      a = (Zo[a] || (a = ct(Zo)[0]), (n.useDirtyRect = null != n.useDirtyRect && n.useDirtyRect), new Zo[a](e, r, n, t)),
      e = n.ssr || a.ssrOnly,
      t = ((this.storage = r), (this.painter = a), b.node || b.worker || e ? null : new uo(a.getViewportRoot(), a.root)),
      s = n.useCoarsePointer
    ;(null == s || 'auto' === s ? b.touchEventsSupported : !!s) && (i = R(n.pointerSize, 44)),
      (this.handler = new sn(r, a, t, a.root, i)),
      (this.animation = new Wi({
        stage: {
          update: e
            ? null
            : function() {
                return o._flush(!0)
              },
        },
      })),
      e || this.animation.start()
  }
  function Qo(t, e) {
    t = new Ko(et++, t, e)
    return (qo[t.id] = t)
  }
  function Jo(t, e) {
    Zo[t] = e
  }
  function tr(t) {
    jo = t
  }
  var er = Object.freeze({
      __proto__: null,
      dispose: function(t) {
        t.dispose()
      },
      disposeAll: function() {
        for (var t in qo) qo.hasOwnProperty(t) && qo[t].dispose()
        qo = {}
      },
      getElementSSRData: function(t) {
        if ('function' == typeof jo) return jo(t)
      },
      getInstance: function(t) {
        return qo[t]
      },
      init: Qo,
      registerPainter: Jo,
      registerSSRDataGetter: tr,
      version: '5.6.1',
    }),
    nr = 20
  function ir(t, e, n, i) {
    var o = e[0],
      e = e[1],
      r = n[0],
      n = n[1],
      a = e - o,
      s = n - r
    if (0 == a) return 0 == s ? r : (r + n) / 2
    if (i)
      if (0 < a) {
        if (t <= o) return r
        if (e <= t) return n
      } else {
        if (o <= t) return r
        if (t <= e) return n
      }
    else {
      if (t === o) return r
      if (t === e) return n
    }
    return ((t - o) / a) * s + r
  }
  function W(t, e) {
    switch (t) {
      case 'center':
      case 'middle':
        t = '50%'
        break
      case 'left':
      case 'top':
        t = '0%'
        break
      case 'right':
      case 'bottom':
        t = '100%'
    }
    return F(t) ? (t.replace(/^\s+|\s+$/g, '').match(/%$/) ? (parseFloat(t) / 100) * e : parseFloat(t)) : null == t ? NaN : +t
  }
  function or(t, e, n) {
    return null == e && (e = 10), (e = Math.min(Math.max(0, e), nr)), (t = (+t).toFixed(e)), n ? t : +t
  }
  function rr(t) {
    return (
      t.sort(function(t, e) {
        return t - e
      }),
      t
    )
  }
  function ar(t) {
    if (((t = +t), isNaN(t))) return 0
    if (1e-14 < t) for (var e = 1, n = 0; n < 15; n++, e *= 10) if (Math.round(t * e) / e === t) return n
    return sr(t)
  }
  function sr(t) {
    var t = t.toString().toLowerCase(),
      e = t.indexOf('e'),
      n = 0 < e ? +t.slice(e + 1) : 0,
      e = 0 < e ? e : t.length,
      t = t.indexOf('.')
    return Math.max(0, (t < 0 ? 0 : e - 1 - t) - n)
  }
  function lr(t, e) {
    var n = Math.log,
      i = Math.LN10,
      t = Math.floor(n(t[1] - t[0]) / i),
      n = Math.round(n(Math.abs(e[1] - e[0])) / i),
      e = Math.min(Math.max(-t + n, 0), 20)
    return isFinite(e) ? e : 20
  }
  function ur(t, e) {
    var n = ut(
      t,
      function(t, e) {
        return t + (isNaN(e) ? 0 : e)
      },
      0
    )
    if (0 === n) return []
    for (
      var i = Math.pow(10, e),
        e = B(t, function(t) {
          return ((isNaN(t) ? 0 : t) / n) * i * 100
        }),
        o = 100 * i,
        r = B(e, function(t) {
          return Math.floor(t)
        }),
        a = ut(
          r,
          function(t, e) {
            return t + e
          },
          0
        ),
        s = B(e, function(t, e) {
          return t - r[e]
        });
      a < o;

    ) {
      for (var l = Number.NEGATIVE_INFINITY, u = null, h = 0, c = s.length; h < c; ++h) s[h] > l && ((l = s[h]), (u = h))
      ++r[u], (s[u] = 0), ++a
    }
    return B(r, function(t) {
      return t / i
    })
  }
  function hr(t) {
    var e = 2 * Math.PI
    return ((t % e) + e) % e
  }
  function cr(t) {
    return -1e-4 < t && t < 1e-4
  }
  var pr = /^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/
  function dr(t) {
    var e, n
    return t instanceof Date
      ? t
      : F(t)
      ? (e = pr.exec(t))
        ? e[8]
          ? ((n = +e[4] || 0),
            'Z' !== e[8].toUpperCase() && (n -= +e[8].slice(0, 3)),
            new Date(Date.UTC(+e[1], +(e[2] || 1) - 1, +e[3] || 1, n, +(e[5] || 0), +e[6] || 0, e[7] ? +e[7].substring(0, 3) : 0)))
          : new Date(+e[1], +(e[2] || 1) - 1, +e[3] || 1, +e[4] || 0, +(e[5] || 0), +e[6] || 0, e[7] ? +e[7].substring(0, 3) : 0)
        : new Date(NaN)
      : null == t
      ? new Date(NaN)
      : new Date(Math.round(t))
  }
  function fr(t) {
    return Math.pow(10, gr(t))
  }
  function gr(t) {
    var e
    return 0 === t ? 0 : ((e = Math.floor(Math.log(t) / Math.LN10)), 10 <= t / Math.pow(10, e) && e++, e)
  }
  function yr(t, e) {
    var n = gr(t),
      i = Math.pow(10, n),
      o = t / i,
      e = e ? (o < 1.5 ? 1 : o < 2.5 ? 2 : o < 4 ? 3 : o < 7 ? 5 : 10) : o < 1 ? 1 : o < 2 ? 2 : o < 3 ? 3 : o < 5 ? 5 : 10
    return (t = e * i), -20 <= n ? +t.toFixed(n < 0 ? -n : 0) : t
  }
  function mr(t) {
    var e = parseFloat(t)
    return e == t && (0 !== e || !F(t) || t.indexOf('x') <= 0) ? e : NaN
  }
  function vr(t) {
    return !isNaN(mr(t))
  }
  function _r() {
    return Math.round(9 * Math.random())
  }
  function xr(t, e) {
    return null == t
      ? e
      : null == e
      ? t
      : (t * e) /
        (function t(e, n) {
          return 0 === n ? e : t(n, e % n)
        })(t, e)
  }
  function f(t) {
    throw new Error(t)
  }
  function wr(t, e, n) {
    return (e - t) * n + t
  }
  var br = 'series\0'
  function Sr(t) {
    return t instanceof Array ? t : null == t ? [] : [t]
  }
  function Mr(t, e, n) {
    if (t) {
      ;(t[e] = t[e] || {}), (t.emphasis = t.emphasis || {}), (t.emphasis[e] = t.emphasis[e] || {})
      for (var i = 0, o = n.length; i < o; i++) {
        var r = n[i]
        !t.emphasis[e].hasOwnProperty(r) && t[e].hasOwnProperty(r) && (t.emphasis[e][r] = t[e][r])
      }
    }
  }
  var Tr = [
    'fontStyle',
    'fontWeight',
    'fontSize',
    'fontFamily',
    'rich',
    'tag',
    'color',
    'textBorderColor',
    'textBorderWidth',
    'width',
    'height',
    'lineHeight',
    'align',
    'verticalAlign',
    'baseline',
    'shadowColor',
    'shadowBlur',
    'shadowOffsetX',
    'shadowOffsetY',
    'textShadowColor',
    'textShadowBlur',
    'textShadowOffsetX',
    'textShadowOffsetY',
    'backgroundColor',
    'borderColor',
    'borderWidth',
    'borderRadius',
    'padding',
  ]
  function Ir(t) {
    return !O(t) || V(t) || t instanceof Date ? t : t.value
  }
  function Cr(t, n, e) {
    var r,
      a,
      s,
      l,
      o,
      u,
      i,
      h,
      c,
      p,
      d = 'normalMerge' === e,
      f = 'replaceMerge' === e,
      g = 'replaceAll' === e,
      y = ((t = t || []), (n = (n || []).slice()), N()),
      e =
        (E(n, function(t, e) {
          O(t) || (n[e] = null)
        }),
        (function(t, e, n) {
          var i = []
          if ('replaceAll' !== n)
            for (var o = 0; o < t.length; o++) {
              var r = t[o]
              r && null != r.id && e.set(r.id, o),
                i.push({ existing: 'replaceMerge' === n || Pr(r) ? null : r, newOption: null, keyInfo: null, brandNew: null })
            }
          return i
        })(t, y, e))
    return (
      (d || f) &&
        ((r = e),
        (a = t),
        (s = y),
        E((l = n), function(t, e) {
          var n, i, o
          t &&
            null != t.id &&
            ((n = Dr(t.id)), null != (i = s.get(n))) &&
            (Mt(!(o = r[i]).newOption, 'Duplicated option on id "' + n + '".'), (o.newOption = t), (o.existing = a[i]), (l[e] = null))
        })),
      d &&
        ((o = e),
        E((u = n), function(t, e) {
          if (t && null != t.name)
            for (var n = 0; n < o.length; n++) {
              var i = o[n].existing
              if (!o[n].newOption && i && (null == i.id || null == t.id) && !Pr(t) && !Pr(i) && Ar('name', i, t))
                return (o[n].newOption = t), void (u[e] = null)
            }
        })),
      d || f
        ? ((h = e),
          (c = f),
          E(n, function(t) {
            if (t) {
              for (
                var e, n = 0;
                (e = h[n]) && (e.newOption || Pr(e.existing) || (e.existing && null != t.id && !Ar('id', t, e.existing)));

              )
                n++
              e ? ((e.newOption = t), (e.brandNew = c)) : h.push({ newOption: t, brandNew: c, existing: null, keyInfo: null }), n++
            }
          }))
        : g &&
          ((i = e),
          E(n, function(t) {
            i.push({ newOption: t, brandNew: !0, existing: null, keyInfo: null })
          })),
      (t = e),
      (p = N()),
      E(t, function(t) {
        var e = t.existing
        e && p.set(e.id, t)
      }),
      E(t, function(t) {
        var e = t.newOption
        Mt(!e || null == e.id || !p.get(e.id) || p.get(e.id) === t, 'id duplicates: ' + (e && e.id)),
          e && null != e.id && p.set(e.id, t),
          t.keyInfo || (t.keyInfo = {})
      }),
      E(t, function(t, e) {
        var n = t.existing,
          i = t.newOption,
          o = t.keyInfo
        if (O(i)) {
          if (((o.name = null != i.name ? Dr(i.name) : n ? n.name : br + e), n)) o.id = Dr(n.id)
          else if (null != i.id) o.id = Dr(i.id)
          else for (var r = 0; (o.id = '\0' + o.name + '\0' + r++), p.get(o.id); );
          p.set(o.id, t)
        }
      }),
      e
    )
  }
  function Ar(t, e, n) {
    ;(e = kr(e[t], null)), (n = kr(n[t], null))
    return null != e && null != n && e === n
  }
  function Dr(t) {
    return kr(t, '')
  }
  function kr(t, e) {
    return null == t ? e : F(t) ? t : H(t) || pt(t) ? t + '' : e
  }
  function Lr(t) {
    t = t.name
    return !(!t || !t.indexOf(br))
  }
  function Pr(t) {
    return t && null != t.id && 0 === Dr(t.id).indexOf('\0_ec_\0')
  }
  function Or(t, o, r) {
    E(t, function(t) {
      var e,
        n,
        i = t.newOption
      O(i) &&
        ((t.keyInfo.mainType = o),
        (t.keyInfo.subType = ((e = o), (i = i), (t = t.existing), (n = r), i.type || (t ? t.subType : n.determineSubType(e, i)))))
    })
  }
  function Rr(e, t) {
    return null != t.dataIndexInside
      ? t.dataIndexInside
      : null != t.dataIndex
      ? V(t.dataIndex)
        ? B(t.dataIndex, function(t) {
            return e.indexOfRawIndex(t)
          })
        : e.indexOfRawIndex(t.dataIndex)
      : null != t.name
      ? V(t.name)
        ? B(t.name, function(t) {
            return e.indexOfName(t)
          })
        : e.indexOfName(t.name)
      : void 0
  }
  function Nr() {
    var e = '__ec_inner_' + Er++
    return function(t) {
      return t[e] || (t[e] = {})
    }
  }
  var Er = _r()
  function zr(n, t, i) {
    var t = Br(t, i),
      e = t.mainTypeSpecified,
      o = t.queryOptionMap,
      r = t.others,
      a = i ? i.defaultMainType : null
    return (
      !e && a && o.set(a, {}),
      o.each(function(t, e) {
        t = Hr(n, e, t, {
          useDefault: a === e,
          enableAll: !i || null == i.enableAll || i.enableAll,
          enableNone: !i || null == i.enableNone || i.enableNone,
        })
        ;(r[e + 'Models'] = t.models), (r[e + 'Model'] = t.models[0])
      }),
      r
    )
  }
  function Br(t, i) {
    var e = F(t) ? (((e = {})[t + 'Index'] = 0), e) : t,
      o = N(),
      r = {},
      a = !1
    return (
      E(e, function(t, e) {
        var n
        'dataIndex' === e || 'dataIndexInside' === e
          ? (r[e] = t)
          : ((n = (e = e.match(/^(\w+)(Index|Id|Name)$/) || [])[1]),
            (e = (e[2] || '').toLowerCase()),
            !n || !e || (i && i.includeMainTypes && C(i.includeMainTypes, n) < 0) || ((a = a || !!n), ((o.get(n) || o.set(n, {}))[e] = t)))
      }),
      { mainTypeSpecified: a, queryOptionMap: o, others: r }
    )
  }
  var Vr = { useDefault: !0, enableAll: !1, enableNone: !1 },
    Fr = { useDefault: !1, enableAll: !0, enableNone: !0 }
  function Hr(t, e, n, i) {
    i = i || Vr
    var o = n.index,
      r = n.id,
      n = n.name,
      a = { models: null, specified: null != o || null != r || null != n }
    return (
      a.specified
        ? 'none' === o || !1 === o
          ? (Mt(i.enableNone, '`"none"` or `false` is not a valid value on index option.'), (a.models = []))
          : ('all' === o && (Mt(i.enableAll, '`"all"` is not a valid value on index option.'), (o = r = n = null)),
            (a.models = t.queryComponents({ mainType: e, index: o, id: r, name: n })))
        : ((o = void 0), (a.models = i.useDefault && (o = t.getComponent(e)) ? [o] : [])),
      a
    )
  }
  function Gr(t, e, n) {
    t.setAttribute ? t.setAttribute(e, n) : (t[e] = n)
  }
  function Wr(t, e, n, i, o) {
    var r = null == e || 'auto' === e
    if (null == i) return i
    if (H(i)) return or((p = wr(n || 0, i, o)), r ? Math.max(ar(n || 0), ar(i)) : e)
    if (F(i)) return o < 1 ? n : i
    for (var a = [], s = n, l = i, u = Math.max(s ? s.length : 0, l.length), h = 0; h < u; ++h) {
      var c,
        p,
        d = t.getDimensionInfo(h)
      d && 'ordinal' === d.type
        ? (a[h] = (o < 1 && s ? s : l)[h])
        : ((p = wr((d = s && s[h] ? s[h] : 0), (c = l[h]), o)), (a[h] = or(p, r ? Math.max(ar(d), ar(c)) : e)))
    }
    return a
  }
  var Ur = '.',
    Yr = '___EC__COMPONENT__CONTAINER___',
    Xr = '___EC__EXTENDED_CLASS___'
  function Zr(t) {
    var e = { main: '', sub: '' }
    return t && ((t = t.split(Ur)), (e.main = t[0] || ''), (e.sub = t[1] || '')), e
  }
  function qr(t) {
    ;(t.$constructor = t).extend = function(t) {
      var e,
        n,
        i,
        o = this
      function r() {
        return n.apply(this, arguments) || this
      }
      return (
        A((i = o)) && /^class\s/.test(Function.prototype.toString.call(i))
          ? (u(r, (n = o)), (e = r))
          : at(
              (e = function() {
                ;(t.$constructor || o).apply(this, arguments)
              }),
              this
            ),
        P(e.prototype, t),
        (e[Xr] = !0),
        (e.extend = this.extend),
        (e.superCall = $r),
        (e.superApply = Qr),
        (e.superClass = o),
        e
      )
    }
  }
  function jr(t, e) {
    t.extend = e.extend
  }
  var Kr = Math.round(10 * Math.random())
  function $r(t, e) {
    for (var n = [], i = 2; i < arguments.length; i++) n[i - 2] = arguments[i]
    return this.superClass.prototype[e].apply(t, n)
  }
  function Qr(t, e, n) {
    return this.superClass.prototype[e].apply(t, n)
  }
  function Jr(t) {
    var o = {}
    ;(t.registerClass = function(t) {
      var e,
        n = t.type || t.prototype.type
      return (
        n &&
          (Mt(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test((e = n)), 'componentType "' + e + '" illegal'),
          (e = Zr((t.prototype.type = n))).sub
            ? e.sub !== Yr &&
              ((function(t) {
                var e = o[t.main]
                ;(e && e[Yr]) || (e = o[t.main] = { ___EC__COMPONENT__CONTAINER___: !0 })
                return e
              })(e)[e.sub] = t)
            : (o[e.main] = t)),
        t
      )
    }),
      (t.getClass = function(t, e, n) {
        var i = o[t]
        if ((i && i[Yr] && (i = e ? i[e] : null), n && !i))
          throw new Error(e ? 'Component ' + t + '.' + (e || '') + ' is used but not imported.' : t + '.type should be specified.')
        return i
      }),
      (t.getClassesByMainType = function(t) {
        var t = Zr(t),
          n = [],
          t = o[t.main]
        return (
          t && t[Yr]
            ? E(t, function(t, e) {
                e !== Yr && n.push(t)
              })
            : n.push(t),
          n
        )
      }),
      (t.hasClass = function(t) {
        t = Zr(t)
        return !!o[t.main]
      }),
      (t.getAllClassMainTypes = function() {
        var n = []
        return (
          E(o, function(t, e) {
            n.push(e)
          }),
          n
        )
      }),
      (t.hasSubTypes = function(t) {
        ;(t = Zr(t)), (t = o[t.main])
        return t && t[Yr]
      })
  }
  function ta(a, s) {
    for (var t = 0; t < a.length; t++) a[t][1] || (a[t][1] = a[t][0])
    return (
      (s = s || !1),
      function(t, e, n) {
        for (var i = {}, o = 0; o < a.length; o++) {
          var r = a[o][1]
          ;(e && 0 <= C(e, r)) || (n && C(n, r) < 0) || (null != (r = t.getShallow(r, s)) && (i[a[o][0]] = r))
        }
        return i
      }
    )
  }
  var ea = ta([['fill', 'color'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['opacity'], ['shadowColor']]),
    na =
      ((ia.prototype.getAreaStyle = function(t, e) {
        return ea(this, t, e)
      }),
      ia)
  function ia() {}
  var oa = new ni(50)
  function ra(t, e, n, i, o) {
    return t
      ? 'string' == typeof t
        ? ((e && e.__zrImageSrc === t) ||
            !n ||
            ((n = { hostEl: n, cb: i, cbPayload: o }),
            (i = oa.get(t))
              ? sa((e = i.image)) || i.pending.push(n)
              : (((e = U.loadImage(t, aa, aa)).__zrImageSrc = t), oa.put(t, (e.__cachedImgObj = { image: e, pending: [n] })))),
          e)
        : t
      : e
  }
  function aa() {
    var t = this.__cachedImgObj
    this.onload = this.onerror = this.__cachedImgObj = null
    for (var e = 0; e < t.pending.length; e++) {
      var n = t.pending[e],
        i = n.cb
      i && i(this, n.cbPayload), n.hostEl.dirty()
    }
    t.pending.length = 0
  }
  function sa(t) {
    return t && t.width && t.height
  }
  var la = /\{([a-zA-Z0-9_]+)\|([^}]*)\}/g
  function ua(t, e, n, i, o, r) {
    if (n) {
      for (var a = (e + '').split('\n'), s = ((r = ha(n, i, o, r)), !1), l = {}, u = 0, h = a.length; u < h; u++)
        ca(l, a[u], r), (a[u] = l.textLine), (s = s || l.isTruncated)
      ;(t.text = a.join('\n')), (t.isTruncated = s)
    } else (t.text = ''), (t.isTruncated = !1)
  }
  function ha(t, e, n, i) {
    for (
      var o = P({}, (i = i || {})),
        r = ((o.font = e), (n = R(n, '...')), (o.maxIterations = R(i.maxIterations, 2)), (o.minChar = R(i.minChar, 0))),
        a = ((o.cnCharWidth = To('国', e)), (o.ascCharWidth = To('a', e))),
        s = ((o.placeholder = R(i.placeholder, '')), (t = Math.max(0, t - 1))),
        l = 0;
      l < r && a <= s;
      l++
    )
      s -= a
    i = To(n, e)
    return (
      s < i && ((n = ''), (i = 0)), (s = t - i), (o.ellipsis = n), (o.ellipsisWidth = i), (o.contentWidth = s), (o.containerWidth = t), o
    )
  }
  function ca(t, e, n) {
    var i = n.containerWidth,
      o = n.font,
      r = n.contentWidth
    if (i)
      if ((l = To(e, o)) <= i) (t.textLine = e), (t.isTruncated = !1)
      else {
        for (var a = 0; ; a++) {
          if (l <= r || a >= n.maxIterations) {
            e += n.ellipsis
            break
          }
          var s =
              0 === a
                ? (function(t, e, n, i) {
                    for (var o = 0, r = 0, a = t.length; r < a && o < e; r++) {
                      var s = t.charCodeAt(r)
                      o += 0 <= s && s <= 127 ? n : i
                    }
                    return r
                  })(e, r, n.ascCharWidth, n.cnCharWidth)
                : 0 < l
                ? Math.floor((e.length * r) / l)
                : 0,
            l = To((e = e.substr(0, s)), o)
        }
        '' === e && (e = n.placeholder), (t.textLine = e), (t.isTruncated = !0)
      }
    else (t.textLine = ''), (t.isTruncated = !1)
  }
  var pa = function() {},
    da = function(t) {
      ;(this.tokens = []), t && (this.tokens = t)
    },
    fa = function() {
      ;(this.width = 0),
        (this.height = 0),
        (this.contentWidth = 0),
        (this.contentHeight = 0),
        (this.outerWidth = 0),
        (this.outerHeight = 0),
        (this.lines = []),
        (this.isTruncated = !1)
    }
  function ga(t, e) {
    var n = new fa()
    if ((null != t && (t += ''), t)) {
      for (
        var i,
          o = e.width,
          r = e.height,
          a = e.overflow,
          s = ('break' !== a && 'breakAll' !== a) || null == o ? null : { width: o, accumWidth: 0, breakAll: 'breakAll' === a },
          l = (la.lastIndex = 0);
        null != (i = la.exec(t));

      ) {
        var u = i.index
        l < u && ya(n, t.substring(l, u), e, s), ya(n, i[2], e, s, i[1]), (l = la.lastIndex)
      }
      l < t.length && ya(n, t.substring(l, t.length), e, s)
      var h,
        c = [],
        p = 0,
        d = 0,
        f = e.padding,
        g = 'truncate' === a,
        y = 'truncate' === e.lineOverflow,
        m = {}
      t: for (var v = 0; v < n.lines.length; v++) {
        for (var _ = n.lines[v], x = 0, w = 0, b = 0; b < _.tokens.length; b++) {
          var S = ((k = _.tokens[b]).styleName && e.rich[k.styleName]) || {},
            M = (k.textPadding = S.padding),
            T = M ? M[1] + M[3] : 0,
            I = (k.font = S.font || e.font),
            C = ((k.contentHeight = ko(I)), R(S.height, k.contentHeight))
          if (
            ((k.innerHeight = C),
            M && (C += M[0] + M[2]),
            (k.height = C),
            (k.lineHeight = wt(S.lineHeight, e.lineHeight, C)),
            (k.align = (S && S.align) || e.align),
            (k.verticalAlign = (S && S.verticalAlign) || 'middle'),
            y && null != r && p + k.lineHeight > r)
          ) {
            M = n.lines.length
            0 < b ? ((_.tokens = _.tokens.slice(0, b)), P(_, w, x), (n.lines = n.lines.slice(0, v + 1))) : (n.lines = n.lines.slice(0, v)),
              (n.isTruncated = n.isTruncated || n.lines.length < M)
            break t
          }
          var A,
            M = S.width,
            D = null == M || 'auto' === M
          'string' == typeof M && '%' === M.charAt(M.length - 1)
            ? ((k.percentWidth = M), c.push(k), (k.contentWidth = To(k.text, I)))
            : (D &&
                (M = (M = S.backgroundColor) && M.image) &&
                ((A = void 0), sa((M = 'string' == typeof (h = M) ? (A = oa.get(h)) && A.image : h))) &&
                (k.width = Math.max(k.width, (M.width * C) / M.height)),
              null != (A = g && null != o ? o - w : null) && A < k.width
                ? !D || A < T
                  ? ((k.text = ''), (k.width = k.contentWidth = 0))
                  : (ua(m, k.text, A - T, I, e.ellipsis, { minChar: e.truncateMinChar }),
                    (k.text = m.text),
                    (n.isTruncated = n.isTruncated || m.isTruncated),
                    (k.width = k.contentWidth = To(k.text, I)))
                : (k.contentWidth = To(k.text, I))),
            (k.width += T),
            (w += k.width),
            S && (x = Math.max(x, k.lineHeight))
        }
        P(_, w, x)
      }
      ;(n.outerWidth = n.width = R(o, d)),
        (n.outerHeight = n.height = R(r, p)),
        (n.contentHeight = p),
        (n.contentWidth = d),
        f && ((n.outerWidth += f[1] + f[3]), (n.outerHeight += f[0] + f[2]))
      for (v = 0; v < c.length; v++) {
        var k,
          L = (k = c[v]).percentWidth
        k.width = (parseInt(L, 10) / 100) * n.width
      }
    }
    return n
    function P(t, e, n) {
      ;(t.width = e), (t.lineHeight = n), (p += n), (d = Math.max(d, e))
    }
  }
  function ya(t, e, n, i, o) {
    var r,
      a,
      s = '' === e,
      l = (o && n.rich[o]) || {},
      u = t.lines,
      h = l.font || n.font,
      c = !1
    i
      ? ((n = (t = l.padding) ? t[1] + t[3] : 0),
        null != l.width && 'auto' !== l.width
          ? ((t = Lo(l.width, i.width) + n),
            0 < u.length && t + i.accumWidth > i.width && ((r = e.split('\n')), (c = !0)),
            (i.accumWidth = t))
          : ((t = va(e, h, i.width, i.breakAll, i.accumWidth)), (i.accumWidth = t.accumWidth + n), (a = t.linesWidths), (r = t.lines)))
      : (r = e.split('\n'))
    for (var p = 0; p < r.length; p++) {
      var d,
        f,
        g = r[p],
        y = new pa()
      ;(y.styleName = o),
        (y.text = g),
        (y.isLineHolder = !g && !s),
        'number' == typeof l.width ? (y.width = l.width) : (y.width = a ? a[p] : To(g, h)),
        p || c
          ? u.push(new da([y]))
          : 1 === (f = (d = (u[u.length - 1] || (u[0] = new da())).tokens).length) && d[0].isLineHolder
          ? (d[0] = y)
          : (!g && f && !s) || d.push(y)
    }
  }
  var ma = ut(
    ',&?/;] '.split(''),
    function(t, e) {
      return (t[e] = !0), t
    },
    {}
  )
  function va(t, e, n, i, o) {
    for (var r, a = [], s = [], l = '', u = '', h = 0, c = 0, p = 0; p < t.length; p++) {
      var d,
        f,
        g = t.charAt(p)
      '\n' === g
        ? (u && ((l += u), (c += h)), a.push(l), s.push(c), (u = l = ''), (c = h = 0))
        : ((d = To(g, e)),
          (f = !(
            i ||
            ((f = void 0),
            !(
              (32 <= (f = (f = r = g).charCodeAt(0)) && f <= 591) ||
              (880 <= f && f <= 4351) ||
              (4608 <= f && f <= 5119) ||
              (7680 <= f && f <= 8303)
            )) ||
            !!ma[r]
          )),
          (a.length
          ? n < c + d
          : n < o + c + d)
            ? c
              ? (l || u) &&
                (c = f
                  ? (l || ((l = u), (u = ''), (c = h = 0)), a.push(l), s.push(c - h), (u += g), (l = ''), (h += d))
                  : (u && ((l += u), (u = ''), (h = 0)), a.push(l), s.push(c), (l = g), d))
              : f
              ? (a.push(u), s.push(h), (u = g), (h = d))
              : (a.push(g), s.push(d))
            : ((c += d), f ? ((u += g), (h += d)) : (u && ((l += u), (u = ''), (h = 0)), (l += g))))
    }
    return (
      a.length || l || ((l = t), (u = ''), (h = 0)),
      u && (l += u),
      l && (a.push(l), s.push(c)),
      1 === a.length && (c += o),
      { accumWidth: c, lines: a, linesWidths: s }
    )
  }
  var _a,
    xa = '__zr_style_' + Math.round(10 * Math.random()),
    wa = { shadowBlur: 0, shadowOffsetX: 0, shadowOffsetY: 0, shadowColor: '#000', opacity: 1, blend: 'source-over' },
    ba = { style: { shadowBlur: !0, shadowOffsetX: !0, shadowOffsetY: !0, shadowColor: !0, opacity: !0 } },
    Sa = ((wa[xa] = !0), ['z', 'z2', 'invisible']),
    Ma = ['invisible'],
    e =
      (u(i, (_a = e)),
      (i.prototype._init = function(t) {
        for (var e = ct(t), n = 0; n < e.length; n++) {
          var i = e[n]
          'style' === i ? this.useStyle(t[i]) : _a.prototype.attrKV.call(this, i, t[i])
        }
        this.style || this.useStyle({})
      }),
      (i.prototype.beforeBrush = function() {}),
      (i.prototype.afterBrush = function() {}),
      (i.prototype.innerBeforeBrush = function() {}),
      (i.prototype.innerAfterBrush = function() {}),
      (i.prototype.shouldBePainted = function(t, e, n, i) {
        var o = this.transform
        if (
          this.ignore ||
          this.invisible ||
          0 === this.style.opacity ||
          (this.culling &&
            (function(t, e, n) {
              Ta.copy(t.getBoundingRect()), t.transform && Ta.applyTransform(t.transform)
              return (Ia.width = e), (Ia.height = n), !Ta.intersect(Ia)
            })(this, t, e)) ||
          (o && !o[0] && !o[3])
        )
          return !1
        if (n && this.__clipPaths) for (var r = 0; r < this.__clipPaths.length; ++r) if (this.__clipPaths[r].isZeroArea()) return !1
        if (i && this.parent)
          for (var a = this.parent; a; ) {
            if (a.ignore) return !1
            a = a.parent
          }
        return !0
      }),
      (i.prototype.contain = function(t, e) {
        return this.rectContain(t, e)
      }),
      (i.prototype.traverse = function(t, e) {
        t.call(e, this)
      }),
      (i.prototype.rectContain = function(t, e) {
        t = this.transformCoordToLocal(t, e)
        return this.getBoundingRect().contain(t[0], t[1])
      }),
      (i.prototype.getPaintRect = function() {
        var t,
          e,
          n,
          i,
          o,
          r = this._paintRect
        return (
          (this._paintRect && !this.__dirty) ||
            ((o = this.transform),
            (t = this.getBoundingRect()),
            (e = (i = this.style).shadowBlur || 0),
            (n = i.shadowOffsetX || 0),
            (i = i.shadowOffsetY || 0),
            (r = this._paintRect || (this._paintRect = new Y(0, 0, 0, 0))),
            o ? Y.applyTransform(r, t, o) : r.copy(t),
            (e || n || i) &&
              ((r.width += 2 * e + Math.abs(n)),
              (r.height += 2 * e + Math.abs(i)),
              (r.x = Math.min(r.x, r.x + n - e)),
              (r.y = Math.min(r.y, r.y + i - e))),
            (o = this.dirtyRectTolerance),
            r.isZero()) ||
            ((r.x = Math.floor(r.x - o)),
            (r.y = Math.floor(r.y - o)),
            (r.width = Math.ceil(r.width + 1 + 2 * o)),
            (r.height = Math.ceil(r.height + 1 + 2 * o))),
          r
        )
      }),
      (i.prototype.setPrevPaintRect = function(t) {
        t ? ((this._prevPaintRect = this._prevPaintRect || new Y(0, 0, 0, 0)), this._prevPaintRect.copy(t)) : (this._prevPaintRect = null)
      }),
      (i.prototype.getPrevPaintRect = function() {
        return this._prevPaintRect
      }),
      (i.prototype.animateStyle = function(t) {
        return this.animate('style', t)
      }),
      (i.prototype.updateDuringAnimation = function(t) {
        'style' === t ? this.dirtyStyle() : this.markRedraw()
      }),
      (i.prototype.attrKV = function(t, e) {
        'style' !== t ? _a.prototype.attrKV.call(this, t, e) : this.style ? this.setStyle(e) : this.useStyle(e)
      }),
      (i.prototype.setStyle = function(t, e) {
        return 'string' == typeof t ? (this.style[t] = e) : P(this.style, t), this.dirtyStyle(), this
      }),
      (i.prototype.dirtyStyle = function(t) {
        t || this.markRedraw(), (this.__dirty |= 2), this._rect && (this._rect = null)
      }),
      (i.prototype.dirty = function() {
        this.dirtyStyle()
      }),
      (i.prototype.styleChanged = function() {
        return !!(2 & this.__dirty)
      }),
      (i.prototype.styleUpdated = function() {
        this.__dirty &= -3
      }),
      (i.prototype.createStyle = function(t) {
        return Nt(wa, t)
      }),
      (i.prototype.useStyle = function(t) {
        t[xa] || (t = this.createStyle(t)), this.__inHover ? (this.__hoverStyle = t) : (this.style = t), this.dirtyStyle()
      }),
      (i.prototype.isStyleObject = function(t) {
        return t[xa]
      }),
      (i.prototype._innerSaveToNormal = function(t) {
        _a.prototype._innerSaveToNormal.call(this, t)
        var e = this._normalState
        t.style && !e.style && (e.style = this._mergeStyle(this.createStyle(), this.style)), this._savePrimaryToNormal(t, e, Sa)
      }),
      (i.prototype._applyStateObj = function(t, e, n, i, o, r) {
        _a.prototype._applyStateObj.call(this, t, e, n, i, o, r)
        var a,
          s = !(e && i)
        if (
          (e && e.style
            ? o
              ? i
                ? (a = e.style)
                : ((a = this._mergeStyle(this.createStyle(), n.style)), this._mergeStyle(a, e.style))
              : ((a = this._mergeStyle(this.createStyle(), (i ? this : n).style)), this._mergeStyle(a, e.style))
            : s && (a = n.style),
          a)
        )
          if (o) {
            var l = this.style
            if (((this.style = this.createStyle(s ? {} : l)), s))
              for (var u = ct(l), h = 0; h < u.length; h++) (p = u[h]) in a && ((a[p] = a[p]), (this.style[p] = l[p]))
            for (var c = ct(a), h = 0; h < c.length; h++) {
              var p = c[h]
              this.style[p] = this.style[p]
            }
            this._transitionState(t, { style: a }, r, this.getAnimationStyleProps())
          } else this.useStyle(a)
        for (var d = this.__inHover ? Ma : Sa, h = 0; h < d.length; h++) {
          p = d[h]
          e && null != e[p] ? (this[p] = e[p]) : s && null != n[p] && (this[p] = n[p])
        }
      }),
      (i.prototype._mergeStates = function(t) {
        for (var e, n = _a.prototype._mergeStates.call(this, t), i = 0; i < t.length; i++) {
          var o = t[i]
          o.style && this._mergeStyle((e = e || {}), o.style)
        }
        return e && (n.style = e), n
      }),
      (i.prototype._mergeStyle = function(t, e) {
        return P(t, e), t
      }),
      (i.prototype.getAnimationStyleProps = function() {
        return ba
      }),
      (i.initDefaultProps =
        (((e = i.prototype).type = 'displayable'),
        (e.invisible = !1),
        (e.z = 0),
        (e.z2 = 0),
        (e.zlevel = 0),
        (e.culling = !1),
        (e.cursor = 'pointer'),
        (e.rectHover = !1),
        (e.incremental = !1),
        (e._rect = null),
        (e.dirtyRectTolerance = 0),
        void (e.__dirty = 2 | _n))),
      i)
  function i(t) {
    return _a.call(this, t) || this
  }
  var Ta = new Y(0, 0, 0, 0),
    Ia = new Y(0, 0, 0, 0)
  var Ca = Math.min,
    Aa = Math.max,
    Da = Math.sin,
    ka = Math.cos,
    La = 2 * Math.PI,
    Pa = Ht(),
    Oa = Ht(),
    Ra = Ht()
  function Na(t, e, n, i, o, r) {
    ;(o[0] = Ca(t, n)), (o[1] = Ca(e, i)), (r[0] = Aa(t, n)), (r[1] = Aa(e, i))
  }
  var Ea = [],
    za = []
  var Ba = { M: 1, L: 2, C: 3, Q: 4, A: 5, Z: 6, R: 7 },
    Va = [],
    Fa = [],
    Ha = [],
    Ga = [],
    Wa = [],
    Ua = [],
    Ya = Math.min,
    Xa = Math.max,
    Za = Math.cos,
    qa = Math.sin,
    ja = Math.abs,
    Ka = Math.PI,
    $a = 2 * Ka,
    Qa = 'undefined' != typeof Float32Array,
    Ja = []
  function ts(t) {
    return ((Math.round((t / Ka) * 1e8) / 1e8) % 2) * Ka
  }
  function es(t, e) {
    var n = ts(t[0]),
      i = (n < 0 && (n += $a), n - t[0]),
      o = t[1]
    ;(o += i),
      !e && $a <= o - n
        ? (o = n + $a)
        : e && $a <= n - o
        ? (o = n - $a)
        : !e && o < n
        ? (o = n + ($a - ts(n - o)))
        : e && n < o && (o = n - ($a - ts(o - n))),
      (t[0] = n),
      (t[1] = o)
  }
  ;(o.prototype.increaseVersion = function() {
    this._version++
  }),
    (o.prototype.getVersion = function() {
      return this._version
    }),
    (o.prototype.setScale = function(t, e, n) {
      0 < (n = n || 0) && ((this._ux = ja(n / co / t) || 0), (this._uy = ja(n / co / e) || 0))
    }),
    (o.prototype.setDPR = function(t) {
      this.dpr = t
    }),
    (o.prototype.setContext = function(t) {
      this._ctx = t
    }),
    (o.prototype.getContext = function() {
      return this._ctx
    }),
    (o.prototype.beginPath = function() {
      return this._ctx && this._ctx.beginPath(), this.reset(), this
    }),
    (o.prototype.reset = function() {
      this._saveData && (this._len = 0), this._pathSegLen && ((this._pathSegLen = null), (this._pathLen = 0)), this._version++
    }),
    (o.prototype.moveTo = function(t, e) {
      return (
        this._drawPendingPt(),
        this.addData(Ba.M, t, e),
        this._ctx && this._ctx.moveTo(t, e),
        (this._x0 = t),
        (this._y0 = e),
        (this._xi = t),
        (this._yi = e),
        this
      )
    }),
    (o.prototype.lineTo = function(t, e) {
      var n = ja(t - this._xi),
        i = ja(e - this._yi),
        o = n > this._ux || i > this._uy
      return (
        this.addData(Ba.L, t, e),
        this._ctx && o && this._ctx.lineTo(t, e),
        o
          ? ((this._xi = t), (this._yi = e), (this._pendingPtDist = 0))
          : (o = n * n + i * i) > this._pendingPtDist && ((this._pendingPtX = t), (this._pendingPtY = e), (this._pendingPtDist = o)),
        this
      )
    }),
    (o.prototype.bezierCurveTo = function(t, e, n, i, o, r) {
      return (
        this._drawPendingPt(),
        this.addData(Ba.C, t, e, n, i, o, r),
        this._ctx && this._ctx.bezierCurveTo(t, e, n, i, o, r),
        (this._xi = o),
        (this._yi = r),
        this
      )
    }),
    (o.prototype.quadraticCurveTo = function(t, e, n, i) {
      return (
        this._drawPendingPt(),
        this.addData(Ba.Q, t, e, n, i),
        this._ctx && this._ctx.quadraticCurveTo(t, e, n, i),
        (this._xi = n),
        (this._yi = i),
        this
      )
    }),
    (o.prototype.arc = function(t, e, n, i, o, r) {
      return (
        this._drawPendingPt(),
        (Ja[0] = i),
        (Ja[1] = o),
        es(Ja, r),
        this.addData(Ba.A, t, e, n, n, (i = Ja[0]), (o = Ja[1]) - i, 0, r ? 0 : 1),
        this._ctx && this._ctx.arc(t, e, n, i, o, r),
        (this._xi = Za(o) * n + t),
        (this._yi = qa(o) * n + e),
        this
      )
    }),
    (o.prototype.arcTo = function(t, e, n, i, o) {
      return this._drawPendingPt(), this._ctx && this._ctx.arcTo(t, e, n, i, o), this
    }),
    (o.prototype.rect = function(t, e, n, i) {
      return this._drawPendingPt(), this._ctx && this._ctx.rect(t, e, n, i), this.addData(Ba.R, t, e, n, i), this
    }),
    (o.prototype.closePath = function() {
      this._drawPendingPt(), this.addData(Ba.Z)
      var t = this._ctx,
        e = this._x0,
        n = this._y0
      return t && t.closePath(), (this._xi = e), (this._yi = n), this
    }),
    (o.prototype.fill = function(t) {
      t && t.fill(), this.toStatic()
    }),
    (o.prototype.stroke = function(t) {
      t && t.stroke(), this.toStatic()
    }),
    (o.prototype.len = function() {
      return this._len
    }),
    (o.prototype.setData = function(t) {
      var e = t.length
      ;(this.data && this.data.length === e) || !Qa || (this.data = new Float32Array(e))
      for (var n = 0; n < e; n++) this.data[n] = t[n]
      this._len = e
    }),
    (o.prototype.appendPath = function(t) {
      for (var e = (t = t instanceof Array ? t : [t]).length, n = 0, i = this._len, o = 0; o < e; o++) n += t[o].len()
      Qa && this.data instanceof Float32Array && (this.data = new Float32Array(i + n))
      for (o = 0; o < e; o++) for (var r = t[o].data, a = 0; a < r.length; a++) this.data[i++] = r[a]
      this._len = i
    }),
    (o.prototype.addData = function(t, e, n, i, o, r, a, s, l) {
      if (this._saveData) {
        var u = this.data
        this._len + arguments.length > u.length && (this._expandData(), (u = this.data))
        for (var h = 0; h < arguments.length; h++) u[this._len++] = arguments[h]
      }
    }),
    (o.prototype._drawPendingPt = function() {
      0 < this._pendingPtDist && (this._ctx && this._ctx.lineTo(this._pendingPtX, this._pendingPtY), (this._pendingPtDist = 0))
    }),
    (o.prototype._expandData = function() {
      if (!(this.data instanceof Array)) {
        for (var t = [], e = 0; e < this._len; e++) t[e] = this.data[e]
        this.data = t
      }
    }),
    (o.prototype.toStatic = function() {
      var t
      this._saveData &&
        (this._drawPendingPt(), (t = this.data) instanceof Array) &&
        ((t.length = this._len), Qa) &&
        11 < this._len &&
        (this.data = new Float32Array(t))
    }),
    (o.prototype.getBoundingRect = function() {
      ;(Ha[0] = Ha[1] = Wa[0] = Wa[1] = Number.MAX_VALUE), (Ga[0] = Ga[1] = Ua[0] = Ua[1] = -Number.MAX_VALUE)
      for (var t, e = this.data, n = 0, i = 0, o = 0, r = 0, a = 0; a < this._len; ) {
        var E = e[a++],
          z = 1 === a
        switch ((z && ((o = n = e[a]), (r = i = e[a + 1])), E)) {
          case Ba.M:
            ;(n = o = e[a++]), (i = r = e[a++]), (Wa[0] = o), (Wa[1] = r), (Ua[0] = o), (Ua[1] = r)
            break
          case Ba.L:
            Na(n, i, e[a], e[a + 1], Wa, Ua), (n = e[a++]), (i = e[a++])
            break
          case Ba.C:
            G = H = m = y = F = g = f = d = p = c = V = B = h = u = l = s = void 0
            var s = n,
              l = i,
              u = e[a++],
              h = e[a++],
              B = e[a++],
              V = e[a++],
              c = e[a],
              p = e[a + 1],
              d = Wa,
              f = Ua,
              g = Hn,
              F = Bn,
              y = g(s, u, B, c, Ea)
            ;(d[0] = 1 / 0), (d[1] = 1 / 0), (f[0] = -1 / 0), (f[1] = -1 / 0)
            for (var m = 0; m < y; m++) {
              var H = F(s, u, B, c, Ea[m])
              ;(d[0] = Ca(H, d[0])), (f[0] = Aa(H, f[0]))
            }
            for (y = g(l, h, V, p, za), m = 0; m < y; m++) {
              var G = F(l, h, V, p, za[m])
              ;(d[1] = Ca(G, d[1])), (f[1] = Aa(G, f[1]))
            }
            ;(d[0] = Ca(s, d[0])),
              (f[0] = Aa(s, f[0])),
              (d[0] = Ca(c, d[0])),
              (f[0] = Aa(c, f[0])),
              (d[1] = Ca(l, d[1])),
              (f[1] = Aa(l, f[1])),
              (d[1] = Ca(p, d[1])),
              (f[1] = Aa(p, f[1])),
              (n = e[a++]),
              (i = e[a++])
            break
          case Ba.Q:
            ;(g = n),
              (P = i),
              (M = e[a++]),
              (x = e[a++]),
              (S = e[a]),
              (v = e[a + 1]),
              (b = Wa),
              (T = Ua),
              (t = w = t = _ = void 0),
              (_ = Un),
              (t = Aa(Ca((w = Xn)(g, M, S), 1), 0)),
              (w = Aa(Ca(w(P, x, v), 1), 0)),
              (M = _(g, M, S, t)),
              (t = _(P, x, v, w)),
              (b[0] = Ca(g, S, M)),
              (b[1] = Ca(P, v, t)),
              (T[0] = Aa(g, S, M)),
              (T[1] = Aa(P, v, t)),
              (n = e[a++]),
              (i = e[a++])
            break
          case Ba.A:
            var v,
              _ = e[a++],
              x = e[a++],
              w = e[a++],
              b = e[a++],
              S = e[a++],
              M = e[a++] + S,
              T = ((a += 1), !e[a++]),
              I = (z && ((o = Za(S) * w + _), (r = qa(S) * b + x)), (N = v = U = W = R = O = P = L = k = D = A = C = I = void 0), _),
              C = x,
              A = w,
              D = b,
              k = S,
              L = M,
              P = T,
              O = Wa,
              R = Ua,
              W = ee,
              U = ne
            if ((v = Math.abs(k - L)) % La < 1e-4 && 1e-4 < v) (O[0] = I - A), (O[1] = C - D), (R[0] = I + A), (R[1] = C + D)
            else {
              ;(Pa[0] = ka(k) * A + I),
                (Pa[1] = Da(k) * D + C),
                (Oa[0] = ka(L) * A + I),
                (Oa[1] = Da(L) * D + C),
                W(O, Pa, Oa),
                U(R, Pa, Oa),
                (k %= La) < 0 && (k += La),
                (L %= La) < 0 && (L += La),
                L < k && !P ? (L += La) : k < L && P && (k += La),
                P && ((v = L), (L = k), (k = v))
              for (var N = 0; N < L; N += Math.PI / 2) k < N && ((Ra[0] = ka(N) * A + I), (Ra[1] = Da(N) * D + C), W(O, Ra, O), U(R, Ra, R))
            }
            ;(n = Za(M) * w + _), (i = qa(M) * b + x)
            break
          case Ba.R:
            Na((o = n = e[a++]), (r = i = e[a++]), o + e[a++], r + e[a++], Wa, Ua)
            break
          case Ba.Z:
            ;(n = o), (i = r)
        }
        ee(Ha, Ha, Wa), ne(Ga, Ga, Ua)
      }
      return 0 === a && (Ha[0] = Ha[1] = Ga[0] = Ga[1] = 0), new Y(Ha[0], Ha[1], Ga[0] - Ha[0], Ga[1] - Ha[1])
    }),
    (o.prototype._calculateLength = function() {
      for (
        var t = this.data,
          e = this._len,
          n = this._ux,
          i = this._uy,
          o = 0,
          r = 0,
          a = 0,
          s = 0,
          l = (this._pathSegLen || (this._pathSegLen = []), this._pathSegLen),
          u = 0,
          h = 0,
          c = 0;
        c < e;

      ) {
        var p = t[c++],
          d = 1 === c,
          f = (d && ((a = o = t[c]), (s = r = t[c + 1])), -1)
        switch (p) {
          case Ba.M:
            ;(o = a = t[c++]), (r = s = t[c++])
            break
          case Ba.L:
            var g = t[c++],
              y = (_ = t[c++]) - r
            ;(ja((C = g - o)) > n || ja(y) > i || c === e - 1) && ((f = Math.sqrt(C * C + y * y)), (o = g), (r = _))
            break
          case Ba.C:
            var m = t[c++],
              v = t[c++],
              g = t[c++],
              _ = t[c++],
              x = t[c++],
              w = t[c++],
              f = (function(t, e, n, i, o, r, a, s, l) {
                for (var u = t, h = e, c = 0, p = 1 / l, d = 1; d <= l; d++) {
                  var f = d * p,
                    g = Bn(t, n, o, a, f),
                    f = Bn(e, i, r, s, f),
                    y = g - u,
                    m = f - h
                  ;(c += Math.sqrt(y * y + m * m)), (u = g), (h = f)
                }
                return c
              })(o, r, m, v, g, _, x, w, 10),
              o = x,
              r = w
            break
          case Ba.Q:
            ;(f = (function(t, e, n, i, o, r, a) {
              for (var s = t, l = e, u = 0, h = 1 / a, c = 1; c <= a; c++) {
                var p = c * h,
                  d = Un(t, n, o, p),
                  p = Un(e, i, r, p),
                  f = d - s,
                  g = p - l
                ;(u += Math.sqrt(f * f + g * g)), (s = d), (l = p)
              }
              return u
            })(o, r, (m = t[c++]), (v = t[c++]), (g = t[c++]), (_ = t[c++]), 10)),
              (o = g),
              (r = _)
            break
          case Ba.A:
            var x = t[c++],
              w = t[c++],
              b = t[c++],
              S = t[c++],
              M = t[c++],
              T = t[c++],
              I = T + M
            ;(c += 1),
              d && ((a = Za(M) * b + x), (s = qa(M) * S + w)),
              (f = Xa(b, S) * Ya($a, Math.abs(T))),
              (o = Za(I) * b + x),
              (r = qa(I) * S + w)
            break
          case Ba.R:
            ;(a = o = t[c++]), (s = r = t[c++])
            f = 2 * t[c++] + 2 * t[c++]
            break
          case Ba.Z:
            var C = a - o,
              y = s - r
            ;(f = Math.sqrt(C * C + y * y)), (o = a), (r = s)
        }
        0 <= f && (u += l[h++] = f)
      }
      return (this._pathLen = u)
    }),
    (o.prototype.rebuildPath = function(t, e) {
      var n,
        i,
        o,
        r,
        a,
        s,
        l,
        u,
        h = this.data,
        E = this._ux,
        z = this._uy,
        B = this._len,
        c = e < 1,
        p = 0,
        d = 0,
        f = 0
      if (!c || (this._pathSegLen || this._calculateLength(), (a = this._pathSegLen), (s = e * this._pathLen)))
        t: for (var g = 0; g < B; ) {
          var y = h[g++],
            V = 1 === g
          switch ((V && ((n = o = h[g]), (i = r = h[g + 1])), y !== Ba.L && 0 < f && (t.lineTo(l, u), (f = 0)), y)) {
            case Ba.M:
              ;(n = o = h[g++]), (i = r = h[g++]), t.moveTo(o, r)
              break
            case Ba.L:
              var m = h[g++],
                v = h[g++],
                _ = ja(m - o),
                x = ja(v - r)
              if (E < _ || z < x) {
                if (c) {
                  if (s < p + (N = a[d++])) {
                    var w = (s - p) / N
                    t.lineTo(o * (1 - w) + m * w, r * (1 - w) + v * w)
                    break t
                  }
                  p += N
                }
                t.lineTo(m, v), (o = m), (r = v), (f = 0)
              } else {
                _ = _ * _ + x * x
                f < _ && ((l = m), (u = v), (f = _))
              }
              break
            case Ba.C:
              var b = h[g++],
                S = h[g++],
                M = h[g++],
                T = h[g++],
                x = h[g++],
                _ = h[g++]
              if (c) {
                if (s < p + (N = a[d++])) {
                  Gn(o, b, M, x, (w = (s - p) / N), Va), Gn(r, S, T, _, w, Fa), t.bezierCurveTo(Va[1], Fa[1], Va[2], Fa[2], Va[3], Fa[3])
                  break t
                }
                p += N
              }
              t.bezierCurveTo(b, S, M, T, x, _), (o = x), (r = _)
              break
            case Ba.Q:
              ;(b = h[g++]), (S = h[g++]), (M = h[g++]), (T = h[g++])
              if (c) {
                if (s < p + (N = a[d++])) {
                  Zn(o, b, M, (w = (s - p) / N), Va), Zn(r, S, T, w, Fa), t.quadraticCurveTo(Va[1], Fa[1], Va[2], Fa[2])
                  break t
                }
                p += N
              }
              t.quadraticCurveTo(b, S, M, T), (o = M), (r = T)
              break
            case Ba.A:
              var I = h[g++],
                C = h[g++],
                A = h[g++],
                D = h[g++],
                k = h[g++],
                L = h[g++],
                P = h[g++],
                F = !h[g++],
                H = D < A ? A : D,
                O = 0.001 < ja(A - D),
                R = k + L,
                G = !1
              if (
                (c && (s < p + (N = a[d++]) && ((R = k + (L * (s - p)) / N), (G = !0)), (p += N)),
                O && t.ellipse ? t.ellipse(I, C, A, D, P, k, R, F) : t.arc(I, C, H, k, R, F),
                G)
              )
                break t
              V && ((n = Za(k) * A + I), (i = qa(k) * D + C)), (o = Za(R) * A + I), (r = qa(R) * D + C)
              break
            case Ba.R:
              ;(n = o = h[g]), (i = r = h[g + 1]), (m = h[g++]), (v = h[g++])
              var N,
                L = h[g++],
                O = h[g++]
              if (c) {
                if (s < p + (N = a[d++])) {
                  P = s - p
                  t.moveTo(m, v),
                    t.lineTo(m + Ya(P, L), v),
                    0 < (P -= L) && t.lineTo(m + L, v + Ya(P, O)),
                    0 < (P -= O) && t.lineTo(m + Xa(L - P, 0), v + O),
                    0 < (P -= L) && t.lineTo(m, v + Xa(O - P, 0))
                  break t
                }
                p += N
              }
              t.rect(m, v, L, O)
              break
            case Ba.Z:
              if (c) {
                if (s < p + (N = a[d++])) {
                  w = (s - p) / N
                  t.lineTo(o * (1 - w) + n * w, r * (1 - w) + i * w)
                  break t
                }
                p += N
              }
              t.closePath(), (o = n), (r = i)
          }
        }
    }),
    (o.prototype.clone = function() {
      var t = new o(),
        e = this.data
      return (t.data = e.slice ? e.slice() : Array.prototype.slice.call(e)), (t._len = this._len), t
    }),
    (o.CMD = Ba),
    (o.initDefaultProps =
      (((bu = o.prototype)._saveData = !0), (bu._ux = 0), (bu._uy = 0), (bu._pendingPtDist = 0), void (bu._version = 0)))
  var ns = o
  function o(t) {
    ;(this.dpr = 1),
      (this._xi = 0),
      (this._yi = 0),
      (this._x0 = 0),
      (this._y0 = 0),
      (this._len = 0),
      t && (this._saveData = !1),
      this._saveData && (this.data = [])
  }
  function is(t, e, n, i, o, r, a) {
    var s
    if (0 !== o)
      return (
        (s = 0),
        !((e + (o = o) < a && i + o < a) || (a < e - o && a < i - o) || (t + o < r && n + o < r) || (r < t - o && r < n - o)) &&
          (t === n
            ? Math.abs(r - t) <= o / 2
            : ((r = (s = (e - i) / (t - n)) * r - a + (t * i - n * e) / (t - n)) * r) / (s * s + 1) <= ((o / 2) * o) / 2)
      )
  }
  var os = 2 * Math.PI
  function rs(t) {
    return (t %= os) < 0 && (t += os), t
  }
  var as = 2 * Math.PI
  function ss(t, e, n, i, o, r) {
    return (e < r && i < r) || (r < e && r < i) || i === e
      ? 0
      : (n = (r = (r - e) / (i - e)) * (n - t) + t) === o
      ? 1 / 0
      : o < n
      ? 1 != r && 0 != r
        ? i < e
          ? 1
          : -1
        : i < e
        ? 0.5
        : -0.5
      : 0
  }
  var ls = ns.CMD,
    us = 2 * Math.PI,
    hs = 1e-4
  var cs = [-1, -1, -1],
    ps = [-1, -1]
  function ds(t, e, n, i, o, r, a, s, l, u) {
    if ((e < u && i < u && r < u && s < u) || (u < e && u < i && u < r && u < s)) return 0
    var h = Fn(e, i, r, s, u, cs)
    if (0 === h) return 0
    for (var c, p = 0, d = -1, f = void 0, g = void 0, y = 0; y < h; y++) {
      var m = cs[y],
        v = 0 === m || 1 === m ? 0.5 : 1
      Bn(t, n, o, a, m) < l ||
        (d < 0 &&
          ((d = Hn(e, i, r, s, ps)),
          ps[1] < ps[0] && 1 < d && ((c = void 0), (c = ps[0]), (ps[0] = ps[1]), (ps[1] = c)),
          (f = Bn(e, i, r, s, ps[0])),
          1 < d) &&
          (g = Bn(e, i, r, s, ps[1])),
        2 === d
          ? m < ps[0]
            ? (p += f < e ? v : -v)
            : m < ps[1]
            ? (p += g < f ? v : -v)
            : (p += s < g ? v : -v)
          : m < ps[0]
          ? (p += f < e ? v : -v)
          : (p += s < f ? v : -v))
    }
    return p
  }
  function fs(t, e, n, i, o, r, a, s) {
    if ((e < s && i < s && r < s) || (s < e && s < i && s < r)) return 0
    ;(c = cs),
      (h = (l = e) - 2 * (u = i) + (h = r)),
      (u = 2 * (u - l)),
      (l -= s = s),
      (s = 0),
      En(h)
        ? zn(u) && 0 <= (p = -l / u) && p <= 1 && (c[s++] = p)
        : En((l = u * u - 4 * h * l))
        ? 0 <= (p = -u / (2 * h)) && p <= 1 && (c[s++] = p)
        : 0 < l &&
          ((d = (-u - (l = Dn(l))) / (2 * h)), 0 <= (p = (-u + l) / (2 * h)) && p <= 1 && (c[s++] = p), 0 <= d) &&
          d <= 1 &&
          (c[s++] = d)
    var l,
      u,
      h,
      c,
      p,
      d,
      f = s
    if (0 === f) return 0
    var g = Xn(e, i, r)
    if (0 <= g && g <= 1) {
      for (var y = 0, m = Un(e, i, r, g), v = 0; v < f; v++) {
        var _ = 0 === cs[v] || 1 === cs[v] ? 0.5 : 1
        Un(t, n, o, cs[v]) < a || (cs[v] < g ? (y += m < e ? _ : -_) : (y += r < m ? _ : -_))
      }
      return y
    }
    return (_ = 0 === cs[0] || 1 === cs[0] ? 0.5 : 1), Un(t, n, o, cs[0]) < a ? 0 : r < e ? _ : -_
  }
  function gs(t, e, n, i, o) {
    for (var r, a = t.data, s = t.len(), l = 0, u = 0, h = 0, c = 0, p = 0, d = 0; d < s; ) {
      var f = a[d++],
        g = 1 === d
      switch ((f === ls.M && 1 < d && (n || (l += ss(u, h, c, p, i, o))), g && ((c = u = a[d]), (p = h = a[d + 1])), f)) {
        case ls.M:
          ;(u = c = a[d++]), (h = p = a[d++])
          break
        case ls.L:
          if (n) {
            if (is(u, h, a[d], a[d + 1], e, i, o)) return !0
          } else l += ss(u, h, a[d], a[d + 1], i, o) || 0
          ;(u = a[d++]), (h = a[d++])
          break
        case ls.C:
          if (n) {
            if (
              (function(t, e, n, i, o, r, a, s, l, u, h) {
                if (0 !== l)
                  return (
                    !(
                      (e + (l = l) < h && i + l < h && r + l < h && s + l < h) ||
                      (h < e - l && h < i - l && h < r - l && h < s - l) ||
                      (t + l < u && n + l < u && o + l < u && a + l < u) ||
                      (u < t - l && u < n - l && u < o - l && u < a - l)
                    ) && Wn(t, e, n, i, o, r, a, s, u, h, null) <= l / 2
                  )
              })(u, h, a[d++], a[d++], a[d++], a[d++], a[d], a[d + 1], e, i, o)
            )
              return !0
          } else l += ds(u, h, a[d++], a[d++], a[d++], a[d++], a[d], a[d + 1], i, o) || 0
          ;(u = a[d++]), (h = a[d++])
          break
        case ls.Q:
          if (n) {
            if (
              (function(t, e, n, i, o, r, a, s, l) {
                if (0 !== a)
                  return (
                    !(
                      (e + (a = a) < l && i + a < l && r + a < l) ||
                      (l < e - a && l < i - a && l < r - a) ||
                      (t + a < s && n + a < s && o + a < s) ||
                      (s < t - a && s < n - a && s < o - a)
                    ) && qn(t, e, n, i, o, r, s, l, null) <= a / 2
                  )
              })(u, h, a[d++], a[d++], a[d], a[d + 1], e, i, o)
            )
              return !0
          } else l += fs(u, h, a[d++], a[d++], a[d], a[d + 1], i, o) || 0
          ;(u = a[d++]), (h = a[d++])
          break
        case ls.A:
          var y = a[d++],
            m = a[d++],
            v = a[d++],
            _ = a[d++],
            x = a[d++],
            w = a[d++],
            b = ((d += 1), !!(1 - a[d++])),
            S = Math.cos(x) * v + y,
            M = Math.sin(x) * _ + m,
            T = (g ? ((c = S), (p = M)) : (l += ss(u, h, S, M, i, o)), ((i - y) * _) / v + y)
          if (n) {
            if (
              (function(t, e, n, i, o, r, a, s, l) {
                if (0 !== a)
                  return (
                    (a = a),
                    (s -= t),
                    (l -= e),
                    !(n < (t = Math.sqrt(s * s + l * l)) - a || t + a < n) &&
                      (Math.abs(i - o) % as < 1e-4 ||
                        ((o = r ? ((e = i), (i = rs(o)), rs(e)) : ((i = rs(i)), rs(o))) < i && (o += as),
                        (t = Math.atan2(l, s)) < 0 && (t += as),
                        i <= t && t <= o) ||
                        (i <= t + as && t + as <= o))
                  )
              })(y, m, _, x, x + w, b, e, T, o)
            )
              return !0
          } else
            l += (function(t, e, n, i, o, r, a, s) {
              if (n < (s -= e) || s < -n) return 0
              var e = Math.sqrt(n * n - s * s)
              if (((cs[0] = -e), (cs[1] = e), (n = Math.abs(i - o)) < 1e-4)) return 0
              if (us - 1e-4 <= n) return (o = us), (h = r ? 1 : -1), a >= cs[(i = 0)] + t && a <= cs[1] + t ? h : 0
              o < i && ((e = i), (i = o), (o = e)), i < 0 && ((i += us), (o += us))
              for (var l = 0, u = 0; u < 2; u++) {
                var h,
                  c = cs[u]
                a < c + t &&
                  ((h = r ? 1 : -1), (i <= (c = (c = Math.atan2(s, c)) < 0 ? us + c : c) && c <= o) || (i <= c + us && c + us <= o)) &&
                  (l += h = c > Math.PI / 2 && c < 1.5 * Math.PI ? -h : h)
              }
              return l
            })(y, m, _, x, x + w, b, T, o)
          ;(u = Math.cos(x + w) * v + y), (h = Math.sin(x + w) * _ + m)
          break
        case ls.R:
          ;(c = u = a[d++]), (p = h = a[d++])
          if (((S = c + a[d++]), (M = p + a[d++]), n)) {
            if (is(c, p, S, p, e, i, o) || is(S, p, S, M, e, i, o) || is(S, M, c, M, e, i, o) || is(c, M, c, p, e, i, o)) return !0
          } else l = (l += ss(S, p, S, M, i, o)) + ss(c, M, c, p, i, o)
          break
        case ls.Z:
          if (n) {
            if (is(u, h, c, p, e, i, o)) return !0
          } else l += ss(u, h, c, p, i, o)
          ;(u = c), (h = p)
      }
    }
    return n || ((t = h), (r = p), Math.abs(t - r) < hs) || (l += ss(u, h, c, p, i, o) || 0), 0 !== l
  }
  var ys,
    ms = z(
      {
        fill: '#000',
        stroke: null,
        strokePercent: 1,
        fillOpacity: 1,
        strokeOpacity: 1,
        lineDashOffset: 0,
        lineWidth: 1,
        lineCap: 'butt',
        miterLimit: 10,
        strokeNoScale: !1,
        strokeFirst: !1,
      },
      wa
    ),
    vs = {
      style: z(
        { fill: !0, stroke: !0, strokePercent: !0, fillOpacity: !0, strokeOpacity: !0, lineDashOffset: !0, lineWidth: !0, miterLimit: !0 },
        ba.style
      ),
    },
    _s = So.concat(['invisible', 'culling', 'z', 'z2', 'zlevel', 'parent']),
    j =
      (u(a, (ys = e)),
      (a.prototype.update = function() {
        var e = this,
          t = (ys.prototype.update.call(this), this.style)
        if (t.decal) {
          var n,
            i = (this._decalEl = this._decalEl || new a()),
            o =
              (i.buildPath === a.prototype.buildPath &&
                (i.buildPath = function(t) {
                  e.buildPath(t, e.shape)
                }),
              (i.silent = !0),
              i.style)
          for (n in t) o[n] !== t[n] && (o[n] = t[n])
          ;(o.fill = t.fill ? t.decal : null), (o.decal = null), (o.shadowColor = null), t.strokeFirst && (o.stroke = null)
          for (var r = 0; r < _s.length; ++r) i[_s[r]] = this[_s[r]]
          i.__dirty |= _n
        } else this._decalEl && (this._decalEl = null)
      }),
      (a.prototype.getDecalElement = function() {
        return this._decalEl
      }),
      (a.prototype._init = function(t) {
        var e = ct(t),
          n = ((this.shape = this.getDefaultShape()), this.getDefaultStyle())
        n && this.useStyle(n)
        for (var i = 0; i < e.length; i++) {
          var o = e[i],
            r = t[o]
          'style' === o
            ? this.style
              ? P(this.style, r)
              : this.useStyle(r)
            : 'shape' === o
            ? P(this.shape, r)
            : ys.prototype.attrKV.call(this, o, r)
        }
        this.style || this.useStyle({})
      }),
      (a.prototype.getDefaultStyle = function() {
        return null
      }),
      (a.prototype.getDefaultShape = function() {
        return {}
      }),
      (a.prototype.canBeInsideText = function() {
        return this.hasFill()
      }),
      (a.prototype.getInsideTextFill = function() {
        var t,
          e = this.style.fill
        if ('none' !== e) {
          if (F(e)) return 0.5 < (t = Mi(e, 0)) ? po : 0.2 < t ? '#eee' : fo
          if (e) return fo
        }
        return po
      }),
      (a.prototype.getInsideTextStroke = function(t) {
        var e = this.style.fill
        if (F(e)) {
          var n = this.__zr
          if (!(!n || !n.isDarkMode()) == Mi(t, 0) < 0.4) return e
        }
      }),
      (a.prototype.buildPath = function(t, e, n) {}),
      (a.prototype.pathUpdated = function() {
        this.__dirty &= ~xn
      }),
      (a.prototype.getUpdatedPathProxy = function(t) {
        return this.path || this.createPathProxy(), this.path.beginPath(), this.buildPath(this.path, this.shape, t), this.path
      }),
      (a.prototype.createPathProxy = function() {
        this.path = new ns(!1)
      }),
      (a.prototype.hasStroke = function() {
        var t = this.style,
          e = t.stroke
        return !(null == e || 'none' === e || !(0 < t.lineWidth))
      }),
      (a.prototype.hasFill = function() {
        var t = this.style.fill
        return null != t && 'none' !== t
      }),
      (a.prototype.getBoundingRect = function() {
        var t,
          e,
          n = this._rect,
          i = this.style,
          o = !n
        return (
          o &&
            ((t = !1),
            this.path || ((t = !0), this.createPathProxy()),
            (e = this.path),
            (t || this.__dirty & xn) && (e.beginPath(), this.buildPath(e, this.shape, !1), this.pathUpdated()),
            (n = e.getBoundingRect())),
          (this._rect = n),
          this.hasStroke() && this.path && 0 < this.path.len()
            ? ((t = this._rectStroke || (this._rectStroke = n.clone())),
              (this.__dirty || o) &&
                (t.copy(n),
                (e = i.strokeNoScale ? this.getLineScale() : 1),
                (o = i.lineWidth),
                this.hasFill() || ((i = this.strokeContainThreshold), (o = Math.max(o, null == i ? 4 : i))),
                1e-10 < e) &&
                ((t.width += o / e), (t.height += o / e), (t.x -= o / e / 2), (t.y -= o / e / 2)),
              t)
            : n
        )
      }),
      (a.prototype.contain = function(t, e) {
        var n = this.transformCoordToLocal(t, e),
          i = this.getBoundingRect(),
          o = this.style
        if (((t = n[0]), (e = n[1]), i.contain(t, e))) {
          n = this.path
          if (this.hasStroke()) {
            ;(i = o.lineWidth), (o = o.strokeNoScale ? this.getLineScale() : 1)
            if (1e-10 < o && (this.hasFill() || (i = Math.max(i, this.strokeContainThreshold)), gs(n, i / o, !0, t, e))) return !0
          }
          if (this.hasFill()) return gs(n, 0, !1, t, e)
        }
        return !1
      }),
      (a.prototype.dirtyShape = function() {
        ;(this.__dirty |= xn), this._rect && (this._rect = null), this._decalEl && this._decalEl.dirtyShape(), this.markRedraw()
      }),
      (a.prototype.dirty = function() {
        this.dirtyStyle(), this.dirtyShape()
      }),
      (a.prototype.animateShape = function(t) {
        return this.animate('shape', t)
      }),
      (a.prototype.updateDuringAnimation = function(t) {
        'style' === t ? this.dirtyStyle() : 'shape' === t ? this.dirtyShape() : this.markRedraw()
      }),
      (a.prototype.attrKV = function(t, e) {
        'shape' === t ? this.setShape(e) : ys.prototype.attrKV.call(this, t, e)
      }),
      (a.prototype.setShape = function(t, e) {
        var n = (n = this.shape) || (this.shape = {})
        return 'string' == typeof t ? (n[t] = e) : P(n, t), this.dirtyShape(), this
      }),
      (a.prototype.shapeChanged = function() {
        return !!(this.__dirty & xn)
      }),
      (a.prototype.createStyle = function(t) {
        return Nt(ms, t)
      }),
      (a.prototype._innerSaveToNormal = function(t) {
        ys.prototype._innerSaveToNormal.call(this, t)
        var e = this._normalState
        t.shape && !e.shape && (e.shape = P({}, this.shape))
      }),
      (a.prototype._applyStateObj = function(t, e, n, i, o, r) {
        ys.prototype._applyStateObj.call(this, t, e, n, i, o, r)
        var a,
          s = !(e && i)
        if (
          (e && e.shape
            ? o
              ? i
                ? (a = e.shape)
                : ((a = P({}, n.shape)), P(a, e.shape))
              : ((a = P({}, (i ? this : n).shape)), P(a, e.shape))
            : s && (a = n.shape),
          a)
        )
          if (o) {
            this.shape = P({}, this.shape)
            for (var l = {}, u = ct(a), h = 0; h < u.length; h++) {
              var c = u[h]
              'object' == typeof a[c] ? (this.shape[c] = a[c]) : (l[c] = a[c])
            }
            this._transitionState(t, { shape: l }, r)
          } else (this.shape = a), this.dirtyShape()
      }),
      (a.prototype._mergeStates = function(t) {
        for (var e, n = ys.prototype._mergeStates.call(this, t), i = 0; i < t.length; i++) {
          var o = t[i]
          o.shape && this._mergeStyle((e = e || {}), o.shape)
        }
        return e && (n.shape = e), n
      }),
      (a.prototype.getAnimationStyleProps = function() {
        return vs
      }),
      (a.prototype.isZeroArea = function() {
        return !1
      }),
      (a.extend = function(n) {
        u(o, (i = a)),
          (o.prototype.getDefaultStyle = function() {
            return y(n.style)
          }),
          (o.prototype.getDefaultShape = function() {
            return y(n.shape)
          })
        var i,
          t,
          e = o
        function o(t) {
          var e = i.call(this, t) || this
          return n.init && n.init.call(e, t), e
        }
        for (t in n) 'function' == typeof n[t] && (e.prototype[t] = n[t])
        return e
      }),
      (a.initDefaultProps =
        (((bu = a.prototype).type = 'path'),
        (bu.strokeContainThreshold = 5),
        (bu.segmentIgnoreThreshold = 0),
        (bu.subPixelOptimize = !1),
        (bu.autoBatch = !1),
        void (bu.__dirty = 2 | _n | xn))),
      a)
  function a(t) {
    return ys.call(this, t) || this
  }
  var xs,
    ws = z({ strokeFirst: !0, font: K, x: 0, y: 0, textAlign: 'left', textBaseline: 'top', miterLimit: 2 }, ms),
    bs =
      (u(Ss, (xs = e)),
      (Ss.prototype.hasStroke = function() {
        var t = this.style,
          e = t.stroke
        return null != e && 'none' !== e && 0 < t.lineWidth
      }),
      (Ss.prototype.hasFill = function() {
        var t = this.style.fill
        return null != t && 'none' !== t
      }),
      (Ss.prototype.createStyle = function(t) {
        return Nt(ws, t)
      }),
      (Ss.prototype.setBoundingRect = function(t) {
        this._rect = t
      }),
      (Ss.prototype.getBoundingRect = function() {
        var t,
          e = this.style
        return (
          this._rect ||
            (null != (t = e.text) ? (t += '') : (t = ''),
            ((t = Co(t, e.font, e.textAlign, e.textBaseline)).x += e.x || 0),
            (t.y += e.y || 0),
            this.hasStroke() && ((e = e.lineWidth), (t.x -= e / 2), (t.y -= e / 2), (t.width += e), (t.height += e)),
            (this._rect = t)),
          this._rect
        )
      }),
      (Ss.initDefaultProps = void (Ss.prototype.dirtyRectTolerance = 10)),
      Ss)
  function Ss() {
    return (null !== xs && xs.apply(this, arguments)) || this
  }
  bs.prototype.type = 'tspan'
  var Ms = z({ x: 0, y: 0 }, wa),
    Ts = { style: z({ x: !0, y: !0, width: !0, height: !0, sx: !0, sy: !0, sWidth: !0, sHeight: !0 }, ba.style) }
  u(As, (Is = e)),
    (As.prototype.createStyle = function(t) {
      return Nt(Ms, t)
    }),
    (As.prototype._getSize = function(t) {
      var e,
        n = this.style,
        i = n[t]
      return null != i
        ? i
        : (i = (i = n.image) && 'string' != typeof i && i.width && i.height ? n.image : this.__image)
        ? null == (e = n[(n = 'width' === t ? 'height' : 'width')])
          ? i[t]
          : (i[t] / i[n]) * e
        : 0
    }),
    (As.prototype.getWidth = function() {
      return this._getSize('width')
    }),
    (As.prototype.getHeight = function() {
      return this._getSize('height')
    }),
    (As.prototype.getAnimationStyleProps = function() {
      return Ts
    }),
    (As.prototype.getBoundingRect = function() {
      var t = this.style
      return this._rect || (this._rect = new Y(t.x || 0, t.y || 0, this.getWidth(), this.getHeight())), this._rect
    })
  var Is,
    Cs = As
  function As() {
    return (null !== Is && Is.apply(this, arguments)) || this
  }
  Cs.prototype.type = 'image'
  var Ds = Math.round
  function ks(t, e, n) {
    var i, o, r
    if (e)
      return (
        (i = e.x1),
        (o = e.x2),
        (r = e.y1),
        (e = e.y2),
        (t.x1 = i),
        (t.x2 = o),
        (t.y1 = r),
        (t.y2 = e),
        (n = n && n.lineWidth) &&
          (Ds(2 * i) === Ds(2 * o) && (t.x1 = t.x2 = Ps(i, n, !0)), Ds(2 * r) === Ds(2 * e)) &&
          (t.y1 = t.y2 = Ps(r, n, !0)),
        t
      )
  }
  function Ls(t, e, n) {
    var i, o, r
    if (e)
      return (
        (i = e.x),
        (o = e.y),
        (r = e.width),
        (e = e.height),
        (t.x = i),
        (t.y = o),
        (t.width = r),
        (t.height = e),
        (n = n && n.lineWidth) &&
          ((t.x = Ps(i, n, !0)),
          (t.y = Ps(o, n, !0)),
          (t.width = Math.max(Ps(i + r, n, !1) - t.x, 0 === r ? 0 : 1)),
          (t.height = Math.max(Ps(o + e, n, !1) - t.y, 0 === e ? 0 : 1))),
        t
      )
  }
  function Ps(t, e, n) {
    var i
    return e ? (((i = Ds(2 * t)) + Ds(e)) % 2 == 0 ? i / 2 : (i + (n ? 1 : -1)) / 2) : t
  }
  var Os,
    Rs = function() {
      ;(this.x = 0), (this.y = 0), (this.width = 0), (this.height = 0)
    },
    Ns = {},
    Es =
      (u(zs, (Os = j)),
      (zs.prototype.getDefaultShape = function() {
        return new Rs()
      }),
      (zs.prototype.buildPath = function(t, e) {
        var n, i, o, r, a, s, l, u, h, c, p, d, f, g
        this.subPixelOptimize
          ? ((n = (a = Ls(Ns, e, this.style)).x), (i = a.y), (o = a.width), (r = a.height), (a.r = e.r), (e = a))
          : ((n = e.x), (i = e.y), (o = e.width), (r = e.height)),
          e.r
            ? ((a = t),
              (p = (e = e).x),
              (d = e.y),
              (f = e.width),
              (g = e.height),
              (e = e.r),
              f < 0 && ((p += f), (f = -f)),
              g < 0 && ((d += g), (g = -g)),
              'number' == typeof e
                ? (s = l = u = h = e)
                : e instanceof Array
                ? 1 === e.length
                  ? (s = l = u = h = e[0])
                  : 2 === e.length
                  ? ((s = u = e[0]), (l = h = e[1]))
                  : 3 === e.length
                  ? ((s = e[0]), (l = h = e[1]), (u = e[2]))
                  : ((s = e[0]), (l = e[1]), (u = e[2]), (h = e[3]))
                : (s = l = u = h = 0),
              f < s + l && ((s *= f / (c = s + l)), (l *= f / c)),
              f < u + h && ((u *= f / (c = u + h)), (h *= f / c)),
              g < l + u && ((l *= g / (c = l + u)), (u *= g / c)),
              g < s + h && ((s *= g / (c = s + h)), (h *= g / c)),
              a.moveTo(p + s, d),
              a.lineTo(p + f - l, d),
              0 !== l && a.arc(p + f - l, d + l, l, -Math.PI / 2, 0),
              a.lineTo(p + f, d + g - u),
              0 !== u && a.arc(p + f - u, d + g - u, u, 0, Math.PI / 2),
              a.lineTo(p + h, d + g),
              0 !== h && a.arc(p + h, d + g - h, h, Math.PI / 2, Math.PI),
              a.lineTo(p, d + s),
              0 !== s && a.arc(p + s, d + s, s, Math.PI, 1.5 * Math.PI))
            : t.rect(n, i, o, r)
      }),
      (zs.prototype.isZeroArea = function() {
        return !this.shape.width || !this.shape.height
      }),
      zs)
  function zs(t) {
    return Os.call(this, t) || this
  }
  Es.prototype.type = 'rect'
  var Bs,
    Vs = { fill: '#000' },
    Fs = {
      style: z(
        {
          fill: !0,
          stroke: !0,
          fillOpacity: !0,
          strokeOpacity: !0,
          lineWidth: !0,
          fontSize: !0,
          lineHeight: !0,
          width: !0,
          height: !0,
          textShadowColor: !0,
          textShadowBlur: !0,
          textShadowOffsetX: !0,
          textShadowOffsetY: !0,
          backgroundColor: !0,
          padding: !0,
          borderColor: !0,
          borderWidth: !0,
          borderRadius: !0,
        },
        ba.style
      ),
    },
    Hs =
      (u(Gs, (Bs = e)),
      (Gs.prototype.childrenRef = function() {
        return this._children
      }),
      (Gs.prototype.update = function() {
        Bs.prototype.update.call(this), this.styleChanged() && this._updateSubTexts()
        for (var t = 0; t < this._children.length; t++) {
          var e = this._children[t]
          ;(e.zlevel = this.zlevel),
            (e.z = this.z),
            (e.z2 = this.z2),
            (e.culling = this.culling),
            (e.cursor = this.cursor),
            (e.invisible = this.invisible)
        }
      }),
      (Gs.prototype.updateTransform = function() {
        var t = this.innerTransformable
        t ? (t.updateTransform(), t.transform && (this.transform = t.transform)) : Bs.prototype.updateTransform.call(this)
      }),
      (Gs.prototype.getLocalTransform = function(t) {
        var e = this.innerTransformable
        return e ? e.getLocalTransform(t) : Bs.prototype.getLocalTransform.call(this, t)
      }),
      (Gs.prototype.getComputedTransform = function() {
        return (
          this.__hostTarget && (this.__hostTarget.getComputedTransform(), this.__hostTarget.updateInnerText(!0)),
          Bs.prototype.getComputedTransform.call(this)
        )
      }),
      (Gs.prototype._updateSubTexts = function() {
        var t
        ;(this._childCursor = 0),
          Zs((t = this.style)),
          E(t.rich, Zs),
          this.style.rich ? this._updateRichTexts() : this._updatePlainTexts(),
          (this._children.length = this._childCursor),
          this.styleUpdated()
      }),
      (Gs.prototype.addSelfToZr = function(t) {
        Bs.prototype.addSelfToZr.call(this, t)
        for (var e = 0; e < this._children.length; e++) this._children[e].__zr = t
      }),
      (Gs.prototype.removeSelfFromZr = function(t) {
        Bs.prototype.removeSelfFromZr.call(this, t)
        for (var e = 0; e < this._children.length; e++) this._children[e].__zr = null
      }),
      (Gs.prototype.getBoundingRect = function() {
        if ((this.styleChanged() && this._updateSubTexts(), !this._rect)) {
          for (var t = new Y(0, 0, 0, 0), e = this._children, n = [], i = null, o = 0; o < e.length; o++) {
            var r = e[o],
              a = r.getBoundingRect(),
              r = r.getLocalTransform(n)
            r ? (t.copy(a), t.applyTransform(r), (i = i || t.clone()).union(t)) : (i = i || a.clone()).union(a)
          }
          this._rect = i || t
        }
        return this._rect
      }),
      (Gs.prototype.setDefaultTextStyle = function(t) {
        this._defaultStyle = t || Vs
      }),
      (Gs.prototype.setTextContent = function(t) {}),
      (Gs.prototype._mergeStyle = function(t, e) {
        var n, i
        return (
          e && ((n = e.rich), (i = t.rich || (n && {})), P(t, e), n && i ? (this._mergeRich(i, n), (t.rich = i)) : i && (t.rich = i)), t
        )
      }),
      (Gs.prototype._mergeRich = function(t, e) {
        for (var n = ct(e), i = 0; i < n.length; i++) {
          var o = n[i]
          ;(t[o] = t[o] || {}), P(t[o], e[o])
        }
      }),
      (Gs.prototype.getAnimationStyleProps = function() {
        return Fs
      }),
      (Gs.prototype._getOrCreateChild = function(t) {
        var e = this._children[this._childCursor]
        return (e && e instanceof t) || (e = new t()), ((this._children[this._childCursor++] = e).__zr = this.__zr), (e.parent = this), e
      }),
      (Gs.prototype._updatePlainTexts = function() {
        for (
          var t,
            e = this.style,
            n = e.font || K,
            i = e.padding,
            o = (function(t, e) {
              null != t && (t += '')
              var n,
                i = e.overflow,
                o = e.padding,
                r = e.font,
                a = 'truncate' === i,
                s = ko(r),
                l = R(e.lineHeight, s),
                u = !!e.backgroundColor,
                h = 'truncate' === e.lineOverflow,
                c = !1,
                p = e.width,
                i =
                  (n =
                    null == p || ('break' !== i && 'breakAll' !== i)
                      ? t
                        ? t.split('\n')
                        : []
                      : t
                      ? va(t, e.font, p, 'breakAll' === i, 0).lines
                      : []).length * l,
                d = R(e.height, i)
              if ((d < i && h && ((h = Math.floor(d / l)), (c = c || n.length > h), (n = n.slice(0, h))), t && a && null != p))
                for (
                  var f = ha(p, r, e.ellipsis, { minChar: e.truncateMinChar, placeholder: e.placeholder }), g = {}, y = 0;
                  y < n.length;
                  y++
                )
                  ca(g, n[y], f), (n[y] = g.textLine), (c = c || g.isTruncated)
              for (var h = d, m = 0, y = 0; y < n.length; y++) m = Math.max(To(n[y], r), m)
              return (
                null == p && (p = m),
                (t = m),
                o && ((h += o[0] + o[2]), (t += o[1] + o[3]), (p += o[1] + o[3])),
                {
                  lines: n,
                  height: d,
                  outerWidth: (t = u ? p : t),
                  outerHeight: h,
                  lineHeight: l,
                  calculatedLineHeight: s,
                  contentWidth: m,
                  contentHeight: i,
                  width: p,
                  isTruncated: c,
                }
              )
            })($s(e), e),
            r = Qs(e),
            a = !!e.backgroundColor,
            s = o.outerHeight,
            l = o.outerWidth,
            u = o.contentWidth,
            h = o.lines,
            c = o.lineHeight,
            p = this._defaultStyle,
            d = ((this.isTruncated = !!o.isTruncated), e.x || 0),
            f = e.y || 0,
            g = e.align || p.align || 'left',
            y = e.verticalAlign || p.verticalAlign || 'top',
            m = d,
            v = Do(f, o.contentHeight, y),
            _ =
              ((r || i) && ((t = Ao(d, l, g)), (f = Do(f, s, y)), r) && this._renderBackground(e, e, t, f, l, s),
              (v += c / 2),
              i && ((m = Ks(d, g, i)), 'top' === y ? (v += i[0]) : 'bottom' === y && (v -= i[2])),
              0),
            r = !1,
            x = js((('fill' in e) ? e : ((r = !0), p)).fill),
            w = qs(('stroke' in e) ? e.stroke : a || (p.autoStroke && !r) ? null : ((_ = 2), p.stroke)),
            b = 0 < e.textShadowBlur,
            S = null != e.width && ('truncate' === e.overflow || 'break' === e.overflow || 'breakAll' === e.overflow),
            M = o.calculatedLineHeight,
            T = 0;
          T < h.length;
          T++
        ) {
          var I = this._getOrCreateChild(bs),
            C = I.createStyle()
          I.useStyle(C),
            (C.text = h[T]),
            (C.x = m),
            (C.y = v),
            g && (C.textAlign = g),
            (C.textBaseline = 'middle'),
            (C.opacity = e.opacity),
            (C.strokeFirst = !0),
            b &&
              ((C.shadowBlur = e.textShadowBlur || 0),
              (C.shadowColor = e.textShadowColor || 'transparent'),
              (C.shadowOffsetX = e.textShadowOffsetX || 0),
              (C.shadowOffsetY = e.textShadowOffsetY || 0)),
            (C.stroke = w),
            (C.fill = x),
            w && ((C.lineWidth = e.lineWidth || _), (C.lineDash = e.lineDash), (C.lineDashOffset = e.lineDashOffset || 0)),
            (C.font = n),
            Xs(C, e),
            (v += c),
            S && I.setBoundingRect(new Y(Ao(C.x, u, C.textAlign), Do(C.y, M, C.textBaseline), u, M))
        }
      }),
      (Gs.prototype._updateRichTexts = function() {
        for (
          var t = this.style,
            e = ga($s(t), t),
            n = e.width,
            i = e.outerWidth,
            o = e.outerHeight,
            r = t.padding,
            a = t.x || 0,
            s = t.y || 0,
            l = this._defaultStyle,
            u = t.align || l.align,
            l = t.verticalAlign || l.verticalAlign,
            a = ((this.isTruncated = !!e.isTruncated), Ao(a, i, u)),
            u = Do(s, o, l),
            h = a,
            c = u,
            p = (r && ((h += r[3]), (c += r[0])), h + n),
            d = (Qs(t) && this._renderBackground(t, t, a, u, i, o), !!t.backgroundColor),
            f = 0;
          f < e.lines.length;
          f++
        ) {
          for (
            var g = e.lines[f], y = g.tokens, m = y.length, v = g.lineHeight, _ = g.width, x = 0, w = h, b = p, S = m - 1, M = void 0;
            x < m && (!(M = y[x]).align || 'left' === M.align);

          )
            this._placeToken(M, t, v, c, w, 'left', d), (_ -= M.width), (w += M.width), x++
          for (; 0 <= S && 'right' === (M = y[S]).align; ) this._placeToken(M, t, v, c, b, 'right', d), (_ -= M.width), (b -= M.width), S--
          for (w += (n - (w - h) - (p - b) - _) / 2; x <= S; )
            (M = y[x]), this._placeToken(M, t, v, c, w + M.width / 2, 'center', d), (w += M.width), x++
          c += v
        }
      }),
      (Gs.prototype._placeToken = function(t, e, n, i, o, r, a) {
        var s = e.rich[t.styleName] || {},
          l = ((s.text = t.text), t.verticalAlign),
          u = i + n / 2
        'top' === l ? (u = i + t.height / 2) : 'bottom' === l && (u = i + n - t.height / 2)
        !t.isLineHolder &&
          Qs(s) &&
          this._renderBackground(
            s,
            e,
            'right' === r ? o - t.width : 'center' === r ? o - t.width / 2 : o,
            u - t.height / 2,
            t.width,
            t.height
          )
        var l = !!s.backgroundColor,
          i = t.textPadding,
          n = (i && ((o = Ks(o, r, i)), (u -= t.height / 2 - i[0] - t.innerHeight / 2)), this._getOrCreateChild(bs)),
          i = n.createStyle(),
          h = (n.useStyle(i), this._defaultStyle),
          c = !1,
          p = 0,
          d = js(('fill' in s ? s : 'fill' in e ? e : ((c = !0), h)).fill),
          l = qs('stroke' in s ? s.stroke : 'stroke' in e ? e.stroke : l || a || (h.autoStroke && !c) ? null : ((p = 2), h.stroke)),
          a = 0 < s.textShadowBlur || 0 < e.textShadowBlur,
          c =
            ((i.text = t.text),
            (i.x = o),
            (i.y = u),
            a &&
              ((i.shadowBlur = s.textShadowBlur || e.textShadowBlur || 0),
              (i.shadowColor = s.textShadowColor || e.textShadowColor || 'transparent'),
              (i.shadowOffsetX = s.textShadowOffsetX || e.textShadowOffsetX || 0),
              (i.shadowOffsetY = s.textShadowOffsetY || e.textShadowOffsetY || 0)),
            (i.textAlign = r),
            (i.textBaseline = 'middle'),
            (i.font = t.font || K),
            (i.opacity = wt(s.opacity, e.opacity, 1)),
            Xs(i, s),
            l &&
              ((i.lineWidth = wt(s.lineWidth, e.lineWidth, p)),
              (i.lineDash = R(s.lineDash, e.lineDash)),
              (i.lineDashOffset = e.lineDashOffset || 0),
              (i.stroke = l)),
            d && (i.fill = d),
            t.contentWidth),
          h = t.contentHeight
        n.setBoundingRect(new Y(Ao(i.x, c, i.textAlign), Do(i.y, h, i.textBaseline), c, h))
      }),
      (Gs.prototype._renderBackground = function(t, e, n, i, o, r) {
        var a,
          s,
          l,
          u,
          h = t.backgroundColor,
          c = t.borderWidth,
          p = t.borderColor,
          d = h && h.image,
          f = h && !d,
          g = t.borderRadius,
          y = this,
          g =
            ((f || t.lineHeight || (c && p)) &&
              ((a = this._getOrCreateChild(Es)).useStyle(a.createStyle()),
              (a.style.fill = null),
              ((l = a.shape).x = n),
              (l.y = i),
              (l.width = o),
              (l.height = r),
              (l.r = g),
              a.dirtyShape()),
            f
              ? (((u = a.style).fill = h || null), (u.fillOpacity = R(t.fillOpacity, 1)))
              : d &&
                (((s = this._getOrCreateChild(Cs)).onload = function() {
                  y.dirtyStyle()
                }),
                ((l = s.style).image = h.image),
                (l.x = n),
                (l.y = i),
                (l.width = o),
                (l.height = r)),
            c &&
              p &&
              (((u = a.style).lineWidth = c),
              (u.stroke = p),
              (u.strokeOpacity = R(t.strokeOpacity, 1)),
              (u.lineDash = t.borderDash),
              (u.lineDashOffset = t.borderDashOffset || 0),
              (a.strokeContainThreshold = 0),
              a.hasFill()) &&
              a.hasStroke() &&
              ((u.strokeFirst = !0), (u.lineWidth *= 2)),
            (a || s).style)
        ;(g.shadowBlur = t.shadowBlur || 0),
          (g.shadowColor = t.shadowColor || 'transparent'),
          (g.shadowOffsetX = t.shadowOffsetX || 0),
          (g.shadowOffsetY = t.shadowOffsetY || 0),
          (g.opacity = wt(t.opacity, e.opacity, 1))
      }),
      (Gs.makeFont = function(t) {
        var e,
          n = ''
        return (
          ((n =
            null != (e = t).fontSize || e.fontFamily || e.fontWeight
              ? [
                  t.fontStyle,
                  t.fontWeight,
                  'string' != typeof (e = t.fontSize) || (-1 === e.indexOf('px') && -1 === e.indexOf('rem') && -1 === e.indexOf('em'))
                    ? isNaN(+e)
                      ? '12px'
                      : e + 'px'
                    : e,
                  t.fontFamily || 'sans-serif',
                ].join(' ')
              : n) &&
            Tt(n)) ||
          t.textFont ||
          t.font
        )
      }),
      Gs)
  function Gs(t) {
    var e = Bs.call(this) || this
    return (e.type = 'text'), (e._children = []), (e._defaultStyle = Vs), e.attr(t), e
  }
  var Ws = { left: !0, right: 1, center: 1 },
    Us = { top: 1, bottom: 1, middle: 1 },
    Ys = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily']
  function Xs(t, e) {
    for (var n = 0; n < Ys.length; n++) {
      var i = Ys[n],
        o = e[i]
      null != o && (t[i] = o)
    }
  }
  function Zs(t) {
    var e
    t &&
      ((t.font = Hs.makeFont(t)),
      (e = t.align),
      (t.align = null == (e = 'middle' === e ? 'center' : e) || Ws[e] ? e : 'left'),
      (e = t.verticalAlign),
      (t.verticalAlign = null == (e = 'center' === e ? 'middle' : e) || Us[e] ? e : 'top'),
      t.padding) &&
      (t.padding = St(t.padding))
  }
  function qs(t, e) {
    return null == t || e <= 0 || 'transparent' === t || 'none' === t ? null : t.image || t.colorStops ? '#000' : t
  }
  function js(t) {
    return null == t || 'none' === t ? null : t.image || t.colorStops ? '#000' : t
  }
  function Ks(t, e, n) {
    return 'right' === e ? t - n[1] : 'center' === e ? t + n[3] / 2 - n[1] / 2 : t + n[3]
  }
  function $s(t) {
    t = t.text
    return null != t && (t += ''), t
  }
  function Qs(t) {
    return !!(t.backgroundColor || t.lineHeight || (t.borderWidth && t.borderColor))
  }
  function Js(e, n, i, t) {
    var o
    t &&
      (((o = D(t)).dataIndex = i), (o.dataType = n), (o.seriesIndex = e), (o.ssrType = 'chart'), 'group' === t.type) &&
      t.traverse(function(t) {
        t = D(t)
        ;(t.seriesIndex = e), (t.dataIndex = i), (t.dataType = n), (t.ssrType = 'chart')
      })
  }
  var D = Nr(),
    tl = 1,
    el = {},
    nl = Nr(),
    il = Nr(),
    ol = 0,
    rl = 1,
    al = 2,
    sl = ['emphasis', 'blur', 'select'],
    ll = ['normal', 'emphasis', 'blur', 'select'],
    ul = 'highlight',
    hl = 'downplay',
    cl = 'select',
    pl = 'unselect',
    dl = 'toggleSelect'
  function fl(t) {
    return null != t && 'none' !== t
  }
  function gl(t, e, n) {
    t.onHoverStateChange && (t.hoverState || 0) !== n && t.onHoverStateChange(e), (t.hoverState = n)
  }
  function yl(t) {
    gl(t, 'emphasis', al)
  }
  function ml(t) {
    t.hoverState === al && gl(t, 'normal', ol)
  }
  function vl(t) {
    gl(t, 'blur', rl)
  }
  function _l(t) {
    t.hoverState === rl && gl(t, 'normal', ol)
  }
  function xl(t) {
    t.selected = !0
  }
  function wl(t) {
    t.selected = !1
  }
  function bl(t, e, n) {
    e(t, n)
  }
  function Sl(t, e, n) {
    bl(t, e, n),
      t.isGroup &&
        t.traverse(function(t) {
          bl(t, e, n)
        })
  }
  function Ml(t, e) {
    switch (e) {
      case 'emphasis':
        t.hoverState = al
        break
      case 'normal':
        t.hoverState = ol
        break
      case 'blur':
        t.hoverState = rl
        break
      case 'select':
        t.selected = !0
    }
  }
  function Tl(t, e, n) {
    var i = 0 <= C(t.currentStates, e),
      o = t.style.opacity,
      t = i
        ? null
        : (function(t, e, n, i) {
            for (var o = t.style, r = {}, a = 0; a < e.length; a++) {
              var s = e[a],
                l = o[s]
              r[s] = null == l ? i && i[s] : l
            }
            for (a = 0; a < t.animators.length; a++) {
              var u = t.animators[a]
              u.__fromStateTransition && u.__fromStateTransition.indexOf(n) < 0 && 'style' === u.targetName && u.saveTo(r, e)
            }
            return r
          })(t, ['opacity'], e, { opacity: 1 }),
      e = (n = n || {}).style || {}
    return null == e.opacity && ((n = P({}, n)), (e = P({ opacity: i ? o : 0.1 * t.opacity }, e)), (n.style = e)), n
  }
  function Il(t, e) {
    var n,
      i,
      o,
      r,
      a,
      s = this.states[t]
    if (this.style) {
      if ('emphasis' === t)
        return (
          (n = this),
          (i = s),
          (e = (e = e) && 0 <= C(e, 'select')),
          (a = !1),
          n instanceof j &&
            ((o = nl(n)), (r = (e && o.selectFill) || o.normalFill), (e = (e && o.selectStroke) || o.normalStroke), fl(r) || fl(e)) &&
            ('inherit' === (o = (i = i || {}).style || {}).fill
              ? ((a = !0), (i = P({}, i)), ((o = P({}, o)).fill = r))
              : !fl(o.fill) && fl(r)
              ? ((a = !0), (i = P({}, i)), ((o = P({}, o)).fill = Ii(r)))
              : !fl(o.stroke) && fl(e) && (a || ((i = P({}, i)), (o = P({}, o))), (o.stroke = Ii(e))),
            (i.style = o)),
          i && null == i.z2 && (a || (i = P({}, i)), (r = n.z2EmphasisLift), (i.z2 = n.z2 + (null != r ? r : 10))),
          i
        )
      if ('blur' === t) return Tl(this, t, s)
      if ('select' === t)
        return (e = this), (o = s) && null == o.z2 && ((o = P({}, o)), (a = e.z2SelectLift), (o.z2 = e.z2 + (null != a ? a : 9))), o
    }
    return s
  }
  function Cl(t) {
    t.stateProxy = Il
    var e = t.getTextContent(),
      t = t.getTextGuideLine()
    e && (e.stateProxy = Il), t && (t.stateProxy = Il)
  }
  function Al(t, e) {
    El(t, e) || t.__highByOuter || Sl(t, yl)
  }
  function Dl(t, e) {
    El(t, e) || t.__highByOuter || Sl(t, ml)
  }
  function kl(t, e) {
    ;(t.__highByOuter |= 1 << (e || 0)), Sl(t, yl)
  }
  function Ll(t, e) {
    ;(t.__highByOuter &= ~(1 << (e || 0))) || Sl(t, ml)
  }
  function Pl(t) {
    Sl(t, vl)
  }
  function Ol(t) {
    Sl(t, _l)
  }
  function Rl(t) {
    Sl(t, xl)
  }
  function Nl(t) {
    Sl(t, wl)
  }
  function El(t, e) {
    return t.__highDownSilentOnTouch && e.zrByTouch
  }
  function zl(o) {
    var e = o.getModel(),
      r = [],
      a = []
    e.eachComponent(function(t, e) {
      var n = il(e),
        t = 'series' === t,
        i = t ? o.getViewOfSeriesModel(e) : o.getViewOfComponentModel(e)
      t || a.push(i),
        n.isBlured &&
          (i.group.traverse(function(t) {
            _l(t)
          }),
          t) &&
          r.push(e),
        (n.isBlured = !1)
    }),
      E(a, function(t) {
        t && t.toggleBlurSeries && t.toggleBlurSeries(r, !1, e)
      })
  }
  function Bl(t, r, a, s) {
    var l,
      u,
      h,
      n = s.getModel()
    function c(t, e) {
      for (var n = 0; n < e.length; n++) {
        var i = t.getItemGraphicEl(e[n])
        i && Ol(i)
      }
    }
    ;(a = a || 'coordinateSystem'),
      null != t &&
        r &&
        'none' !== r &&
        ((l = n.getSeriesByIndex(t)),
        (u = l.coordinateSystem) && u.master && (u = u.master),
        (h = []),
        n.eachSeries(function(t) {
          var e = l === t,
            n = t.coordinateSystem,
            n = (n = n && n.master ? n.master : n) && u ? n === u : e
          if (!(('series' === a && !e) || ('coordinateSystem' === a && !n) || ('series' === r && e))) {
            if (
              (s.getViewOfSeriesModel(t).group.traverse(function(t) {
                ;(t.__highByOuter && e && 'self' === r) || vl(t)
              }),
              lt(r))
            )
              c(t.getData(), r)
            else if (O(r)) for (var i = ct(r), o = 0; o < i.length; o++) c(t.getData(i[o]), r[i[o]])
            h.push(t), (il(t).isBlured = !0)
          }
        }),
        n.eachComponent(function(t, e) {
          'series' !== t && (t = s.getViewOfComponentModel(e)) && t.toggleBlurSeries && t.toggleBlurSeries(h, !0, n)
        }))
  }
  function Vl(t, e, n) {
    var i
    null != t &&
      null != e &&
      (t = n.getModel().getComponent(t, e)) &&
      ((il(t).isBlured = !0), (i = n.getViewOfComponentModel(t))) &&
      i.focusBlurEnabled &&
      i.group.traverse(function(t) {
        vl(t)
      })
  }
  function Fl(t, e, n, i) {
    var o = { focusSelf: !1, dispatchers: null }
    if (null == t || 'series' === t || null == e || null == n) return o
    t = i.getModel().getComponent(t, e)
    if (!t) return o
    e = i.getViewOfComponentModel(t)
    if (!e || !e.findHighDownDispatchers) return o
    for (var r, a = e.findHighDownDispatchers(n), s = 0; s < a.length; s++)
      if ('self' === D(a[s]).focus) {
        r = !0
        break
      }
    return { focusSelf: r, dispatchers: a }
  }
  function Hl(i) {
    E(i.getAllData(), function(t) {
      var e = t.data,
        n = t.type
      e.eachItemGraphicEl(function(t, e) {
        ;(i.isSelected(e, n) ? Rl : Nl)(t)
      })
    })
  }
  function Gl(t, e, n) {
    Zl(t, !0), Sl(t, Cl)
    ;(t = D(t)), null != e ? ((t.focus = e), (t.blurScope = n)) : t.focus && (t.focus = null)
  }
  function Wl(t, e, n, i) {
    i ? Zl(t, !1) : Gl(t, e, n)
  }
  var Ul = ['emphasis', 'blur', 'select'],
    Yl = { itemStyle: 'getItemStyle', lineStyle: 'getLineStyle', areaStyle: 'getAreaStyle' }
  function Xl(t, e, n, i) {
    n = n || 'itemStyle'
    for (var o = 0; o < Ul.length; o++) {
      var r = Ul[o],
        a = e.getModel([r, n])
      t.ensureState(r).style = i ? i(a) : a[Yl[n]]()
    }
  }
  function Zl(t, e) {
    var e = !1 === e,
      n = t
    t.highDownSilentOnTouch && (n.__highDownSilentOnTouch = t.highDownSilentOnTouch),
      (e && !n.__highDownDispatcher) || ((n.__highByOuter = n.__highByOuter || 0), (n.__highDownDispatcher = !e))
  }
  function ql(t) {
    return !(!t || !t.__highDownDispatcher)
  }
  function jl(t) {
    t = t.type
    return t === cl || t === pl || t === dl
  }
  function Kl(t) {
    t = t.type
    return t === ul || t === hl
  }
  var $l = ns.CMD,
    Ql = [[], [], []],
    Jl = Math.sqrt,
    tu = Math.atan2
  var eu = Math.sqrt,
    nu = Math.sin,
    iu = Math.cos,
    ou = Math.PI
  function ru(t) {
    return Math.sqrt(t[0] * t[0] + t[1] * t[1])
  }
  function au(t, e) {
    return (t[0] * e[0] + t[1] * e[1]) / (ru(t) * ru(e))
  }
  function su(t, e) {
    return (t[0] * e[1] < t[1] * e[0] ? -1 : 1) * Math.acos(au(t, e))
  }
  function lu(t, e, n, i, o, r, a, s, l, u, h) {
    var l = l * (ou / 180),
      c = (iu(l) * (t - n)) / 2 + (nu(l) * (e - i)) / 2,
      p = (-1 * nu(l) * (t - n)) / 2 + (iu(l) * (e - i)) / 2,
      d = (c * c) / (a * a) + (p * p) / (s * s),
      d =
        (1 < d && ((a *= eu(d)), (s *= eu(d))),
        (o === r ? -1 : 1) * eu((a * a * (s * s) - a * a * (p * p) - s * s * (c * c)) / (a * a * (p * p) + s * s * (c * c))) || 0),
      o = (d * a * p) / s,
      d = (d * -s * c) / a,
      t = (t + n) / 2 + iu(l) * o - nu(l) * d,
      n = (e + i) / 2 + nu(l) * o + iu(l) * d,
      e = su([1, 0], [(c - o) / a, (p - d) / s]),
      i = [(c - o) / a, (p - d) / s],
      c = [(-1 * c - o) / a, (-1 * p - d) / s],
      o = su(i, c)
    au(i, c) <= -1 && (o = ou),
      (o = 1 <= au(i, c) ? 0 : o) < 0 && ((p = Math.round((o / ou) * 1e6) / 1e6), (o = 2 * ou + (p % 2) * ou)),
      h.addData(u, t, n, a, s, e, o, l, r)
  }
  var uu = /([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,
    hu = /-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g
  u(du, (cu = j)), (du.prototype.applyTransform = function(t) {})
  var cu,
    pu = du
  function du() {
    return (null !== cu && cu.apply(this, arguments)) || this
  }
  function fu(t) {
    return null != t.setData
  }
  function gu(t, e) {
    var S = (function(t) {
        var e = new ns()
        if (t) {
          var n,
            i = 0,
            o = 0,
            r = i,
            a = o,
            s = ns.CMD,
            l = t.match(uu)
          if (l) {
            for (var u = 0; u < l.length; u++) {
              for (var h = l[u], c = h.charAt(0), p = void 0, d = h.match(hu) || [], f = d.length, g = 0; g < f; g++)
                d[g] = parseFloat(d[g])
              for (var y = 0; y < f; ) {
                var m = void 0,
                  v = void 0,
                  _ = void 0,
                  x = void 0,
                  w = void 0,
                  b = void 0,
                  S = void 0,
                  M = i,
                  T = o,
                  I = void 0,
                  C = void 0
                switch (c) {
                  case 'l':
                    ;(i += d[y++]), (o += d[y++]), (p = s.L), e.addData(p, i, o)
                    break
                  case 'L':
                    ;(i = d[y++]), (o = d[y++]), (p = s.L), e.addData(p, i, o)
                    break
                  case 'm':
                    ;(i += d[y++]), (o += d[y++]), (p = s.M), e.addData(p, i, o), (r = i), (a = o), (c = 'l')
                    break
                  case 'M':
                    ;(i = d[y++]), (o = d[y++]), (p = s.M), e.addData(p, i, o), (r = i), (a = o), (c = 'L')
                    break
                  case 'h':
                    ;(i += d[y++]), (p = s.L), e.addData(p, i, o)
                    break
                  case 'H':
                    ;(i = d[y++]), (p = s.L), e.addData(p, i, o)
                    break
                  case 'v':
                    ;(o += d[y++]), (p = s.L), e.addData(p, i, o)
                    break
                  case 'V':
                    ;(o = d[y++]), (p = s.L), e.addData(p, i, o)
                    break
                  case 'C':
                    ;(p = s.C), e.addData(p, d[y++], d[y++], d[y++], d[y++], d[y++], d[y++]), (i = d[y - 2]), (o = d[y - 1])
                    break
                  case 'c':
                    ;(p = s.C),
                      e.addData(p, d[y++] + i, d[y++] + o, d[y++] + i, d[y++] + o, d[y++] + i, d[y++] + o),
                      (i += d[y - 2]),
                      (o += d[y - 1])
                    break
                  case 'S':
                    ;(m = i),
                      (v = o),
                      (I = e.len()),
                      (C = e.data),
                      n === s.C && ((m += i - C[I - 4]), (v += o - C[I - 3])),
                      (p = s.C),
                      (M = d[y++]),
                      (T = d[y++]),
                      (i = d[y++]),
                      (o = d[y++]),
                      e.addData(p, m, v, M, T, i, o)
                    break
                  case 's':
                    ;(m = i),
                      (v = o),
                      (I = e.len()),
                      (C = e.data),
                      n === s.C && ((m += i - C[I - 4]), (v += o - C[I - 3])),
                      (p = s.C),
                      (M = i + d[y++]),
                      (T = o + d[y++]),
                      (i += d[y++]),
                      (o += d[y++]),
                      e.addData(p, m, v, M, T, i, o)
                    break
                  case 'Q':
                    ;(M = d[y++]), (T = d[y++]), (i = d[y++]), (o = d[y++]), (p = s.Q), e.addData(p, M, T, i, o)
                    break
                  case 'q':
                    ;(M = d[y++] + i), (T = d[y++] + o), (i += d[y++]), (o += d[y++]), (p = s.Q), e.addData(p, M, T, i, o)
                    break
                  case 'T':
                    ;(m = i),
                      (v = o),
                      (I = e.len()),
                      (C = e.data),
                      n === s.Q && ((m += i - C[I - 4]), (v += o - C[I - 3])),
                      (i = d[y++]),
                      (o = d[y++]),
                      (p = s.Q),
                      e.addData(p, m, v, i, o)
                    break
                  case 't':
                    ;(m = i),
                      (v = o),
                      (I = e.len()),
                      (C = e.data),
                      n === s.Q && ((m += i - C[I - 4]), (v += o - C[I - 3])),
                      (i += d[y++]),
                      (o += d[y++]),
                      (p = s.Q),
                      e.addData(p, m, v, i, o)
                    break
                  case 'A':
                    ;(_ = d[y++]),
                      (x = d[y++]),
                      (w = d[y++]),
                      (b = d[y++]),
                      (S = d[y++]),
                      lu((M = i), (T = o), (i = d[y++]), (o = d[y++]), b, S, _, x, w, (p = s.A), e)
                    break
                  case 'a':
                    ;(_ = d[y++]),
                      (x = d[y++]),
                      (w = d[y++]),
                      (b = d[y++]),
                      (S = d[y++]),
                      lu((M = i), (T = o), (i += d[y++]), (o += d[y++]), b, S, _, x, w, (p = s.A), e)
                }
              }
              ;('z' !== c && 'Z' !== c) || ((p = s.Z), e.addData(p), (i = r), (o = a)), (n = p)
            }
            e.toStatic()
          }
        }
        return e
      })(t),
      t = P({}, e)
    return (
      (t.buildPath = function(t) {
        var e
        fu(t) ? (t.setData(S.data), (e = t.getContext()) && t.rebuildPath(e, 1)) : S.rebuildPath((e = t), 1)
      }),
      (t.applyTransform = function(t) {
        var e = S,
          n = t
        if (n) {
          for (var i, o, r, a, s = e.data, l = e.len(), u = $l.M, h = $l.C, c = $l.L, p = $l.R, d = $l.A, f = $l.Q, g = 0, y = 0; g < l; ) {
            switch (((i = s[g++]), (y = g), (o = 0), i)) {
              case u:
              case c:
                o = 1
                break
              case h:
                o = 3
                break
              case f:
                o = 2
                break
              case d:
                var m = n[4],
                  v = n[5],
                  _ = Jl(n[0] * n[0] + n[1] * n[1]),
                  x = Jl(n[2] * n[2] + n[3] * n[3]),
                  w = tu(-n[1] / x, n[0] / _)
                ;(s[g] *= _),
                  (s[g++] += m),
                  (s[g] *= x),
                  (s[g++] += v),
                  (s[g++] *= _),
                  (s[g++] *= x),
                  (s[g++] += w),
                  (s[g++] += w),
                  (y = g += 2)
                break
              case p:
                ;(a[0] = s[g++]),
                  (a[1] = s[g++]),
                  te(a, a, n),
                  (s[y++] = a[0]),
                  (s[y++] = a[1]),
                  (a[0] += s[g++]),
                  (a[1] += s[g++]),
                  te(a, a, n),
                  (s[y++] = a[0]),
                  (s[y++] = a[1])
            }
            for (r = 0; r < o; r++) {
              var b = Ql[r]
              ;(b[0] = s[g++]), (b[1] = s[g++]), te(b, b, n), (s[y++] = b[0]), (s[y++] = b[1])
            }
          }
          e.increaseVersion()
        }
        this.dirtyShape()
      }),
      t
    )
  }
  var yu,
    mu = function() {
      ;(this.cx = 0), (this.cy = 0), (this.r = 0)
    },
    vu =
      (u(_u, (yu = j)),
      (_u.prototype.getDefaultShape = function() {
        return new mu()
      }),
      (_u.prototype.buildPath = function(t, e) {
        t.moveTo(e.cx + e.r, e.cy), t.arc(e.cx, e.cy, e.r, 0, 2 * Math.PI)
      }),
      _u)
  function _u(t) {
    return yu.call(this, t) || this
  }
  vu.prototype.type = 'circle'
  var xu,
    wu = function() {
      ;(this.cx = 0), (this.cy = 0), (this.rx = 0), (this.ry = 0)
    },
    bu =
      (u(Su, (xu = j)),
      (Su.prototype.getDefaultShape = function() {
        return new wu()
      }),
      (Su.prototype.buildPath = function(t, e) {
        var n = e.cx,
          i = e.cy,
          o = e.rx,
          e = e.ry,
          r = 0.5522848 * o,
          a = 0.5522848 * e
        t.moveTo(n - o, i),
          t.bezierCurveTo(n - o, i - a, n - r, i - e, n, i - e),
          t.bezierCurveTo(n + r, i - e, n + o, i - a, n + o, i),
          t.bezierCurveTo(n + o, i + a, n + r, i + e, n, i + e),
          t.bezierCurveTo(n - r, i + e, n - o, i + a, n - o, i),
          t.closePath()
      }),
      Su)
  function Su(t) {
    return xu.call(this, t) || this
  }
  bu.prototype.type = 'ellipse'
  var Mu = Math.PI,
    Tu = 2 * Mu,
    Iu = Math.sin,
    Cu = Math.cos,
    Au = Math.acos,
    Du = Math.atan2,
    ku = Math.abs,
    Lu = Math.sqrt,
    Pu = Math.max,
    Ou = Math.min,
    Ru = 1e-4
  function Nu(t, e, n, i, o, r, a) {
    var s = t - n,
      l = e - i,
      a = (a ? r : -r) / Lu(s * s + l * l),
      l = a * l,
      a = -a * s,
      s = t + l,
      t = e + a,
      e = n + l,
      n = i + a,
      i = (s + e) / 2,
      u = (t + n) / 2,
      h = e - s,
      c = n - t,
      p = h * h + c * c,
      r = o - r,
      s = s * n - e * t,
      n = (c < 0 ? -1 : 1) * Lu(Pu(0, r * r * p - s * s)),
      e = (s * c - h * n) / p,
      t = (-s * h - c * n) / p,
      d = (s * c + h * n) / p,
      s = (-s * h + c * n) / p,
      h = e - i,
      c = t - u,
      n = d - i,
      p = s - u
    return n * n + p * p < h * h + c * c && ((e = d), (t = s)), { cx: e, cy: t, x0: -l, y0: -a, x1: e * (o / r - 1), y1: t * (o / r - 1) }
  }
  function Eu(t, e) {
    var n,
      i,
      o,
      r,
      a,
      s,
      l,
      u,
      h,
      c,
      p,
      d,
      f,
      g,
      y,
      m,
      v,
      _,
      x,
      w,
      b,
      S,
      M,
      T,
      I,
      C,
      A,
      D,
      k,
      L,
      P = Pu(e.r, 0),
      O = Pu(e.r0 || 0, 0),
      R = 0 < P
    ;(R || 0 < O) &&
      (R || ((P = O), (O = 0)),
      P < O && ((R = P), (P = O), (O = R)),
      (R = e.startAngle),
      (n = e.endAngle),
      isNaN(R) ||
        isNaN(n) ||
        ((i = e.cx),
        (o = e.cy),
        (r = !!e.clockwise),
        (m = ku(n - R)),
        Ru < (a = Tu < m && m % Tu) && (m = a),
        Ru < P
          ? Tu - Ru < m
            ? (t.moveTo(i + P * Cu(R), o + P * Iu(R)),
              t.arc(i, o, P, R, n, !r),
              Ru < O && (t.moveTo(i + O * Cu(n), o + O * Iu(n)), t.arc(i, o, O, n, R, r)))
            : ((S = b = w = x = _ = v = c = h = C = I = T = M = u = l = s = a = void 0),
              (p = P * Cu(R)),
              (d = P * Iu(R)),
              (f = O * Cu(n)),
              (g = O * Iu(n)),
              (y = Ru < m) &&
                ((e = e.cornerRadius) &&
                  ((a = (e = (function(t) {
                    if (V(t)) {
                      var e = t.length
                      if (!e) return t
                      e = 1 === e ? [t[0], t[0], 0, 0] : 2 === e ? [t[0], t[0], t[1], t[1]] : 3 === e ? t.concat(t[2]) : t
                    } else e = [t, t, t, t]
                    return e
                  })(e))[0]),
                  (s = e[1]),
                  (l = e[2]),
                  (u = e[3])),
                (e = ku(P - O) / 2),
                (M = Ou(e, l)),
                (T = Ou(e, u)),
                (I = Ou(e, a)),
                (C = Ou(e, s)),
                (v = h = Pu(M, T)),
                (_ = c = Pu(I, C)),
                Ru < h || Ru < c) &&
                ((x = P * Cu(n)), (w = P * Iu(n)), (b = O * Cu(R)), (S = O * Iu(R)), m < Mu) &&
                (e = (function(t, e, n, i, o, r, a, s) {
                  var l = (s = s - r) * (n = n - t) - (a = a - o) * (i = i - e)
                  if (!(l * l < Ru)) return [t + (l = (a * (e - r) - s * (t - o)) / l) * n, e + l * i]
                })(p, d, b, S, x, w, f, g)) &&
                ((M = p - e[0]),
                (T = d - e[1]),
                (I = x - e[0]),
                (C = w - e[1]),
                (m = 1 / Iu(Au((M * I + T * C) / (Lu(M * M + T * T) * Lu(I * I + C * C))) / 2)),
                (M = Lu(e[0] * e[0] + e[1] * e[1])),
                (v = Ou(h, (P - M) / (1 + m))),
                (_ = Ou(c, (O - M) / (m - 1)))),
              y
                ? Ru < v
                  ? ((A = Ou(l, v)),
                    (D = Ou(u, v)),
                    (k = Nu(b, S, p, d, P, A, r)),
                    (L = Nu(x, w, f, g, P, D, r)),
                    t.moveTo(i + k.cx + k.x0, o + k.cy + k.y0),
                    v < h && A === D
                      ? t.arc(i + k.cx, o + k.cy, v, Du(k.y0, k.x0), Du(L.y0, L.x0), !r)
                      : (0 < A && t.arc(i + k.cx, o + k.cy, A, Du(k.y0, k.x0), Du(k.y1, k.x1), !r),
                        t.arc(i, o, P, Du(k.cy + k.y1, k.cx + k.x1), Du(L.cy + L.y1, L.cx + L.x1), !r),
                        0 < D && t.arc(i + L.cx, o + L.cy, D, Du(L.y1, L.x1), Du(L.y0, L.x0), !r)))
                  : (t.moveTo(i + p, o + d), t.arc(i, o, P, R, n, !r))
                : t.moveTo(i + p, o + d),
              Ru < O && y
                ? Ru < _
                  ? ((A = Ou(a, _)),
                    (k = Nu(f, g, x, w, O, -(D = Ou(s, _)), r)),
                    (L = Nu(p, d, b, S, O, -A, r)),
                    t.lineTo(i + k.cx + k.x0, o + k.cy + k.y0),
                    _ < c && A === D
                      ? t.arc(i + k.cx, o + k.cy, _, Du(k.y0, k.x0), Du(L.y0, L.x0), !r)
                      : (0 < D && t.arc(i + k.cx, o + k.cy, D, Du(k.y0, k.x0), Du(k.y1, k.x1), !r),
                        t.arc(i, o, O, Du(k.cy + k.y1, k.cx + k.x1), Du(L.cy + L.y1, L.cx + L.x1), r),
                        0 < A && t.arc(i + L.cx, o + L.cy, A, Du(L.y1, L.x1), Du(L.y0, L.x0), !r)))
                  : (t.lineTo(i + f, o + g), t.arc(i, o, O, n, R, r))
                : t.lineTo(i + f, o + g))
          : t.moveTo(i, o),
        t.closePath()))
  }
  var zu,
    Bu = function() {
      ;(this.cx = 0),
        (this.cy = 0),
        (this.r0 = 0),
        (this.r = 0),
        (this.startAngle = 0),
        (this.endAngle = 2 * Math.PI),
        (this.clockwise = !0),
        (this.cornerRadius = 0)
    },
    Vu =
      (u(Fu, (zu = j)),
      (Fu.prototype.getDefaultShape = function() {
        return new Bu()
      }),
      (Fu.prototype.buildPath = function(t, e) {
        Eu(t, e)
      }),
      (Fu.prototype.isZeroArea = function() {
        return this.shape.startAngle === this.shape.endAngle || this.shape.r === this.shape.r0
      }),
      Fu)
  function Fu(t) {
    return zu.call(this, t) || this
  }
  Vu.prototype.type = 'sector'
  var Hu,
    Gu = function() {
      ;(this.cx = 0), (this.cy = 0), (this.r = 0), (this.r0 = 0)
    },
    Wu =
      (u(Uu, (Hu = j)),
      (Uu.prototype.getDefaultShape = function() {
        return new Gu()
      }),
      (Uu.prototype.buildPath = function(t, e) {
        var n = e.cx,
          i = e.cy,
          o = 2 * Math.PI
        t.moveTo(n + e.r, i), t.arc(n, i, e.r, 0, o, !1), t.moveTo(n + e.r0, i), t.arc(n, i, e.r0, 0, o, !0)
      }),
      Uu)
  function Uu(t) {
    return Hu.call(this, t) || this
  }
  function Yu(t, e, n) {
    var i = e.smooth,
      o = e.points
    if (o && 2 <= o.length) {
      if (i)
        for (
          var r = (function(t, e, n, i) {
              var o,
                r,
                a = [],
                s = [],
                l = [],
                u = []
              if (i) {
                for (var h = [1 / 0, 1 / 0], c = [-1 / 0, -1 / 0], p = 0, d = t.length; p < d; p++) ee(h, h, t[p]), ne(c, c, t[p])
                ee(h, h, i[0]), ne(c, c, i[1])
              }
              for (p = 0, d = t.length; p < d; p++) {
                var f = t[p]
                if (n) (o = t[p ? p - 1 : d - 1]), (r = t[(p + 1) % d])
                else {
                  if (0 === p || p === d - 1) {
                    a.push(Gt(t[p]))
                    continue
                  }
                  ;(o = t[p - 1]), (r = t[p + 1])
                }
                Ut(s, r, o), Zt(s, s, e)
                var g = jt(f, o),
                  y = jt(f, r),
                  m = g + y,
                  m = (0 !== m && ((g /= m), (y /= m)), Zt(l, s, -g), Zt(u, s, y), Wt([], f, l)),
                  g = Wt([], f, u)
                i && (ne(m, m, h), ee(m, m, c), ne(g, g, h), ee(g, g, c)), a.push(m), a.push(g)
              }
              return n && a.push(a.shift()), a
            })(o, i, n, e.smoothConstraint),
            a = (t.moveTo(o[0][0], o[0][1]), o.length),
            s = 0;
          s < (n ? a : a - 1);
          s++
        ) {
          var l = r[2 * s],
            u = r[2 * s + 1],
            h = o[(s + 1) % a]
          t.bezierCurveTo(l[0], l[1], u[0], u[1], h[0], h[1])
        }
      else {
        t.moveTo(o[0][0], o[0][1])
        for (var s = 1, c = o.length; s < c; s++) t.lineTo(o[s][0], o[s][1])
      }
      n && t.closePath()
    }
  }
  Wu.prototype.type = 'ring'
  var Xu,
    Zu = function() {
      ;(this.points = null), (this.smooth = 0), (this.smoothConstraint = null)
    },
    qu =
      (u(ju, (Xu = j)),
      (ju.prototype.getDefaultShape = function() {
        return new Zu()
      }),
      (ju.prototype.buildPath = function(t, e) {
        Yu(t, e, !0)
      }),
      ju)
  function ju(t) {
    return Xu.call(this, t) || this
  }
  qu.prototype.type = 'polygon'
  var Ku,
    $u = function() {
      ;(this.points = null), (this.percent = 1), (this.smooth = 0), (this.smoothConstraint = null)
    },
    Qu =
      (u(Ju, (Ku = j)),
      (Ju.prototype.getDefaultStyle = function() {
        return { stroke: '#000', fill: null }
      }),
      (Ju.prototype.getDefaultShape = function() {
        return new $u()
      }),
      (Ju.prototype.buildPath = function(t, e) {
        Yu(t, e, !1)
      }),
      Ju)
  function Ju(t) {
    return Ku.call(this, t) || this
  }
  Qu.prototype.type = 'polyline'
  var th,
    eh = {},
    nh = function() {
      ;(this.x1 = 0), (this.y1 = 0), (this.x2 = 0), (this.y2 = 0), (this.percent = 1)
    },
    ih =
      (u(oh, (th = j)),
      (oh.prototype.getDefaultStyle = function() {
        return { stroke: '#000', fill: null }
      }),
      (oh.prototype.getDefaultShape = function() {
        return new nh()
      }),
      (oh.prototype.buildPath = function(t, e) {
        r = (this.subPixelOptimize
          ? ((n = (r = ks(eh, e, this.style)).x1), (i = r.y1), (o = r.x2), r)
          : ((n = e.x1), (i = e.y1), (o = e.x2), e)
        ).y2
        var n,
          i,
          o,
          r,
          e = e.percent
        0 !== e && (t.moveTo(n, i), e < 1 && ((o = n * (1 - e) + o * e), (r = i * (1 - e) + r * e)), t.lineTo(o, r))
      }),
      (oh.prototype.pointAt = function(t) {
        var e = this.shape
        return [e.x1 * (1 - t) + e.x2 * t, e.y1 * (1 - t) + e.y2 * t]
      }),
      oh)
  function oh(t) {
    return th.call(this, t) || this
  }
  ih.prototype.type = 'line'
  var rh = [],
    ah = function() {
      ;(this.x1 = 0), (this.y1 = 0), (this.x2 = 0), (this.y2 = 0), (this.cpx1 = 0), (this.cpy1 = 0), (this.percent = 1)
    }
  function sh(t, e, n) {
    var i = t.cpx2,
      o = t.cpy2
    return null != i || null != o
      ? [(n ? Vn : Bn)(t.x1, t.cpx1, t.cpx2, t.x2, e), (n ? Vn : Bn)(t.y1, t.cpy1, t.cpy2, t.y2, e)]
      : [(n ? Yn : Un)(t.x1, t.cpx1, t.x2, e), (n ? Yn : Un)(t.y1, t.cpy1, t.y2, e)]
  }
  u(hh, (lh = j)),
    (hh.prototype.getDefaultStyle = function() {
      return { stroke: '#000', fill: null }
    }),
    (hh.prototype.getDefaultShape = function() {
      return new ah()
    }),
    (hh.prototype.buildPath = function(t, e) {
      var n = e.x1,
        i = e.y1,
        o = e.x2,
        r = e.y2,
        a = e.cpx1,
        s = e.cpy1,
        l = e.cpx2,
        u = e.cpy2,
        e = e.percent
      0 !== e &&
        (t.moveTo(n, i),
        null == l || null == u
          ? (e < 1 && (Zn(n, a, o, e, rh), (a = rh[1]), (o = rh[2]), Zn(i, s, r, e, rh), (s = rh[1]), (r = rh[2])),
            t.quadraticCurveTo(a, s, o, r))
          : (e < 1 &&
              (Gn(n, a, l, o, e, rh), (a = rh[1]), (l = rh[2]), (o = rh[3]), Gn(i, s, u, r, e, rh), (s = rh[1]), (u = rh[2]), (r = rh[3])),
            t.bezierCurveTo(a, s, l, u, o, r)))
    }),
    (hh.prototype.pointAt = function(t) {
      return sh(this.shape, t, !1)
    }),
    (hh.prototype.tangentAt = function(t) {
      t = sh(this.shape, t, !0)
      return qt(t, t)
    })
  var lh,
    uh = hh
  function hh(t) {
    return lh.call(this, t) || this
  }
  uh.prototype.type = 'bezier-curve'
  var ch,
    ph = function() {
      ;(this.cx = 0), (this.cy = 0), (this.r = 0), (this.startAngle = 0), (this.endAngle = 2 * Math.PI), (this.clockwise = !0)
    },
    dh =
      (u(fh, (ch = j)),
      (fh.prototype.getDefaultStyle = function() {
        return { stroke: '#000', fill: null }
      }),
      (fh.prototype.getDefaultShape = function() {
        return new ph()
      }),
      (fh.prototype.buildPath = function(t, e) {
        var n = e.cx,
          i = e.cy,
          o = Math.max(e.r, 0),
          r = e.startAngle,
          a = e.endAngle,
          e = e.clockwise,
          s = Math.cos(r),
          l = Math.sin(r)
        t.moveTo(s * o + n, l * o + i), t.arc(n, i, o, r, a, !e)
      }),
      fh)
  function fh(t) {
    return ch.call(this, t) || this
  }
  dh.prototype.type = 'arc'
  u(mh, (gh = j)),
    (mh.prototype._updatePathDirty = function() {
      for (var t = this.shape.paths, e = this.shapeChanged(), n = 0; n < t.length; n++) e = e || t[n].shapeChanged()
      e && this.dirtyShape()
    }),
    (mh.prototype.beforeBrush = function() {
      this._updatePathDirty()
      for (var t = this.shape.paths || [], e = this.getGlobalScale(), n = 0; n < t.length; n++)
        t[n].path || t[n].createPathProxy(), t[n].path.setScale(e[0], e[1], t[n].segmentIgnoreThreshold)
    }),
    (mh.prototype.buildPath = function(t, e) {
      for (var n = e.paths || [], i = 0; i < n.length; i++) n[i].buildPath(t, n[i].shape, !0)
    }),
    (mh.prototype.afterBrush = function() {
      for (var t = this.shape.paths || [], e = 0; e < t.length; e++) t[e].pathUpdated()
    }),
    (mh.prototype.getBoundingRect = function() {
      return this._updatePathDirty.call(this), j.prototype.getBoundingRect.call(this)
    })
  var gh,
    yh = mh
  function mh() {
    var t = (null !== gh && gh.apply(this, arguments)) || this
    return (t.type = 'compound'), t
  }
  _h.prototype.addColorStop = function(t, e) {
    this.colorStops.push({ offset: t, color: e })
  }
  var vh = _h
  function _h(t) {
    this.colorStops = t || []
  }
  u(bh, (xh = vh))
  var xh,
    wh = bh
  function bh(t, e, n, i, o, r) {
    o = xh.call(this, o) || this
    return (
      (o.x = null == t ? 0 : t),
      (o.y = null == e ? 0 : e),
      (o.x2 = null == n ? 1 : n),
      (o.y2 = null == i ? 0 : i),
      (o.type = 'linear'),
      (o.global = r || !1),
      o
    )
  }
  u(Mh, (Sh = vh))
  var Sh,
    vh = Mh
  function Mh(t, e, n, i, o) {
    i = Sh.call(this, i) || this
    return (
      (i.x = null == t ? 0.5 : t), (i.y = null == e ? 0.5 : e), (i.r = null == n ? 0.5 : n), (i.type = 'radial'), (i.global = o || !1), i
    )
  }
  var Th = [0, 0],
    Ih = [0, 0],
    Ch = new G(),
    Ah = new G(),
    Dh =
      ((kh.prototype.fromBoundingRect = function(t, e) {
        var n = this._corners,
          i = this._axes,
          o = t.x,
          r = t.y,
          a = o + t.width,
          t = r + t.height
        if ((n[0].set(o, r), n[1].set(a, r), n[2].set(a, t), n[3].set(o, t), e)) for (var s = 0; s < 4; s++) n[s].transform(e)
        G.sub(i[0], n[1], n[0]), G.sub(i[1], n[3], n[0]), i[0].normalize(), i[1].normalize()
        for (s = 0; s < 2; s++) this._origin[s] = i[s].dot(n[0])
      }),
      (kh.prototype.intersect = function(t, e) {
        var n = !0,
          i = !e
        return (
          Ch.set(1 / 0, 1 / 0),
          Ah.set(0, 0),
          (!this._intersectCheckOneSide(this, t, Ch, Ah, i, 1) && ((n = !1), i)) ||
            (!this._intersectCheckOneSide(t, this, Ch, Ah, i, -1) && ((n = !1), i)) ||
            i ||
            G.copy(e, n ? Ch : Ah),
          n
        )
      }),
      (kh.prototype._intersectCheckOneSide = function(t, e, n, i, o, r) {
        for (var a = !0, s = 0; s < 2; s++) {
          var l = this._axes[s]
          if (
            (this._getProjMinMaxOnAxis(s, t._corners, Th), this._getProjMinMaxOnAxis(s, e._corners, Ih), Th[1] < Ih[0] || Ih[1] < Th[0])
          ) {
            if (((a = !1), o)) return a
            var u = Math.abs(Ih[0] - Th[1]),
              h = Math.abs(Th[0] - Ih[1])
            Math.min(u, h) > i.len() && (u < h ? G.scale(i, l, -u * r) : G.scale(i, l, h * r))
          } else
            n &&
              ((u = Math.abs(Ih[0] - Th[1])), (h = Math.abs(Th[0] - Ih[1])), Math.min(u, h) < n.len()) &&
              (u < h ? G.scale(n, l, u * r) : G.scale(n, l, -h * r))
        }
        return a
      }),
      (kh.prototype._getProjMinMaxOnAxis = function(t, e, n) {
        for (var i = this._axes[t], o = this._origin, r = e[0].dot(i) + o[t], a = r, s = r, l = 1; l < e.length; l++)
          var u = e[l].dot(i) + o[t], a = Math.min(u, a), s = Math.max(u, s)
        ;(n[0] = a), (n[1] = s)
      }),
      kh)
  function kh(t, e) {
    ;(this._corners = []), (this._axes = []), (this._origin = [0, 0])
    for (var n = 0; n < 4; n++) this._corners[n] = new G()
    for (n = 0; n < 2; n++) this._axes[n] = new G()
    t && this.fromBoundingRect(t, e)
  }
  var Lh,
    Ph = [],
    e =
      (u(Oh, (Lh = e)),
      (Oh.prototype.traverse = function(t, e) {
        t.call(e, this)
      }),
      (Oh.prototype.useStyle = function() {
        this.style = {}
      }),
      (Oh.prototype.getCursor = function() {
        return this._cursor
      }),
      (Oh.prototype.innerAfterBrush = function() {
        this._cursor = this._displayables.length
      }),
      (Oh.prototype.clearDisplaybles = function() {
        ;(this._displayables = []), (this._temporaryDisplayables = []), (this._cursor = 0), this.markRedraw(), (this.notClear = !1)
      }),
      (Oh.prototype.clearTemporalDisplayables = function() {
        this._temporaryDisplayables = []
      }),
      (Oh.prototype.addDisplayable = function(t, e) {
        ;(e ? this._temporaryDisplayables : this._displayables).push(t), this.markRedraw()
      }),
      (Oh.prototype.addDisplayables = function(t, e) {
        e = e || !1
        for (var n = 0; n < t.length; n++) this.addDisplayable(t[n], e)
      }),
      (Oh.prototype.getDisplayables = function() {
        return this._displayables
      }),
      (Oh.prototype.getTemporalDisplayables = function() {
        return this._temporaryDisplayables
      }),
      (Oh.prototype.eachPendingDisplayable = function(t) {
        for (var e = this._cursor; e < this._displayables.length; e++) t && t(this._displayables[e])
        for (e = 0; e < this._temporaryDisplayables.length; e++) t && t(this._temporaryDisplayables[e])
      }),
      (Oh.prototype.update = function() {
        this.updateTransform()
        for (var t = this._cursor; t < this._displayables.length; t++)
          ((e = this._displayables[t]).parent = this), e.update(), (e.parent = null)
        for (var e, t = 0; t < this._temporaryDisplayables.length; t++)
          ((e = this._temporaryDisplayables[t]).parent = this), e.update(), (e.parent = null)
      }),
      (Oh.prototype.getBoundingRect = function() {
        if (!this._rect) {
          for (var t = new Y(1 / 0, 1 / 0, -1 / 0, -1 / 0), e = 0; e < this._displayables.length; e++) {
            var n = this._displayables[e],
              i = n.getBoundingRect().clone()
            n.needLocalTransform() && i.applyTransform(n.getLocalTransform(Ph)), t.union(i)
          }
          this._rect = t
        }
        return this._rect
      }),
      (Oh.prototype.contain = function(t, e) {
        var n = this.transformCoordToLocal(t, e)
        if (this.getBoundingRect().contain(n[0], n[1]))
          for (var i = 0; i < this._displayables.length; i++) if (this._displayables[i].contain(t, e)) return !0
        return !1
      }),
      Oh)
  function Oh() {
    var t = (null !== Lh && Lh.apply(this, arguments)) || this
    return (t.notClear = !0), (t.incremental = !0), (t._displayables = []), (t._temporaryDisplayables = []), (t._cursor = 0), t
  }
  var Rh = Nr()
  function Nh(t, e, n, i, o, r, a) {
    var s,
      l,
      u,
      h,
      c,
      p,
      d = !1,
      f =
        (A(o) ? ((a = r), (r = o), (o = null)) : O(o) && ((r = o.cb), (a = o.during), (d = o.isFrom), (l = o.removeOpt), (o = o.dataIndex)),
        'leave' === t),
      g =
        (f || e.stopAnimation('leave'),
        (p = t),
        (s = o),
        (l = f ? l || {} : null),
        (i = (g = i) && i.getAnimationDelayParams ? i.getAnimationDelayParams(e, o) : null),
        g && g.ecModel && (u = (u = g.ecModel.getUpdatePayload()) && u.animation),
        (p = 'update' === p),
        g && g.isAnimationEnabled()
          ? ((c = h = o = void 0),
            (c = l
              ? ((o = R(l.duration, 200)), (h = R(l.easing, 'cubicOut')), 0)
              : ((o = g.getShallow(p ? 'animationDurationUpdate' : 'animationDuration')),
                (h = g.getShallow(p ? 'animationEasingUpdate' : 'animationEasing')),
                g.getShallow(p ? 'animationDelayUpdate' : 'animationDelay'))),
            A((c = u && (null != u.duration && (o = u.duration), null != u.easing && (h = u.easing), null != u.delay) ? u.delay : c)) &&
              (c = c(s, i)),
            { duration: (o = A(o) ? o(s) : o) || 0, delay: c, easing: h })
          : null)
    g && 0 < g.duration
      ? ((p = {
          duration: g.duration,
          delay: g.delay || 0,
          easing: g.easing,
          done: r,
          force: !!r || !!a,
          setToFinal: !f,
          scope: t,
          during: a,
        }),
        d ? e.animateFrom(n, p) : e.animateTo(n, p))
      : (e.stopAnimation(), d || e.attr(n), a && a(1), r && r())
  }
  function Eh(t, e, n, i, o, r) {
    Nh('update', t, e, n, i, o, r)
  }
  function zh(t, e, n, i, o, r) {
    Nh('enter', t, e, n, i, o, r)
  }
  function Bh(t) {
    if (!t.__zr) return !0
    for (var e = 0; e < t.animators.length; e++) if ('leave' === t.animators[e].scope) return !0
    return !1
  }
  function Vh(t, e, n, i, o, r) {
    Bh(t) || Nh('leave', t, e, n, i, o, r)
  }
  function Fh(t, e, n, i) {
    t.removeTextContent(), t.removeTextGuideLine(), Vh(t, { style: { opacity: 0 } }, e, n, i)
  }
  function Hh(t, e, n) {
    function i() {
      t.parent && t.parent.remove(t)
    }
    t.isGroup
      ? t.traverse(function(t) {
          t.isGroup || Fh(t, e, n, i)
        })
      : Fh(t, e, n, i)
  }
  function Gh(t) {
    Rh(t).oldStyle = t.style
  }
  var Wh = Math.max,
    Uh = Math.min,
    Yh = {}
  function Xh(t) {
    return j.extend(t)
  }
  var Zh = function(t, e) {
    var n,
      i = gu(t, e)
    function o(t) {
      t = n.call(this, t) || this
      return (t.applyTransform = i.applyTransform), (t.buildPath = i.buildPath), t
    }
    return u(o, (n = pu)), o
  }
  function qh(t, e) {
    return Zh(t, e)
  }
  function jh(t, e) {
    Yh[t] = e
  }
  function Kh(t) {
    if (Yh.hasOwnProperty(t)) return Yh[t]
  }
  function $h(t, e, n, i) {
    t = new pu(gu(t, e))
    return n && ('center' === i && (n = Jh(n, t.getBoundingRect())), ec(t, n)), t
  }
  function Qh(t, e, n) {
    var i = new Cs({
      style: { image: t, x: e.x, y: e.y, width: e.width, height: e.height },
      onload: function(t) {
        'center' === n && ((t = { width: t.width, height: t.height }), i.setStyle(Jh(e, t)))
      },
    })
    return i
  }
  function Jh(t, e) {
    var e = e.width / e.height,
      n = t.height * e,
      e = n <= t.width ? t.height : (n = t.width) / e
    return { x: t.x + t.width / 2 - n / 2, y: t.y + t.height / 2 - e / 2, width: n, height: e }
  }
  var tc = function(t, e) {
    for (var n = [], i = t.length, o = 0; o < i; o++) {
      var r = t[o]
      n.push(r.getUpdatedPathProxy(!0))
    }
    return (
      (e = new j(e)).createPathProxy(),
      (e.buildPath = function(t) {
        var e
        fu(t) && (t.appendPath(n), (e = t.getContext())) && t.rebuildPath(e, 1)
      }),
      e
    )
  }
  function ec(t, e) {
    t.applyTransform && ((e = t.getBoundingRect().calculateTransform(e)), t.applyTransform(e))
  }
  function nc(t, e) {
    return ks(t, t, { lineWidth: e }), t
  }
  var ic = Ps
  function oc(t, e) {
    for (var n = Oe([]); t && t !== e; ) Ne(n, t.getLocalTransform(), n), (t = t.parent)
    return n
  }
  function rc(t, e, n) {
    return e && !lt(e) && (e = wo.getLocalTransform(e)), te([], t, (e = n ? Ve([], e) : e))
  }
  function ac(t, e, n) {
    var i = 0 === e[4] || 0 === e[5] || 0 === e[0] ? 1 : Math.abs((2 * e[4]) / e[0]),
      o = 0 === e[4] || 0 === e[5] || 0 === e[2] ? 1 : Math.abs((2 * e[4]) / e[2]),
      i = rc(['left' === t ? -i : 'right' === t ? i : 0, 'top' === t ? -o : 'bottom' === t ? o : 0], e, n)
    return Math.abs(i[0]) > Math.abs(i[1]) ? (0 < i[0] ? 'right' : 'left') : 0 < i[1] ? 'bottom' : 'top'
  }
  function sc(t) {
    return !t.isGroup
  }
  function lc(t, e, i) {
    var o, n
    function r(t) {
      var e = { x: t.x, y: t.y, rotation: t.rotation }
      return null != t.shape && (e.shape = P({}, t.shape)), e
    }
    t &&
      e &&
      ((n = {}),
      t.traverse(function(t) {
        sc(t) && t.anid && (n[t.anid] = t)
      }),
      (o = n),
      e.traverse(function(t) {
        var e, n
        sc(t) && t.anid && (e = o[t.anid]) && ((n = r(t)), t.attr(r(e)), Eh(t, n, i, D(t).dataIndex))
      }))
  }
  function uc(t, n) {
    return B(t, function(t) {
      var e = t[0],
        e = Wh(e, n.x),
        t = ((e = Uh(e, n.x + n.width)), t[1]),
        t = Wh(t, n.y)
      return [e, Uh(t, n.y + n.height)]
    })
  }
  function hc(t, e) {
    var n = Wh(t.x, e.x),
      i = Uh(t.x + t.width, e.x + e.width),
      o = Wh(t.y, e.y),
      t = Uh(t.y + t.height, e.y + e.height)
    if (n <= i && o <= t) return { x: n, y: o, width: i - n, height: t - o }
  }
  function cc(t, e, n) {
    var e = P({ rectHover: !0 }, e),
      i = (e.style = { strokeNoScale: !0 })
    if (((n = n || { x: -1, y: -1, width: 2, height: 2 }), t))
      return 0 === t.indexOf('image://') ? ((i.image = t.slice(8)), z(i, n), new Cs(e)) : $h(t.replace('path://', ''), e, n, 'center')
  }
  function pc(t, e, n, i, o, r, a, s) {
    var l,
      n = n - t,
      i = i - e,
      a = a - o,
      s = s - r,
      u = a * i - n * s
    return !(
      ((l = u) <= 1e-6 && -1e-6 <= l) ||
      (o = ((l = t - o) * i - n * (t = e - r)) / u) < 0 ||
      1 < o ||
      (i = (l * s - a * t) / u) < 0 ||
      1 < i
    )
  }
  function dc(t) {
    var e = t.itemTooltipOption,
      n = t.componentModel,
      i = t.itemName,
      e = F(e) ? { formatter: e } : e,
      o = n.mainType,
      n = n.componentIndex,
      r = { componentType: o, name: i, $vars: ['name'] },
      a = ((r[o + 'Index'] = n), t.formatterParamsExtra),
      t =
        (a &&
          E(ct(a), function(t) {
            zt(r, t) || ((r[t] = a[t]), r.$vars.push(t))
          }),
        D(t.el))
    ;(t.componentMainType = o),
      (t.componentIndex = n),
      (t.tooltipConfig = { name: i, option: z({ content: i, encodeHTMLContent: !0, formatterParams: r }, e) })
  }
  function fc(t, e) {
    var n
    ;(n = t.isGroup ? e(t) : n) || t.traverse(e)
  }
  function gc(t, e) {
    if (t)
      if (V(t)) for (var n = 0; n < t.length; n++) fc(t[n], e)
      else fc(t, e)
  }
  jh('circle', vu),
    jh('ellipse', bu),
    jh('sector', Vu),
    jh('ring', Wu),
    jh('polygon', qu),
    jh('polyline', Qu),
    jh('rect', Es),
    jh('line', ih),
    jh('bezierCurve', uh),
    jh('arc', dh)
  var yc = Object.freeze({
      __proto__: null,
      Arc: dh,
      BezierCurve: uh,
      BoundingRect: Y,
      Circle: vu,
      CompoundPath: yh,
      Ellipse: bu,
      Group: Yo,
      Image: Cs,
      IncrementalDisplayable: e,
      Line: ih,
      LinearGradient: wh,
      OrientedBoundingRect: Dh,
      Path: j,
      Point: G,
      Polygon: qu,
      Polyline: Qu,
      RadialGradient: vh,
      Rect: Es,
      Ring: Wu,
      Sector: Vu,
      Text: Hs,
      applyTransform: rc,
      clipPointsByRect: uc,
      clipRectByRect: hc,
      createIcon: cc,
      extendPath: qh,
      extendShape: Xh,
      getShapeClass: Kh,
      getTransform: oc,
      groupTransition: lc,
      initProps: zh,
      isElementRemoved: Bh,
      lineLineIntersect: pc,
      linePolygonIntersect: function(t, e, n, i, o) {
        for (var r = 0, a = o[o.length - 1]; r < o.length; r++) {
          var s = o[r]
          if (pc(t, e, n, i, s[0], s[1], a[0], a[1])) return !0
          a = s
        }
      },
      makeImage: Qh,
      makePath: $h,
      mergePath: tc,
      registerShape: jh,
      removeElement: Vh,
      removeElementWithFadeOut: Hh,
      resizePath: ec,
      setTooltipConfig: dc,
      subPixelOptimize: ic,
      subPixelOptimizeLine: nc,
      subPixelOptimizeRect: function(t) {
        return Ls(t.shape, t.shape, t.style), t
      },
      transformDirection: ac,
      traverseElements: gc,
      updateProps: Eh,
    }),
    mc = {}
  function vc(t, e) {
    for (var n = 0; n < sl.length; n++) {
      var i = sl[n],
        o = e[i],
        i = t.ensureState(i)
      ;(i.style = i.style || {}), (i.style.text = o)
    }
    var r = t.currentStates.slice()
    t.clearStates(!0), t.setStyle({ text: e.normal }), t.useStates(r, !0)
  }
  function _c(t, e, n) {
    for (
      var i,
        o = t.labelFetcher,
        r = t.labelDataIndex,
        a = t.labelDimIndex,
        s = e.normal,
        l = {
          normal: (i =
            null ==
            (i = o ? o.getFormattedLabel(r, 'normal', null, a, s && s.get('formatter'), null != n ? { interpolatedValue: n } : null) : i)
              ? A(t.defaultText)
                ? t.defaultText(r, t, n)
                : t.defaultText
              : i),
        },
        u = 0;
      u < sl.length;
      u++
    ) {
      var h = sl[u],
        c = e[h]
      l[h] = R(o ? o.getFormattedLabel(r, h, null, a, c && c.get('formatter')) : null, i)
    }
    return l
  }
  function xc(t, e, n, i) {
    n = n || mc
    for (var o = t instanceof Hs, r = !1, a = 0; a < ll.length; a++)
      if ((p = e[ll[a]]) && p.getShallow('show')) {
        r = !0
        break
      }
    var s = o ? t : t.getTextContent()
    if (r) {
      o || (s || ((s = new Hs()), t.setTextContent(s)), t.stateProxy && (s.stateProxy = t.stateProxy))
      var l = _c(n, e),
        u = e.normal,
        h = !!u.getShallow('show'),
        c = bc(u, i && i.normal, n, !1, !o)
      ;(c.text = l.normal), o || t.setTextConfig(Sc(u, n, !1))
      for (a = 0; a < sl.length; a++) {
        var p,
          d,
          f,
          g = sl[a]
        ;(p = e[g]) &&
          ((d = s.ensureState(g)),
          (f = !!R(p.getShallow('show'), h)) != h && (d.ignore = !f),
          (d.style = bc(p, i && i[g], n, !0, !o)),
          (d.style.text = l[g]),
          o || (t.ensureState(g).textConfig = Sc(p, n, !0)))
      }
      ;(s.silent = !!u.getShallow('silent')),
        null != s.style.x && (c.x = s.style.x),
        null != s.style.y && (c.y = s.style.y),
        (s.ignore = !h),
        s.useStyle(c),
        s.dirty(),
        n.enableTextSetter &&
          (Ac(s).setLabelText = function(t) {
            t = _c(n, e, t)
            vc(s, t)
          })
    } else s && (s.ignore = !0)
    t.dirty()
  }
  function wc(t, e) {
    for (var n = { normal: t.getModel((e = e || 'label')) }, i = 0; i < sl.length; i++) {
      var o = sl[i]
      n[o] = t.getModel([o, e])
    }
    return n
  }
  function bc(t, e, n, i, o) {
    var r,
      a = {},
      s = a,
      l = t,
      u = n,
      h = i,
      c = o
    u = u || mc
    var p,
      t = l.ecModel,
      d = t && t.option.textStyle,
      f = (function(t) {
        var e
        for (; t && t !== t.ecModel; ) {
          var n = (t.option || mc).rich
          if (n) {
            e = e || {}
            for (var i = ct(n), o = 0; o < i.length; o++) {
              var r = i[o]
              e[r] = 1
            }
          }
          t = t.parentModel
        }
        return e
      })(l)
    if (f) for (var g in ((p = {}), f)) f.hasOwnProperty(g) && ((r = l.getModel(['rich', g])), Cc((p[g] = {}), r, d, u, h, c, !1, !0))
    return (
      p && (s.rich = p),
      (t = l.get('overflow')) && (s.overflow = t),
      null != (t = l.get('minMargin')) && (s.margin = t),
      Cc(s, l, d, u, h, c, !0, !1),
      e && P(a, e),
      a
    )
  }
  function Sc(t, e, n) {
    e = e || {}
    var i = {},
      o = t.getShallow('rotate'),
      r = R(t.getShallow('distance'), n ? null : 5),
      a = t.getShallow('offset'),
      n = t.getShallow('position') || (n ? null : 'inside')
    return (
      null != (n = 'outside' === n ? e.defaultOutsidePosition || 'top' : n) && (i.position = n),
      null != a && (i.offset = a),
      null != o && ((o *= Math.PI / 180), (i.rotation = o)),
      null != r && (i.distance = r),
      (i.outsideFill = 'inherit' === t.get('color') ? e.inheritColor || null : 'auto'),
      i
    )
  }
  var Mc = [
      'fontStyle',
      'fontWeight',
      'fontSize',
      'fontFamily',
      'textShadowColor',
      'textShadowBlur',
      'textShadowOffsetX',
      'textShadowOffsetY',
    ],
    Tc = ['align', 'lineHeight', 'width', 'height', 'tag', 'verticalAlign', 'ellipsis'],
    Ic = [
      'padding',
      'borderWidth',
      'borderRadius',
      'borderDashOffset',
      'backgroundColor',
      'borderColor',
      'shadowColor',
      'shadowBlur',
      'shadowOffsetX',
      'shadowOffsetY',
    ]
  function Cc(t, e, n, i, o, r, a, s) {
    n = (!o && n) || mc
    var l = i && i.inheritColor,
      u = e.getShallow('color'),
      h = e.getShallow('textBorderColor'),
      c = R(e.getShallow('opacity'), n.opacity),
      u =
        (('inherit' !== u && 'auto' !== u) || (u = l || null),
        ('inherit' !== h && 'auto' !== h) || (h = l || null),
        r || ((u = u || n.color), (h = h || n.textBorderColor)),
        null != u && (t.fill = u),
        null != h && (t.stroke = h),
        R(e.getShallow('textBorderWidth'), n.textBorderWidth)),
      h = (null != u && (t.lineWidth = u), R(e.getShallow('textBorderType'), n.textBorderType)),
      u = (null != h && (t.lineDash = h), R(e.getShallow('textBorderDashOffset'), n.textBorderDashOffset))
    null != u && (t.lineDashOffset = u),
      null != (c = o || null != c || s ? c : i && i.defaultOpacity) && (t.opacity = c),
      o || r || (null == t.fill && i.inheritColor && (t.fill = i.inheritColor))
    for (var p = 0; p < Mc.length; p++) {
      var d = Mc[p]
      null != (f = R(e.getShallow(d), n[d])) && (t[d] = f)
    }
    for (var p = 0; p < Tc.length; p++) {
      d = Tc[p]
      null != (f = e.getShallow(d)) && (t[d] = f)
    }
    if ((null == t.verticalAlign && null != (h = e.getShallow('baseline')) && (t.verticalAlign = h), !a || !i.disableBox)) {
      for (p = 0; p < Ic.length; p++) {
        var f,
          d = Ic[p]
        null != (f = e.getShallow(d)) && (t[d] = f)
      }
      u = e.getShallow('borderType')
      null != u && (t.borderDash = u),
        ('auto' !== t.backgroundColor && 'inherit' !== t.backgroundColor) || !l || (t.backgroundColor = l),
        ('auto' !== t.borderColor && 'inherit' !== t.borderColor) || !l || (t.borderColor = l)
    }
  }
  var Ac = Nr()
  function Dc(t, e, n, i) {
    t &&
      (((t = Ac(t)).prevValue = t.value), (t.value = n), (n = e.normal), (t.valueAnimation = n.get('valueAnimation')), t.valueAnimation) &&
      ((t.precision = n.get('precision')), (t.defaultInterpolatedText = i), (t.statesModels = e))
  }
  function kc(n, i, o, t, r) {
    var a,
      s,
      l,
      u = Ac(n)
    u.valueAnimation &&
      u.prevValue !== u.value &&
      ((a = u.defaultInterpolatedText),
      (s = R(u.interpolatedValue, u.prevValue)),
      (l = u.value),
      (n.percent = 0),
      (null == u.prevValue ? zh : Eh)(n, { percent: 1 }, t, i, null, function(t) {
        var e = Wr(o, u.precision, s, l, t),
          t =
            ((u.interpolatedValue = 1 === t ? null : e),
            _c({ labelDataIndex: i, labelFetcher: r, defaultText: a ? a(e) : e + '' }, u.statesModels, e))
        vc(n, t)
      }))
  }
  var Lc = ['textStyle', 'color'],
    Pc = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily', 'padding', 'lineHeight', 'rich', 'width', 'height', 'overflow'],
    Oc = new Hs(),
    ic =
      ((Rc.prototype.getTextColor = function(t) {
        var e = this.ecModel
        return this.getShallow('color') || (!t && e ? e.get(Lc) : null)
      }),
      (Rc.prototype.getFont = function() {
        return (
          (t = {
            fontStyle: this.getShallow('fontStyle'),
            fontWeight: this.getShallow('fontWeight'),
            fontSize: this.getShallow('fontSize'),
            fontFamily: this.getShallow('fontFamily'),
          }),
          (e = (e = this.ecModel) && e.getModel('textStyle')),
          Tt(
            [
              t.fontStyle || (e && e.getShallow('fontStyle')) || '',
              t.fontWeight || (e && e.getShallow('fontWeight')) || '',
              (t.fontSize || (e && e.getShallow('fontSize')) || 12) + 'px',
              t.fontFamily || (e && e.getShallow('fontFamily')) || 'sans-serif',
            ].join(' ')
          )
        )
        var t, e
      }),
      (Rc.prototype.getTextRect = function(t) {
        for (var e = { text: t, verticalAlign: this.getShallow('verticalAlign') || this.getShallow('baseline') }, n = 0; n < Pc.length; n++)
          e[Pc[n]] = this.getShallow(Pc[n])
        return Oc.useStyle(e), Oc.update(), Oc.getBoundingRect()
      }),
      Rc)
  function Rc() {}
  var Nc = [
      ['lineWidth', 'width'],
      ['stroke', 'color'],
      ['opacity'],
      ['shadowBlur'],
      ['shadowOffsetX'],
      ['shadowOffsetY'],
      ['shadowColor'],
      ['lineDash', 'type'],
      ['lineDashOffset', 'dashOffset'],
      ['lineCap', 'cap'],
      ['lineJoin', 'join'],
      ['miterLimit'],
    ],
    Ec = ta(Nc),
    zc =
      ((Bc.prototype.getLineStyle = function(t) {
        return Ec(this, t)
      }),
      Bc)
  function Bc() {}
  var Vc = [
      ['fill', 'color'],
      ['stroke', 'borderColor'],
      ['lineWidth', 'borderWidth'],
      ['opacity'],
      ['shadowBlur'],
      ['shadowOffsetX'],
      ['shadowOffsetY'],
      ['shadowColor'],
      ['lineDash', 'borderType'],
      ['lineDashOffset', 'borderDashOffset'],
      ['lineCap', 'borderCap'],
      ['lineJoin', 'borderJoin'],
      ['miterLimit', 'borderMiterLimit'],
    ],
    Fc = ta(Vc),
    Hc =
      ((Gc.prototype.getItemStyle = function(t, e) {
        return Fc(this, t, e)
      }),
      Gc)
  function Gc() {}
  ;(Yc.prototype.init = function(t, e, n) {}),
    (Yc.prototype.mergeOption = function(t, e) {
      d(this.option, t, !0)
    }),
    (Yc.prototype.get = function(t, e) {
      return null == t ? this.option : this._doGet(this.parsePath(t), !e && this.parentModel)
    }),
    (Yc.prototype.getShallow = function(t, e) {
      var n = this.option,
        n = null == n ? n : n[t]
      return null != n || e || ((e = this.parentModel) && (n = e.getShallow(t))), n
    }),
    (Yc.prototype.getModel = function(t, e) {
      var n = null != t,
        t = n ? this.parsePath(t) : null
      return new Yc(
        n ? this._doGet(t) : this.option,
        (e = e || (this.parentModel && this.parentModel.getModel(this.resolveParentPath(t)))),
        this.ecModel
      )
    }),
    (Yc.prototype.isEmpty = function() {
      return null == this.option
    }),
    (Yc.prototype.restoreData = function() {}),
    (Yc.prototype.clone = function() {
      return new this.constructor(y(this.option))
    }),
    (Yc.prototype.parsePath = function(t) {
      return 'string' == typeof t ? t.split('.') : t
    }),
    (Yc.prototype.resolveParentPath = function(t) {
      return t
    }),
    (Yc.prototype.isAnimationEnabled = function() {
      if (!b.node && this.option)
        return null != this.option.animation ? !!this.option.animation : this.parentModel ? this.parentModel.isAnimationEnabled() : void 0
    }),
    (Yc.prototype._doGet = function(t, e) {
      var n = this.option
      if (t) {
        for (var i = 0; i < t.length && (!t[i] || null != (n = n && 'object' == typeof n ? n[t[i]] : null)); i++);
        null == n && e && (n = e._doGet(this.resolveParentPath(t), e.parentModel))
      }
      return n
    })
  var Wc,
    Uc = Yc
  function Yc(t, e, n) {
    ;(this.parentModel = e), (this.ecModel = n), (this.option = t)
  }
  qr(Uc),
    (sp = Uc),
    (Wc = ['__\0is_clz', Kr++].join('_')),
    (sp.prototype[Wc] = !0),
    (sp.isInstance = function(t) {
      return !(!t || !t[Wc])
    }),
    st(Uc, zc),
    st(Uc, Hc),
    st(Uc, na),
    st(Uc, ic)
  var Xc = Math.round(10 * Math.random())
  function Zc(t) {
    return [t || '', Xc++].join('_')
  }
  function qc(t, e) {
    return d(d({}, t, !0), e, !0)
  }
  var jc = 'ZH',
    Kc = 'EN',
    $c = Kc,
    Qc = {},
    Jc = {},
    tp =
      b.domSupported &&
      -1 < (document.documentElement.lang || navigator.language || navigator.browserLanguage || $c).toUpperCase().indexOf(jc)
        ? jc
        : $c
  function ep(t, e) {
    ;(t = t.toUpperCase()), (Jc[t] = new Uc(e)), (Qc[t] = e)
  }
  ep(Kc, {
    time: {
      month: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
      monthAbbr: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
      dayOfWeek: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
      dayOfWeekAbbr: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
    },
    legend: { selector: { all: 'All', inverse: 'Inv' } },
    toolbox: {
      brush: {
        title: {
          rect: 'Box Select',
          polygon: 'Lasso Select',
          lineX: 'Horizontally Select',
          lineY: 'Vertically Select',
          keep: 'Keep Selections',
          clear: 'Clear Selections',
        },
      },
      dataView: { title: 'Data View', lang: ['Data View', 'Close', 'Refresh'] },
      dataZoom: { title: { zoom: 'Zoom', back: 'Zoom Reset' } },
      magicType: { title: { line: 'Switch to Line Chart', bar: 'Switch to Bar Chart', stack: 'Stack', tiled: 'Tile' } },
      restore: { title: 'Restore' },
      saveAsImage: { title: 'Save as Image', lang: ['Right Click to Save Image'] },
    },
    series: {
      typeNames: {
        pie: 'Pie chart',
        bar: 'Bar chart',
        line: 'Line chart',
        scatter: 'Scatter plot',
        effectScatter: 'Ripple scatter plot',
        radar: 'Radar chart',
        tree: 'Tree',
        treemap: 'Treemap',
        boxplot: 'Boxplot',
        candlestick: 'Candlestick',
        k: 'K line chart',
        heatmap: 'Heat map',
        map: 'Map',
        parallel: 'Parallel coordinate map',
        lines: 'Line graph',
        graph: 'Relationship graph',
        sankey: 'Sankey diagram',
        funnel: 'Funnel chart',
        gauge: 'Gauge',
        pictorialBar: 'Pictorial bar',
        themeRiver: 'Theme River Map',
        sunburst: 'Sunburst',
        custom: 'Custom chart',
        chart: 'Chart',
      },
    },
    aria: {
      general: { withTitle: 'This is a chart about "{title}"', withoutTitle: 'This is a chart' },
      series: {
        single: { prefix: '', withName: ' with type {seriesType} named {seriesName}.', withoutName: ' with type {seriesType}.' },
        multiple: {
          prefix: '. It consists of {seriesCount} series count.',
          withName: ' The {seriesId} series is a {seriesType} representing {seriesName}.',
          withoutName: ' The {seriesId} series is a {seriesType}.',
          separator: { middle: '', end: '' },
        },
      },
      data: {
        allData: 'The data is as follows: ',
        partialData: 'The first {displayCnt} items are: ',
        withName: 'the data for {name} is {value}',
        withoutName: '{value}',
        separator: { middle: ', ', end: '. ' },
      },
    },
  }),
    ep(jc, {
      time: {
        month: ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月'],
        monthAbbr: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月'],
        dayOfWeek: ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六'],
        dayOfWeekAbbr: ['日', '一', '二', '三', '四', '五', '六'],
      },
      legend: { selector: { all: '全选', inverse: '反选' } },
      toolbox: {
        brush: { title: { rect: '矩形选择', polygon: '圈选', lineX: '横向选择', lineY: '纵向选择', keep: '保持选择', clear: '清除选择' } },
        dataView: { title: '数据视图', lang: ['数据视图', '关闭', '刷新'] },
        dataZoom: { title: { zoom: '区域缩放', back: '区域缩放还原' } },
        magicType: { title: { line: '切换为折线图', bar: '切换为柱状图', stack: '切换为堆叠', tiled: '切换为平铺' } },
        restore: { title: '还原' },
        saveAsImage: { title: '保存为图片', lang: ['右键另存为图片'] },
      },
      series: {
        typeNames: {
          pie: '饼图',
          bar: '柱状图',
          line: '折线图',
          scatter: '散点图',
          effectScatter: '涟漪散点图',
          radar: '雷达图',
          tree: '树图',
          treemap: '矩形树图',
          boxplot: '箱型图',
          candlestick: 'K线图',
          k: 'K线图',
          heatmap: '热力图',
          map: '地图',
          parallel: '平行坐标图',
          lines: '线图',
          graph: '关系图',
          sankey: '桑基图',
          funnel: '漏斗图',
          gauge: '仪表盘图',
          pictorialBar: '象形柱图',
          themeRiver: '主题河流图',
          sunburst: '旭日图',
          custom: '自定义图表',
          chart: '图表',
        },
      },
      aria: {
        general: { withTitle: '这是一个关于“{title}”的图表。', withoutTitle: '这是一个图表，' },
        series: {
          single: { prefix: '', withName: '图表类型是{seriesType}，表示{seriesName}。', withoutName: '图表类型是{seriesType}。' },
          multiple: {
            prefix: '它由{seriesCount}个图表系列组成。',
            withName: '第{seriesId}个系列是一个表示{seriesName}的{seriesType}，',
            withoutName: '第{seriesId}个系列是一个{seriesType}，',
            separator: { middle: '；', end: '。' },
          },
        },
        data: {
          allData: '其数据是——',
          partialData: '其中，前{displayCnt}项是——',
          withName: '{name}的数据是{value}',
          withoutName: '{value}',
          separator: { middle: '，', end: '' },
        },
      },
    })
  var np = 1e3,
    ip = 60 * np,
    op = 60 * ip,
    rp = 24 * op,
    Kr = 365 * rp,
    ap = {
      year: '{yyyy}',
      month: '{MMM}',
      day: '{d}',
      hour: '{HH}:{mm}',
      minute: '{HH}:{mm}',
      second: '{HH}:{mm}:{ss}',
      millisecond: '{HH}:{mm}:{ss} {SSS}',
      none: '{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}',
    },
    sp = '{yyyy}-{MM}-{dd}',
    lp = {
      year: '{yyyy}',
      month: '{yyyy}-{MM}',
      day: sp,
      hour: sp + ' ' + ap.hour,
      minute: sp + ' ' + ap.minute,
      second: sp + ' ' + ap.second,
      millisecond: ap.none,
    },
    up = ['year', 'month', 'day', 'hour', 'minute', 'second', 'millisecond'],
    hp = [
      'year',
      'half-year',
      'quarter',
      'month',
      'week',
      'half-week',
      'day',
      'half-day',
      'quarter-day',
      'hour',
      'minute',
      'second',
      'millisecond',
    ]
  function cp(t, e) {
    return '0000'.substr(0, e - (t += '').length) + t
  }
  function pp(t) {
    switch (t) {
      case 'half-year':
      case 'quarter':
        return 'month'
      case 'week':
      case 'half-week':
        return 'day'
      case 'half-day':
      case 'quarter-day':
        return 'hour'
      default:
        return t
    }
  }
  function dp(t, e, n, i) {
    var t = dr(t),
      o = t[yp(n)](),
      r = t[mp(n)]() + 1,
      a = Math.floor((r - 1) / 3) + 1,
      s = t[vp(n)](),
      l = t['get' + (n ? 'UTC' : '') + 'Day'](),
      u = t[_p(n)](),
      h = ((u - 1) % 12) + 1,
      c = t[xp(n)](),
      p = t[wp(n)](),
      t = t[bp(n)](),
      n = 12 <= u ? 'pm' : 'am',
      d = n.toUpperCase(),
      i = (i instanceof Uc ? i : Jc[i || tp] || Jc[$c]).getModel('time'),
      f = i.get('month'),
      g = i.get('monthAbbr'),
      y = i.get('dayOfWeek'),
      i = i.get('dayOfWeekAbbr')
    return (e || '')
      .replace(/{a}/g, n + '')
      .replace(/{A}/g, d + '')
      .replace(/{yyyy}/g, o + '')
      .replace(/{yy}/g, cp((o % 100) + '', 2))
      .replace(/{Q}/g, a + '')
      .replace(/{MMMM}/g, f[r - 1])
      .replace(/{MMM}/g, g[r - 1])
      .replace(/{MM}/g, cp(r, 2))
      .replace(/{M}/g, r + '')
      .replace(/{dd}/g, cp(s, 2))
      .replace(/{d}/g, s + '')
      .replace(/{eeee}/g, y[l])
      .replace(/{ee}/g, i[l])
      .replace(/{e}/g, l + '')
      .replace(/{HH}/g, cp(u, 2))
      .replace(/{H}/g, u + '')
      .replace(/{hh}/g, cp(h + '', 2))
      .replace(/{h}/g, h + '')
      .replace(/{mm}/g, cp(c, 2))
      .replace(/{m}/g, c + '')
      .replace(/{ss}/g, cp(p, 2))
      .replace(/{s}/g, p + '')
      .replace(/{SSS}/g, cp(t, 3))
      .replace(/{S}/g, t + '')
  }
  function fp(t, e) {
    var t = dr(t),
      n = t[mp(e)]() + 1,
      i = t[vp(e)](),
      o = t[_p(e)](),
      r = t[xp(e)](),
      a = t[wp(e)](),
      t = 0 === t[bp(e)](),
      e = t && 0 === a,
      a = e && 0 === r,
      r = a && 0 === o,
      o = r && 1 === i
    return o && 1 === n ? 'year' : o ? 'month' : r ? 'day' : a ? 'hour' : e ? 'minute' : t ? 'second' : 'millisecond'
  }
  function gp(t, e, n) {
    var i = H(t) ? dr(t) : t
    switch ((e = e || fp(t, n))) {
      case 'year':
        return i[yp(n)]()
      case 'half-year':
        return 6 <= i[mp(n)]() ? 1 : 0
      case 'quarter':
        return Math.floor((i[mp(n)]() + 1) / 4)
      case 'month':
        return i[mp(n)]()
      case 'day':
        return i[vp(n)]()
      case 'half-day':
        return i[_p(n)]() / 24
      case 'hour':
        return i[_p(n)]()
      case 'minute':
        return i[xp(n)]()
      case 'second':
        return i[wp(n)]()
      case 'millisecond':
        return i[bp(n)]()
    }
  }
  function yp(t) {
    return t ? 'getUTCFullYear' : 'getFullYear'
  }
  function mp(t) {
    return t ? 'getUTCMonth' : 'getMonth'
  }
  function vp(t) {
    return t ? 'getUTCDate' : 'getDate'
  }
  function _p(t) {
    return t ? 'getUTCHours' : 'getHours'
  }
  function xp(t) {
    return t ? 'getUTCMinutes' : 'getMinutes'
  }
  function wp(t) {
    return t ? 'getUTCSeconds' : 'getSeconds'
  }
  function bp(t) {
    return t ? 'getUTCMilliseconds' : 'getMilliseconds'
  }
  function Sp(t) {
    return t ? 'setUTCMonth' : 'setMonth'
  }
  function Mp(t) {
    return t ? 'setUTCDate' : 'setDate'
  }
  function Tp(t) {
    return t ? 'setUTCHours' : 'setHours'
  }
  function Ip(t) {
    return t ? 'setUTCMinutes' : 'setMinutes'
  }
  function Cp(t) {
    return t ? 'setUTCSeconds' : 'setSeconds'
  }
  function Ap(t) {
    return t ? 'setUTCMilliseconds' : 'setMilliseconds'
  }
  function Dp(t) {
    var e
    return vr(t)
      ? (e = (t + '').split('.'))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g, '$1,') + (1 < e.length ? '.' + e[1] : '')
      : F(t)
      ? t
      : '-'
  }
  function kp(t, e) {
    return (
      (t = (t || '').toLowerCase().replace(/-(.)/g, function(t, e) {
        return e.toUpperCase()
      })),
      (t = e ? t && t.charAt(0).toUpperCase() + t.slice(1) : t)
    )
  }
  var Lp = St
  function Pp(t, e, n) {
    function i(t) {
      return t && Tt(t) ? t : '-'
    }
    function o(t) {
      return null != t && !isNaN(t) && isFinite(t)
    }
    var r = 'time' === e,
      a = t instanceof Date
    if (r || a) {
      var r = r ? dr(t) : t
      if (!isNaN(+r)) return dp(r, '{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}', n)
      if (a) return '-'
    }
    return 'ordinal' === e
      ? pt(t)
        ? i(t)
        : H(t) && o(t)
        ? t + ''
        : '-'
      : o((r = mr(t)))
      ? Dp(r)
      : pt(t)
      ? i(t)
      : 'boolean' == typeof t
      ? t + ''
      : '-'
  }
  function Op(t, e) {
    return '{' + t + (null == e ? '' : e) + '}'
  }
  var Rp = ['a', 'b', 'c', 'd', 'e', 'f', 'g']
  function Np(t, e, n) {
    var i = (e = V(e) ? e : [e]).length
    if (!i) return ''
    for (var o = e[0].$vars || [], r = 0; r < o.length; r++) {
      var a = Rp[r]
      t = t.replace(Op(a), Op(a, 0))
    }
    for (var s = 0; s < i; s++)
      for (var l = 0; l < o.length; l++) {
        var u = e[s][o[l]]
        t = t.replace(Op(Rp[l], s), n ? ve(u) : u)
      }
    return t
  }
  function Ep(t, e) {
    var t = F(t) ? { color: t, extraCssText: e } : t || {},
      n = t.color,
      i = t.type,
      o = ((e = t.extraCssText), t.renderMode || 'html')
    return n
      ? 'html' === o
        ? 'subItem' === i
          ? '<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:' +
            ve(n) +
            ';' +
            (e || '') +
            '"></span>'
          : '<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:' +
            ve(n) +
            ';' +
            (e || '') +
            '"></span>'
        : {
            renderMode: o,
            content: '{' + (t.markerId || 'markerX') + '|}  ',
            style:
              'subItem' === i
                ? { width: 4, height: 4, borderRadius: 2, backgroundColor: n }
                : { width: 10, height: 10, borderRadius: 5, backgroundColor: n },
          }
      : ''
  }
  function zp(t, e) {
    return (e = e || 'transparent'), F(t) ? t : (O(t) && t.colorStops && (t.colorStops[0] || {}).color) || e
  }
  function Bp(t, e) {
    var n
    '_blank' === e || 'blank' === e ? (((n = window.open()).opener = null), (n.location.href = t)) : window.open(t, e)
  }
  var Vp = E,
    Fp = ['left', 'right', 'top', 'bottom', 'width', 'height'],
    Hp = [
      ['width', 'left', 'right'],
      ['height', 'top', 'bottom'],
    ]
  function Gp(a, s, l, u, h) {
    var c = 0,
      p = 0,
      d = (null == u && (u = 1 / 0), null == h && (h = 1 / 0), 0)
    s.eachChild(function(t, e) {
      var n,
        i,
        o,
        r = t.getBoundingRect(),
        e = s.childAt(e + 1),
        e = e && e.getBoundingRect()
      ;(d =
        'horizontal' === a
          ? ((i = r.width + (e ? -e.x + r.x : 0)),
            u < (n = c + i) || t.newline ? ((c = 0), (n = i), (p += d + l), r.height) : Math.max(d, r.height))
          : ((i = r.height + (e ? -e.y + r.y : 0)),
            h < (o = p + i) || t.newline ? ((c += d + l), (p = 0), (o = i), r.width) : Math.max(d, r.width))),
        t.newline || ((t.x = c), (t.y = p), t.markRedraw(), 'horizontal' === a ? (c = n + l) : (p = o + l))
    })
  }
  var Wp = Gp
  function Up(t, e, n) {
    n = Lp(n || 0)
    var i = e.width,
      o = e.height,
      r = W(t.left, i),
      a = W(t.top, o),
      e = W(t.right, i),
      s = W(t.bottom, o),
      l = W(t.width, i),
      u = W(t.height, o),
      h = n[2] + n[0],
      c = n[1] + n[3],
      p = t.aspect
    switch (
      (isNaN(l) && (l = i - e - c - r),
      isNaN(u) && (u = o - s - h - a),
      null != p && (isNaN(l) && isNaN(u) && (i / o < p ? (l = 0.8 * i) : (u = 0.8 * o)), isNaN(l) && (l = p * u), isNaN(u)) && (u = l / p),
      isNaN(r) && (r = i - e - l - c),
      isNaN(a) && (a = o - s - u - h),
      t.left || t.right)
    ) {
      case 'center':
        r = i / 2 - l / 2 - n[3]
        break
      case 'right':
        r = i - l - c
    }
    switch (t.top || t.bottom) {
      case 'middle':
      case 'center':
        a = o / 2 - u / 2 - n[0]
        break
      case 'bottom':
        a = o - u - h
    }
    ;(r = r || 0), (a = a || 0), isNaN(l) && (l = i - c - r - (e || 0)), isNaN(u) && (u = o - h - a - (s || 0))
    p = new Y(r + n[3], a + n[0], l, u)
    return (p.margin = n), p
  }
  function Yp(t) {
    t = t.layoutMode || t.constructor.layoutMode
    return O(t) ? t : t ? { type: t } : null
  }
  function Xp(l, u, t) {
    var h = t && t.ignoreSize,
      t = (V(h) || (h = [h, h]), n(Hp[0], 0)),
      e = n(Hp[1], 1)
    function n(t, e) {
      var n = {},
        i = 0,
        o = {},
        r = 0
      if (
        (Vp(t, function(t) {
          o[t] = l[t]
        }),
        Vp(t, function(t) {
          c(u, t) && (n[t] = o[t] = u[t]), p(n, t) && i++, p(o, t) && r++
        }),
        h[e])
      )
        p(u, t[1]) ? (o[t[2]] = null) : p(u, t[2]) && (o[t[1]] = null)
      else if (2 !== r && i) {
        if (!(2 <= i))
          for (var a = 0; a < t.length; a++) {
            var s = t[a]
            if (!c(n, s) && c(l, s)) {
              n[s] = l[s]
              break
            }
          }
        return n
      }
      return o
    }
    function c(t, e) {
      return t.hasOwnProperty(e)
    }
    function p(t, e) {
      return null != t[e] && 'auto' !== t[e]
    }
    function i(t, e, n) {
      Vp(t, function(t) {
        e[t] = n[t]
      })
    }
    i(Hp[0], l, t), i(Hp[1], l, e)
  }
  function Zp(t) {
    return (
      (e = {}),
      (n = t) &&
        e &&
        Vp(Fp, function(t) {
          n.hasOwnProperty(t) && (e[t] = n[t])
        }),
      e
    )
    var e, n
  }
  M(Gp, 'vertical'), M(Gp, 'horizontal')
  var qp,
    jp,
    Kp,
    $p,
    Qp = Nr(),
    g =
      (u(Jp, (qp = Uc)),
      (Jp.prototype.init = function(t, e, n) {
        this.mergeDefaultAndTheme(t, n)
      }),
      (Jp.prototype.mergeDefaultAndTheme = function(t, e) {
        var n = Yp(this),
          i = n ? Zp(t) : {}
        d(t, e.getTheme().get(this.mainType)), d(t, this.getDefaultOption()), n && Xp(t, i, n)
      }),
      (Jp.prototype.mergeOption = function(t, e) {
        d(this.option, t, !0)
        var n = Yp(this)
        n && Xp(this.option, t, n)
      }),
      (Jp.prototype.optionUpdated = function(t, e) {}),
      (Jp.prototype.getDefaultOption = function() {
        var t = this.constructor
        if (!(e = t) || !e[Xr]) return t.defaultOption
        var e = Qp(this)
        if (!e.defaultOption) {
          for (var n = [], i = t; i; ) {
            var o = i.prototype.defaultOption
            o && n.push(o), (i = i.superClass)
          }
          for (var r = {}, a = n.length - 1; 0 <= a; a--) r = d(r, n[a], !0)
          e.defaultOption = r
        }
        return e.defaultOption
      }),
      (Jp.prototype.getReferringComponents = function(t, e) {
        var n = t + 'Id'
        return Hr(this.ecModel, t, { index: this.get(t + 'Index', !0), id: this.get(n, !0) }, e)
      }),
      (Jp.prototype.getBoxLayoutParams = function() {
        return {
          left: this.get('left'),
          top: this.get('top'),
          right: this.get('right'),
          bottom: this.get('bottom'),
          width: this.get('width'),
          height: this.get('height'),
        }
      }),
      (Jp.prototype.getZLevelKey = function() {
        return ''
      }),
      (Jp.prototype.setZLevel = function(t) {
        this.option.zlevel = t
      }),
      (Jp.protoInitialize =
        (((zc = Jp.prototype).type = 'component'),
        (zc.id = ''),
        (zc.name = ''),
        (zc.mainType = ''),
        (zc.subType = ''),
        void (zc.componentIndex = 0))),
      Jp)
  function Jp(t, e, n) {
    t = qp.call(this, t, e, n) || this
    return (t.uid = Zc('ec_cpt_model')), t
  }
  function td(t, e) {
    return t[e] || (t[e] = { predecessor: [], successor: [] }), t[e]
  }
  jr(g, Uc),
    Jr(g),
    (Kp = {}),
    ((jp = g).registerSubTypeDefaulter = function(t, e) {
      t = Zr(t)
      Kp[t.main] = e
    }),
    (jp.determineSubType = function(t, e) {
      var n,
        i = e.type
      return i || ((n = Zr(t).main), jp.hasSubTypes(t) && Kp[n] && (i = Kp[n](e))), i
    }),
    ($p = function(t) {
      var e = []
      E(g.getClassesByMainType(t), function(t) {
        e = e.concat(t.dependencies || t.prototype.dependencies || [])
      }),
        (e = B(e, function(t) {
          return Zr(t).main
        })),
        'dataset' !== t && C(e, 'dataset') <= 0 && e.unshift('dataset')
      return e
    }),
    (g.topologicalTravel = function(t, e, n, i) {
      if (t.length) {
        ;(a = {}),
          (s = []),
          E((r = e), function(n) {
            var e,
              i,
              o = td(a, n),
              t = (o.originalDeps = $p(n)),
              t =
                ((e = r),
                (i = []),
                E(t, function(t) {
                  0 <= C(e, t) && i.push(t)
                }),
                i)
            ;(o.entryCount = t.length),
              0 === o.entryCount && s.push(n),
              E(t, function(t) {
                C(o.predecessor, t) < 0 && o.predecessor.push(t)
                var e = td(a, t)
                C(e.successor, t) < 0 && e.successor.push(n)
              })
          })
        var r,
          a,
          s,
          e = { graph: a, noEntryList: s },
          o = e.graph,
          l = e.noEntryList,
          u = {}
        for (
          E(t, function(t) {
            u[t] = !0
          });
          l.length;

        ) {
          var h = l.pop(),
            c = o[h],
            p = !!u[h]
          p && (n.call(i, h, c.originalDeps.slice()), delete u[h]), E(c.successor, p ? f : d)
        }
        E(u, function() {
          throw new Error('')
        })
      }
      function d(t) {
        o[t].entryCount--, 0 === o[t].entryCount && l.push(t)
      }
      function f(t) {
        ;(u[t] = !0), d(t)
      }
    })
  var Hc = '',
    na = ('undefined' != typeof navigator && (Hc = navigator.platform || ''), 'rgba(0, 0, 0, 0.2)'),
    ed = {
      darkMode: 'auto',
      colorBy: 'series',
      color: ['#5470c6', '#91cc75', '#fac858', '#ee6666', '#73c0de', '#3ba272', '#fc8452', '#9a60b4', '#ea7ccc'],
      gradientColor: ['#f6efa6', '#d88273', '#bf444c'],
      aria: {
        decal: {
          decals: [
            { color: na, dashArrayX: [1, 0], dashArrayY: [2, 5], symbolSize: 1, rotation: Math.PI / 6 },
            {
              color: na,
              symbol: 'circle',
              dashArrayX: [
                [8, 8],
                [0, 8, 8, 0],
              ],
              dashArrayY: [6, 0],
              symbolSize: 0.8,
            },
            { color: na, dashArrayX: [1, 0], dashArrayY: [4, 3], rotation: -Math.PI / 4 },
            {
              color: na,
              dashArrayX: [
                [6, 6],
                [0, 6, 6, 0],
              ],
              dashArrayY: [6, 0],
            },
            {
              color: na,
              dashArrayX: [
                [1, 0],
                [1, 6],
              ],
              dashArrayY: [1, 0, 6, 0],
              rotation: Math.PI / 4,
            },
            {
              color: na,
              symbol: 'triangle',
              dashArrayX: [
                [9, 9],
                [0, 9, 9, 0],
              ],
              dashArrayY: [7, 2],
              symbolSize: 0.75,
            },
          ],
        },
      },
      textStyle: {
        fontFamily: Hc.match(/^Win/) ? 'Microsoft YaHei' : 'sans-serif',
        fontSize: 12,
        fontStyle: 'normal',
        fontWeight: 'normal',
      },
      blendMode: null,
      stateAnimation: { duration: 300, easing: 'cubicOut' },
      animation: 'auto',
      animationDuration: 1e3,
      animationDurationUpdate: 500,
      animationEasing: 'cubicInOut',
      animationEasingUpdate: 'cubicInOut',
      animationThreshold: 2e3,
      progressiveThreshold: 3e3,
      progressive: 400,
      hoverLayerThreshold: 3e3,
      useUTC: !1,
    },
    nd = N(['tooltip', 'label', 'itemName', 'itemId', 'itemGroupId', 'itemChildGroupId', 'seriesName']),
    id = 'original',
    od = 'arrayRows',
    rd = 'objectRows',
    ad = 'keyedColumns',
    sd = 'typedArray',
    ld = 'unknown',
    ud = 'column',
    hd = 'row',
    cd = { Must: 1, Might: 2, Not: 3 },
    pd = Nr()
  function dd(n, t, e) {
    var o,
      r,
      a,
      i,
      s,
      l = {},
      u = gd(t)
    return (
      u &&
        n &&
        ((o = []),
        (r = []),
        (t = t.ecModel),
        (t = pd(t).datasetMap),
        (u = u.uid + '_' + e.seriesLayoutBy),
        E((n = n.slice()), function(t, e) {
          t = O(t) ? t : (n[e] = { name: t })
          'ordinal' === t.type && null == a && ((a = e), (i = c(t))), (l[t.name] = [])
        }),
        (s = t.get(u) || t.set(u, { categoryWayDim: i, valueWayDim: 0 })),
        E(n, function(t, e) {
          var n,
            i = t.name,
            t = c(t)
          null == a
            ? ((n = s.valueWayDim), h(l[i], n, t), h(r, n, t), (s.valueWayDim += t))
            : a === e
            ? (h(l[i], 0, t), h(o, 0, t))
            : ((n = s.categoryWayDim), h(l[i], n, t), h(r, n, t), (s.categoryWayDim += t))
        }),
        o.length && (l.itemName = o),
        r.length) &&
        (l.seriesName = r),
      l
    )
    function h(t, e, n) {
      for (var i = 0; i < n; i++) t.push(e + i)
    }
    function c(t) {
      t = t.dimsDef
      return t ? t.length : 1
    }
  }
  function fd(t, l, u) {
    var h,
      c,
      p,
      e = {}
    return (
      gd(t) &&
        ((h = l.sourceFormat),
        (c = l.dimensionsDefine),
        (h !== rd && h !== ad) ||
          E(c, function(t, e) {
            'name' === (O(t) ? t.name : t) && (p = e)
          }),
        (t = (function() {
          for (var t = {}, e = {}, n = [], i = 0, o = Math.min(5, u); i < o; i++) {
            var r = md(l.data, h, l.seriesLayoutBy, c, l.startIndex, i),
              a = (n.push(r), r === cd.Not)
            if (
              (a && null == t.v && i !== p && (t.v = i),
              (null != t.n && t.n !== t.v && (a || n[t.n] !== cd.Not)) || (t.n = i),
              s(t) && n[t.n] !== cd.Not)
            )
              return t
            a || (r === cd.Might && null == e.v && i !== p && (e.v = i), null != e.n && e.n !== e.v) || (e.n = i)
          }
          function s(t) {
            return null != t.v && null != t.n
          }
          return s(t) ? t : s(e) ? e : null
        })())) &&
        ((e.value = [t.v]), (t = null != p ? p : t.n), (e.itemName = [t]), (e.seriesName = [t])),
      e
    )
  }
  function gd(t) {
    if (!t.get('data', !0)) return Hr(t.ecModel, 'dataset', { index: t.get('datasetIndex', !0), id: t.get('datasetId', !0) }, Vr).models[0]
  }
  function yd(t, e) {
    return md(t.data, t.sourceFormat, t.seriesLayoutBy, t.dimensionsDefine, t.startIndex, e)
  }
  function md(t, e, n, i, o, r) {
    var a, s, l
    if (!ft(t)) {
      if ((i && (O((i = i[r])) ? ((s = i.name), (l = i.type)) : F(i) && (s = i)), null != l)) return 'ordinal' === l ? cd.Must : cd.Not
      if (e === od) {
        var u = t
        if (n === hd) {
          for (var h = u[r], c = 0; c < (h || []).length && c < 5; c++) if (null != (a = m(h[o + c]))) return a
        } else
          for (c = 0; c < u.length && c < 5; c++) {
            var p = u[o + c]
            if (p && null != (a = m(p[r]))) return a
          }
      } else if (e === rd) {
        var d = t
        if (!s) return cd.Not
        for (c = 0; c < d.length && c < 5; c++) if ((g = d[c]) && null != (a = m(g[s]))) return a
      } else if (e === ad) {
        if (!s) return cd.Not
        if (!(h = t[s]) || ft(h)) return cd.Not
        for (c = 0; c < h.length && c < 5; c++) if (null != (a = m(h[c]))) return a
      } else if (e === id)
        for (var f = t, c = 0; c < f.length && c < 5; c++) {
          var g,
            y = Ir((g = f[c]))
          if (!V(y)) return cd.Not
          if (null != (a = m(y[r]))) return a
        }
    }
    return cd.Not
    function m(t) {
      var e = F(t)
      return null != t && Number.isFinite(Number(t)) && '' !== t ? (e ? cd.Might : cd.Not) : e && '-' !== t ? cd.Must : void 0
    }
  }
  var vd = N()
  var _d,
    xd,
    wd,
    bd = Nr(),
    Sd =
      (Nr(),
      (Md.prototype.getColorFromPalette = function(t, e, n) {
        var i = Sr(this.get('color', !0)),
          o = this.get('colorLayer', !0),
          r = this,
          a = bd
        return (
          (a = a((e = e || r))),
          (r = a.paletteIdx || 0),
          (e = a.paletteNameMap = a.paletteNameMap || {}).hasOwnProperty(t)
            ? e[t]
            : (o = (o = n == null || !o ? i : Td(o, n)) || i) && o.length
            ? ((n = o[r]), t && (e[t] = n), (a.paletteIdx = (r + 1) % o.length), n)
            : void 0
        )
      }),
      (Md.prototype.clearColorPalette = function() {
        var t, e
        ;((e = bd)((t = this)).paletteIdx = 0), (e(t).paletteNameMap = {})
      }),
      Md)
  function Md() {}
  function Td(t, e) {
    for (var n = t.length, i = 0; i < n; i++) if (t[i].length > e) return t[i]
    return t[n - 1]
  }
  var Id,
    Cd = '\0_ec_inner',
    Ad =
      (u(Dd, (Id = Uc)),
      (Dd.prototype.init = function(t, e, n, i, o, r) {
        ;(i = i || {}), (this.option = null), (this._theme = new Uc(i)), (this._locale = new Uc(o)), (this._optionManager = r)
      }),
      (Dd.prototype.setOption = function(t, e, n) {
        e = Pd(e)
        this._optionManager.setOption(t, n, e), this._resetOption(null, e)
      }),
      (Dd.prototype.resetOption = function(t, e) {
        return this._resetOption(t, Pd(e))
      }),
      (Dd.prototype._resetOption = function(t, e) {
        var n,
          i = !1,
          o = this._optionManager
        return (
          (t && 'recreate' !== t) ||
            ((n = o.mountOption('recreate' === t)),
            this.option && 'recreate' !== t ? (this.restoreData(), this._mergeOption(n, e)) : wd(this, n),
            (i = !0)),
          ('timeline' !== t && 'media' !== t) || this.restoreData(),
          (t && 'recreate' !== t && 'timeline' !== t) || ((n = o.getTimelineOption(this)) && ((i = !0), this._mergeOption(n, e))),
          (t && 'recreate' !== t && 'media' !== t) ||
            ((n = o.getMediaOption(this)).length &&
              E(
                n,
                function(t) {
                  ;(i = !0), this._mergeOption(t, e)
                },
                this
              )),
          i
        )
      }),
      (Dd.prototype.mergeOption = function(t) {
        this._mergeOption(t, null)
      }),
      (Dd.prototype._mergeOption = function(i, t) {
        var o = this.option,
          h = this._componentsMap,
          c = this._componentsCount,
          n = [],
          r = N(),
          p = t && t.replaceMergeMainTypeMap
        ;(pd(this).datasetMap = N()),
          E(i, function(t, e) {
            null != t && (g.hasClass(e) ? e && (n.push(e), r.set(e, !0)) : (o[e] = null == o[e] ? y(t) : d(o[e], t, !0)))
          }),
          p &&
            p.each(function(t, e) {
              g.hasClass(e) && !r.get(e) && (n.push(e), r.set(e, !0))
            }),
          g.topologicalTravel(
            n,
            g.getAllClassMainTypes(),
            function(r) {
              var a,
                t = (function(t, e, n) {
                  return (e = (e = vd.get(e)) && e(t)) ? n.concat(e) : n
                })(this, r, Sr(i[r])),
                e = h.get(r),
                n = e ? (p && p.get(r) ? 'replaceMerge' : 'normalMerge') : 'replaceAll',
                e = Cr(e, t, n),
                s = (Or(e, r, g), (o[r] = null), h.set(r, null), c.set(r, 0), []),
                l = [],
                u = 0
              E(
                e,
                function(t, e) {
                  var n = t.existing,
                    i = t.newOption
                  if (i) {
                    var o = g.getClass(r, t.keyInfo.subType, !('series' === r))
                    if (!o) return
                    if ('tooltip' === r) {
                      if (a) return
                      a = !0
                    }
                    n && n.constructor === o
                      ? ((n.name = t.keyInfo.name), n.mergeOption(i, this), n.optionUpdated(i, !1))
                      : ((e = P({ componentIndex: e }, t.keyInfo)),
                        P((n = new o(i, this, this, e)), e),
                        t.brandNew && (n.__requireNewView = !0),
                        n.init(i, this, this),
                        n.optionUpdated(null, !0))
                  } else n && (n.mergeOption({}, this), n.optionUpdated({}, !1))
                  n ? (s.push(n.option), l.push(n), u++) : (s.push(void 0), l.push(void 0))
                },
                this
              ),
                (o[r] = s),
                h.set(r, l),
                c.set(r, u),
                'series' === r && _d(this)
            },
            this
          ),
          this._seriesIndices || _d(this)
      }),
      (Dd.prototype.getOption = function() {
        var a = y(this.option)
        return (
          E(a, function(t, e) {
            if (g.hasClass(e)) {
              for (var n = Sr(t), i = n.length, o = !1, r = i - 1; 0 <= r; r--) n[r] && !Pr(n[r]) ? (o = !0) : ((n[r] = null), o || i--)
              ;(n.length = i), (a[e] = n)
            }
          }),
          delete a[Cd],
          a
        )
      }),
      (Dd.prototype.getTheme = function() {
        return this._theme
      }),
      (Dd.prototype.getLocaleModel = function() {
        return this._locale
      }),
      (Dd.prototype.setUpdatePayload = function(t) {
        this._payload = t
      }),
      (Dd.prototype.getUpdatePayload = function() {
        return this._payload
      }),
      (Dd.prototype.getComponent = function(t, e) {
        var n = this._componentsMap.get(t)
        if (n) {
          t = n[e || 0]
          if (t) return t
          if (null == e) for (var i = 0; i < n.length; i++) if (n[i]) return n[i]
        }
      }),
      (Dd.prototype.queryComponents = function(t) {
        var e,
          n,
          i,
          o,
          r,
          a = t.mainType
        return a && ((e = t.index), (n = t.id), (i = t.name), (o = this._componentsMap.get(a))) && o.length
          ? (null != e
              ? ((r = []),
                E(Sr(e), function(t) {
                  o[t] && r.push(o[t])
                }))
              : (r =
                  null != n
                    ? kd('id', n, o)
                    : null != i
                    ? kd('name', i, o)
                    : ht(o, function(t) {
                        return !!t
                      })),
            Ld(r, t))
          : []
      }),
      (Dd.prototype.findComponents = function(t) {
        var e,
          n = t.query,
          i = t.mainType,
          o =
            ((o = i + 'Index'),
            (r = i + 'Id'),
            (e = i + 'Name'),
            !(n = n) || (null == n[o] && null == n[r] && null == n[e]) ? null : { mainType: i, index: n[o], id: n[r], name: n[e] }),
          r = o
            ? this.queryComponents(o)
            : ht(this._componentsMap.get(i), function(t) {
                return !!t
              })
        return (n = Ld(r, t)), t.filter ? ht(n, t.filter) : n
      }),
      (Dd.prototype.eachComponent = function(t, e, n) {
        var i = this._componentsMap
        if (A(t)) {
          var o = e,
            r = t
          i.each(function(t, e) {
            for (var n = 0; t && n < t.length; n++) {
              var i = t[n]
              i && r.call(o, e, i, i.componentIndex)
            }
          })
        } else
          for (var a = F(t) ? i.get(t) : O(t) ? this.findComponents(t) : null, s = 0; a && s < a.length; s++) {
            var l = a[s]
            l && e.call(n, l, l.componentIndex)
          }
      }),
      (Dd.prototype.getSeriesByName = function(t) {
        var e = kr(t, null)
        return ht(this._componentsMap.get('series'), function(t) {
          return !!t && null != e && t.name === e
        })
      }),
      (Dd.prototype.getSeriesByIndex = function(t) {
        return this._componentsMap.get('series')[t]
      }),
      (Dd.prototype.getSeriesByType = function(e) {
        return ht(this._componentsMap.get('series'), function(t) {
          return !!t && t.subType === e
        })
      }),
      (Dd.prototype.getSeries = function() {
        return ht(this._componentsMap.get('series'), function(t) {
          return !!t
        })
      }),
      (Dd.prototype.getSeriesCount = function() {
        return this._componentsCount.get('series')
      }),
      (Dd.prototype.eachSeries = function(n, i) {
        xd(this),
          E(
            this._seriesIndices,
            function(t) {
              var e = this._componentsMap.get('series')[t]
              n.call(i, e, t)
            },
            this
          )
      }),
      (Dd.prototype.eachRawSeries = function(e, n) {
        E(this._componentsMap.get('series'), function(t) {
          t && e.call(n, t, t.componentIndex)
        })
      }),
      (Dd.prototype.eachSeriesByType = function(n, i, o) {
        xd(this),
          E(
            this._seriesIndices,
            function(t) {
              var e = this._componentsMap.get('series')[t]
              e.subType === n && i.call(o, e, t)
            },
            this
          )
      }),
      (Dd.prototype.eachRawSeriesByType = function(t, e, n) {
        return E(this.getSeriesByType(t), e, n)
      }),
      (Dd.prototype.isSeriesFiltered = function(t) {
        return xd(this), null == this._seriesIndicesMap.get(t.componentIndex)
      }),
      (Dd.prototype.getCurrentSeriesIndices = function() {
        return (this._seriesIndices || []).slice()
      }),
      (Dd.prototype.filterSeries = function(n, i) {
        xd(this)
        var o = []
        E(
          this._seriesIndices,
          function(t) {
            var e = this._componentsMap.get('series')[t]
            n.call(i, e, t) && o.push(t)
          },
          this
        ),
          (this._seriesIndices = o),
          (this._seriesIndicesMap = N(o))
      }),
      (Dd.prototype.restoreData = function(n) {
        _d(this)
        var t = this._componentsMap,
          i = []
        t.each(function(t, e) {
          g.hasClass(e) && i.push(e)
        }),
          g.topologicalTravel(i, g.getAllClassMainTypes(), function(e) {
            E(t.get(e), function(t) {
              !t ||
                ('series' === e &&
                  (function(t, e) {
                    {
                      var n, i
                      if (e)
                        return (
                          (n = e.seriesIndex),
                          (i = e.seriesId),
                          (e = e.seriesName),
                          (null != n && t.componentIndex !== n) || (null != i && t.id !== i) || (null != e && t.name !== e)
                        )
                    }
                  })(t, n)) ||
                t.restoreData()
            })
          })
      }),
      (Dd.internalField =
        ((_d = function(t) {
          var e = (t._seriesIndices = [])
          E(t._componentsMap.get('series'), function(t) {
            t && e.push(t.componentIndex)
          }),
            (t._seriesIndicesMap = N(e))
        }),
        (xd = function(t) {}),
        void (wd = function(t, e) {
          ;(t.option = {}), (t.option[Cd] = 1), (t._componentsMap = N({ series: [] })), (t._componentsCount = N())
          var n,
            i,
            o = e.aria
          O(o) && null == o.enabled && (o.enabled = !0),
            (n = e),
            (o = t._theme.option),
            (i = n.color && !n.colorLayer),
            E(o, function(t, e) {
              ;('colorLayer' === e && i) ||
                g.hasClass(e) ||
                ('object' == typeof t ? (n[e] = n[e] ? d(n[e], t, !1) : y(t)) : null == n[e] && (n[e] = t))
            }),
            d(e, ed, !1),
            t._mergeOption(e, null)
        }))),
      Dd)
  function Dd() {
    return (null !== Id && Id.apply(this, arguments)) || this
  }
  function kd(e, t, n) {
    var i, o
    return V(t)
      ? ((i = N()),
        E(t, function(t) {
          null != t && null != kr(t, null) && i.set(t, !0)
        }),
        ht(n, function(t) {
          return t && i.get(t[e])
        }))
      : ((o = kr(t, null)),
        ht(n, function(t) {
          return t && null != o && t[e] === o
        }))
  }
  function Ld(t, e) {
    return e.hasOwnProperty('subType')
      ? ht(t, function(t) {
          return t && t.subType === e.subType
        })
      : t
  }
  function Pd(t) {
    var e = N()
    return (
      t &&
        E(Sr(t.replaceMerge), function(t) {
          e.set(t, !0)
        }),
      { replaceMergeMainTypeMap: e }
    )
  }
  st(Ad, Sd)
  function Od(e) {
    E(
      Rd,
      function(t) {
        this[t] = S(e[t], e)
      },
      this
    )
  }
  var Rd = [
      'getDom',
      'getZr',
      'getWidth',
      'getHeight',
      'getDevicePixelRatio',
      'dispatchAction',
      'isSSR',
      'isDisposed',
      'on',
      'off',
      'getDataURL',
      'getConnectedDataURL',
      'getOption',
      'getId',
      'updateLabelLayout',
    ],
    Nd = {},
    Ed =
      ((zd.prototype.create = function(n, i) {
        var o = []
        E(Nd, function(t, e) {
          t = t.create(n, i)
          o = o.concat(t || [])
        }),
          (this._coordinateSystems = o)
      }),
      (zd.prototype.update = function(e, n) {
        E(this._coordinateSystems, function(t) {
          t.update && t.update(e, n)
        })
      }),
      (zd.prototype.getCoordinateSystems = function() {
        return this._coordinateSystems.slice()
      }),
      (zd.register = function(t, e) {
        Nd[t] = e
      }),
      (zd.get = function(t) {
        return Nd[t]
      }),
      zd)
  function zd() {
    this._coordinateSystems = []
  }
  var Bd = /^(min|max)?(.+)$/,
    Vd =
      ((Fd.prototype.setOption = function(t, e, n) {
        t &&
          (E(Sr(t.series), function(t) {
            t && t.data && ft(t.data) && Ct(t.data)
          }),
          E(Sr(t.dataset), function(t) {
            t && t.source && ft(t.source) && Ct(t.source)
          })),
          (t = y(t))
        var i = this._optionBackup,
          t = (function(t, n, i) {
            var e,
              o,
              r = [],
              a = t.baseOption,
              s = t.timeline,
              l = t.options,
              u = t.media,
              h = !!t.media,
              c = !!(l || s || (a && a.timeline))
            a ? (o = a).timeline || (o.timeline = s) : ((c || h) && (t.options = t.media = null), (o = t))
            h &&
              V(u) &&
              E(u, function(t) {
                t && t.option && (t.query ? r.push(t) : (e = e || t))
              })
            function p(e) {
              E(n, function(t) {
                t(e, i)
              })
            }
            return (
              p(o),
              E(l, p),
              E(r, function(t) {
                return p(t.option)
              }),
              { baseOption: o, timelineOptions: l || [], mediaDefault: e, mediaList: r }
            )
          })(t, e, !i)
        ;(this._newBaseOption = t.baseOption),
          i
            ? (t.timelineOptions.length && (i.timelineOptions = t.timelineOptions),
              t.mediaList.length && (i.mediaList = t.mediaList),
              t.mediaDefault && (i.mediaDefault = t.mediaDefault))
            : (this._optionBackup = t)
      }),
      (Fd.prototype.mountOption = function(t) {
        var e = this._optionBackup
        return (
          (this._timelineOptions = e.timelineOptions),
          (this._mediaList = e.mediaList),
          (this._mediaDefault = e.mediaDefault),
          (this._currentMediaIndices = []),
          y(t ? e.baseOption : this._newBaseOption)
        )
      }),
      (Fd.prototype.getTimelineOption = function(t) {
        var e,
          n = this._timelineOptions
        return (e = n.length && (t = t.getComponent('timeline')) ? y(n[t.getCurrentIndex()]) : e)
      }),
      (Fd.prototype.getMediaOption = function(t) {
        var e = this._api.getWidth(),
          n = this._api.getHeight(),
          i = this._mediaList,
          o = this._mediaDefault,
          r = [],
          a = []
        if (i.length || o) {
          for (var s, l, u = 0, h = i.length; u < h; u++)
            !(function(t, e, n) {
              var i = { width: e, height: n, aspectratio: e / n },
                o = !0
              return (
                E(t, function(t, e) {
                  var n,
                    e = e.match(Bd)
                  e &&
                    e[1] &&
                    e[2] &&
                    ((n = e[1]),
                    (e = e[2].toLowerCase()),
                    (e = i[e]),
                    (t = t),
                    ('min' === (n = n) ? t <= e : 'max' === n ? e <= t : e === t) || (o = !1))
                }),
                o
              )
            })(i[u].query, e, n) || r.push(u)
          ;(r = !r.length && o ? [-1] : r).length &&
            ((s = r), (l = this._currentMediaIndices), s.join(',') !== l.join(',')) &&
            (a = B(r, function(t) {
              return y((-1 === t ? o : i[t]).option)
            })),
            (this._currentMediaIndices = r)
        }
        return a
      }),
      Fd)
  function Fd(t) {
    ;(this._timelineOptions = []), (this._mediaList = []), (this._currentMediaIndices = []), (this._api = t)
  }
  var Hd = E,
    Gd = O,
    Wd = ['areaStyle', 'lineStyle', 'nodeStyle', 'linkStyle', 'chordStyle', 'label', 'labelLine']
  function Ud(t) {
    var e = t && t.itemStyle
    if (e)
      for (var n = 0, i = Wd.length; n < i; n++) {
        var o = Wd[n],
          r = e.normal,
          a = e.emphasis
        r && r[o] && ((t[o] = t[o] || {}), t[o].normal ? d(t[o].normal, r[o]) : (t[o].normal = r[o]), (r[o] = null)),
          a && a[o] && ((t[o] = t[o] || {}), t[o].emphasis ? d(t[o].emphasis, a[o]) : (t[o].emphasis = a[o]), (a[o] = null))
      }
  }
  function Yd(t, e, n) {
    var i, o
    t &&
      t[e] &&
      (t[e].normal || t[e].emphasis) &&
      ((i = t[e].normal), (o = t[e].emphasis), i && (n ? ((t[e].normal = t[e].emphasis = null), z(t[e], i)) : (t[e] = i)), o) &&
      ((t.emphasis = t.emphasis || {}), (t.emphasis[e] = o).focus && (t.emphasis.focus = o.focus), o.blurScope) &&
      (t.emphasis.blurScope = o.blurScope)
  }
  function Xd(t) {
    Yd(t, 'itemStyle'), Yd(t, 'lineStyle'), Yd(t, 'areaStyle'), Yd(t, 'label'), Yd(t, 'labelLine'), Yd(t, 'upperLabel'), Yd(t, 'edgeLabel')
  }
  function Zd(t, e) {
    var n = Gd(t) && t[e],
      i = Gd(n) && n.textStyle
    if (i)
      for (var o = 0, r = Tr.length; o < r; o++) {
        var a = Tr[o]
        i.hasOwnProperty(a) && (n[a] = i[a])
      }
  }
  function qd(t) {
    t && (Xd(t), Zd(t, 'label'), t.emphasis) && Zd(t.emphasis, 'label')
  }
  function jd(t) {
    return V(t) ? t : t ? [t] : []
  }
  function Kd(t) {
    return (V(t) ? t[0] : t) || {}
  }
  function $d(e, t) {
    Hd(jd(e.series), function(t) {
      if (Gd(t))
        if (Gd(t)) {
          Ud(t),
            Xd(t),
            Zd(t, 'label'),
            Zd(t, 'upperLabel'),
            Zd(t, 'edgeLabel'),
            t.emphasis && (Zd(t.emphasis, 'label'), Zd(t.emphasis, 'upperLabel'), Zd(t.emphasis, 'edgeLabel'))
          var e = t.markPoint,
            n = (e && (Ud(e), qd(e)), t.markLine),
            i = (n && (Ud(n), qd(n)), t.markArea),
            o = (i && qd(i), t.data)
          if ('graph' === t.type) {
            var o = o || t.nodes,
              r = t.links || t.edges
            if (r && !ft(r)) for (var a = 0; a < r.length; a++) qd(r[a])
            E(t.categories, function(t) {
              Xd(t)
            })
          }
          if (o && !ft(o)) for (a = 0; a < o.length; a++) qd(o[a])
          if ((e = t.markPoint) && e.data) for (var s = e.data, a = 0; a < s.length; a++) qd(s[a])
          if ((n = t.markLine) && n.data) for (var l = n.data, a = 0; a < l.length; a++) V(l[a]) ? (qd(l[a][0]), qd(l[a][1])) : qd(l[a])
          'gauge' === t.type
            ? (Zd(t, 'axisLabel'), Zd(t, 'title'), Zd(t, 'detail'))
            : 'treemap' === t.type
            ? (Yd(t.breadcrumb, 'itemStyle'),
              E(t.levels, function(t) {
                Xd(t)
              }))
            : 'tree' === t.type && Xd(t.leaves)
        }
    })
    var n = ['xAxis', 'yAxis', 'radiusAxis', 'angleAxis', 'singleAxis', 'parallelAxis', 'radar']
    t && n.push('valueAxis', 'categoryAxis', 'logAxis', 'timeAxis'),
      Hd(n, function(t) {
        Hd(jd(e[t]), function(t) {
          t && (Zd(t, 'axisLabel'), Zd(t.axisPointer, 'label'))
        })
      }),
      Hd(jd(e.parallel), function(t) {
        t = t && t.parallelAxisDefault
        Zd(t, 'axisLabel'), Zd(t && t.axisPointer, 'label')
      }),
      Hd(jd(e.calendar), function(t) {
        Yd(t, 'itemStyle'), Zd(t, 'dayLabel'), Zd(t, 'monthLabel'), Zd(t, 'yearLabel')
      }),
      Hd(jd(e.radar), function(t) {
        Zd(t, 'name'),
          t.name && null == t.axisName && ((t.axisName = t.name), delete t.name),
          null != t.nameGap && null == t.axisNameGap && ((t.axisNameGap = t.nameGap), delete t.nameGap)
      }),
      Hd(jd(e.geo), function(t) {
        Gd(t) &&
          (qd(t),
          Hd(jd(t.regions), function(t) {
            qd(t)
          }))
      }),
      Hd(jd(e.timeline), function(t) {
        qd(t), Yd(t, 'label'), Yd(t, 'itemStyle'), Yd(t, 'controlStyle', !0)
        t = t.data
        V(t) &&
          E(t, function(t) {
            O(t) && (Yd(t, 'label'), Yd(t, 'itemStyle'))
          })
      }),
      Hd(jd(e.toolbox), function(t) {
        Yd(t, 'iconStyle'),
          Hd(t.feature, function(t) {
            Yd(t, 'iconStyle')
          })
      }),
      Zd(Kd(e.axisPointer), 'label'),
      Zd(Kd(e.tooltip).axisPointer, 'label')
  }
  function Qd(e) {
    e &&
      E(Jd, function(t) {
        t[0] in e && !(t[1] in e) && (e[t[1]] = e[t[0]])
      })
  }
  var Jd = [
      ['x', 'left'],
      ['y', 'top'],
      ['x2', 'right'],
      ['y2', 'bottom'],
    ],
    tf = ['grid', 'geo', 'parallel', 'legend', 'toolbox', 'title', 'visualMap', 'dataZoom', 'timeline'],
    ef = [
      ['borderRadius', 'barBorderRadius'],
      ['borderColor', 'barBorderColor'],
      ['borderWidth', 'barBorderWidth'],
    ]
  function nf(t) {
    var e = t && t.itemStyle
    if (e)
      for (var n = 0; n < ef.length; n++) {
        var i = ef[n][1],
          o = ef[n][0]
        null != e[i] && (e[o] = e[i])
      }
  }
  function of(t) {
    t && 'edge' === t.alignTo && null != t.margin && null == t.edgeDistance && (t.edgeDistance = t.margin)
  }
  function rf(t) {
    t && t.downplay && !t.blur && (t.blur = t.downplay)
  }
  function af(e, t) {
    $d(e, t),
      (e.series = Sr(e.series)),
      E(e.series, function(t) {
        if (O(t)) {
          var e,
            n = t.type
          if ('line' === n) null != t.clipOverflow && (t.clip = t.clipOverflow)
          else if ('pie' === n || 'gauge' === n) {
            if ((null != t.clockWise && (t.clockwise = t.clockWise), of(t.label), (e = t.data) && !ft(e)))
              for (var i = 0; i < e.length; i++) of(e[i])
            null != t.hoverOffset &&
              ((t.emphasis = t.emphasis || {}), (t.emphasis.scaleSize = null)) &&
              (t.emphasis.scaleSize = t.hoverOffset)
          } else if ('gauge' === n) {
            var o = (function(t, e) {
              for (var n = e.split(','), i = t, o = 0; o < n.length && null != (i = i && i[n[o]]); o++);
              return i
            })(t, 'pointer.color')
            if (null != o) {
              var r = t
              var a = 'itemStyle.color'
              var s = void 0
              for (var l, u = a.split(','), h = r, c = 0; c < u.length - 1; c++) null == h[(l = u[c])] && (h[l] = {}), (h = h[l])
              ;(!s && null != h[u[c]]) || (h[u[c]] = o)
            }
          } else if ('bar' === n) {
            if ((nf(t), nf(t.backgroundStyle), nf(t.emphasis), (e = t.data) && !ft(e)))
              for (i = 0; i < e.length; i++) 'object' == typeof e[i] && (nf(e[i]), nf(e[i] && e[i].emphasis))
          } else
            'sunburst' === n
              ? ((a = t.highlightPolicy) && ((t.emphasis = t.emphasis || {}), t.emphasis.focus || (t.emphasis.focus = a)),
                rf(t),
                (function t(e, n) {
                  if (e) for (var i = 0; i < e.length; i++) n(e[i]), e[i] && t(e[i].children, n)
                })(t.data, rf))
              : 'graph' === n || 'sankey' === n
              ? (r = t) &&
                null != r.focusNodeAdjacency &&
                ((r.emphasis = r.emphasis || {}), null == r.emphasis.focus) &&
                (r.emphasis.focus = 'adjacency')
              : 'map' === n && (t.mapType && !t.map && (t.map = t.mapType), t.mapLocation) && z(t, t.mapLocation)
          null != t.hoverAnimation &&
            ((t.emphasis = t.emphasis || {}), t.emphasis) &&
            null == t.emphasis.scale &&
            (t.emphasis.scale = t.hoverAnimation),
            Qd(t)
        }
      }),
      e.dataRange && (e.visualMap = e.dataRange),
      E(tf, function(t) {
        t = e[t]
        t &&
          E((t = V(t) ? t : [t]), function(t) {
            Qd(t)
          })
      })
  }
  function sf(_) {
    E(_, function(p, d) {
      var f = [],
        g = [NaN, NaN],
        t = [p.stackResultDimension, p.stackedOverDimension],
        y = p.data,
        m = p.isStackedByIndex,
        v = p.seriesModel.get('stackStrategy') || 'samesign'
      y.modify(t, function(t, e, n) {
        var i,
          o,
          r = y.get(p.stackedDimension, n)
        if (isNaN(r)) return g
        m ? (o = y.getRawIndex(n)) : (i = y.get(p.stackedByDimension, n))
        for (var a, s, l, u = NaN, h = d - 1; 0 <= h; h--) {
          var c = _[h]
          if (0 <= (o = m ? o : c.data.rawIndexOf(c.stackedByDimension, i))) {
            c = c.data.getByRawIndex(c.stackResultDimension, o)
            if (
              'all' === v ||
              ('positive' === v && 0 < c) ||
              ('negative' === v && c < 0) ||
              ('samesign' === v && 0 <= r && 0 < c) ||
              ('samesign' === v && r <= 0 && c < 0)
            ) {
              ;(a = r), (s = c), (l = void 0), (l = Math.max(ar(a), ar(s))), (a += s), (r = nr < l ? a : or(a, l)), (u = c)
              break
            }
          }
        }
        return (f[0] = r), (f[1] = u), f
      })
    })
  }
  var lf,
    uf,
    hf = function(t) {
      ;(this.data = t.data || (t.sourceFormat === ad ? {} : [])),
        (this.sourceFormat = t.sourceFormat || ld),
        (this.seriesLayoutBy = t.seriesLayoutBy || ud),
        (this.startIndex = t.startIndex || 0),
        (this.dimensionsDetectedCount = t.dimensionsDetectedCount),
        (this.metaRawOption = t.metaRawOption)
      var e = (this.dimensionsDefine = t.dimensionsDefine)
      if (e)
        for (var n = 0; n < e.length; n++) {
          var i = e[n]
          null == i.type && yd(this, n) === cd.Must && (i.type = 'ordinal')
        }
    }
  function cf(t) {
    return t instanceof hf
  }
  function pf(t, e, n) {
    n = n || ff(t)
    var i = e.seriesLayoutBy,
      o = (function(t, e, n, i, o) {
        var r, a
        if (!t) return { dimensionsDefine: gf(o), startIndex: a, dimensionsDetectedCount: r }
        {
          var s
          e === od
            ? ((s = t),
              'auto' === i || null == i
                ? yf(
                    function(t) {
                      null != t && '-' !== t && (F(t) ? null == a && (a = 1) : (a = 0))
                    },
                    n,
                    s,
                    10
                  )
                : (a = H(i) ? i : i ? 1 : 0),
              o ||
                1 !== a ||
                ((o = []),
                yf(
                  function(t, e) {
                    o[e] = null != t ? t + '' : ''
                  },
                  n,
                  s,
                  1 / 0
                )),
              (r = o ? o.length : n === hd ? s.length : s[0] ? s[0].length : null))
            : e === rd
            ? (o =
                o ||
                (function(t) {
                  var e,
                    n = 0
                  for (; n < t.length && !(e = t[n++]); );
                  if (e) return ct(e)
                })(t))
            : e === ad
            ? o ||
              ((o = []),
              E(t, function(t, e) {
                o.push(e)
              }))
            : e === id && ((i = Ir(t[0])), (r = (V(i) && i.length) || 1))
        }
        return { startIndex: a, dimensionsDefine: gf(o), dimensionsDetectedCount: r }
      })(t, n, i, e.sourceHeader, e.dimensions)
    return new hf({
      data: t,
      sourceFormat: n,
      seriesLayoutBy: i,
      dimensionsDefine: o.dimensionsDefine,
      startIndex: o.startIndex,
      dimensionsDetectedCount: o.dimensionsDetectedCount,
      metaRawOption: y(e),
    })
  }
  function df(t) {
    return new hf({ data: t, sourceFormat: ft(t) ? sd : id })
  }
  function ff(t) {
    var e = ld
    if (ft(t)) e = sd
    else if (V(t)) {
      0 === t.length && (e = od)
      for (var n = 0, i = t.length; n < i; n++) {
        var o = t[n]
        if (null != o) {
          if (V(o) || ft(o)) {
            e = od
            break
          }
          if (O(o)) {
            e = rd
            break
          }
        }
      }
    } else if (O(t))
      for (var r in t)
        if (zt(t, r) && lt(t[r])) {
          e = ad
          break
        }
    return e
  }
  function gf(t) {
    var i
    if (t)
      return (
        (i = N()),
        B(t, function(t, e) {
          var n,
            t = { name: (t = O(t) ? t : { name: t }).name, displayName: t.displayName, type: t.type }
          return (
            null != t.name &&
              ((t.name += ''),
              null == t.displayName && (t.displayName = t.name),
              (n = i.get(t.name)) ? (t.name += '-' + n.count++) : i.set(t.name, { count: 1 })),
            t
          )
        })
      )
  }
  function yf(t, e, n, i) {
    if (e === hd) for (var o = 0; o < n.length && o < i; o++) t(n[o] ? n[o][0] : null, o)
    else for (var r = n[0] || [], o = 0; o < r.length && o < i; o++) t(r[o], o)
  }
  function mf(t) {
    t = t.sourceFormat
    return t === rd || t === ad
  }
  ;(bf.prototype.getSource = function() {
    return this._source
  }),
    (bf.prototype.count = function() {
      return 0
    }),
    (bf.prototype.getItem = function(t, e) {}),
    (bf.prototype.appendData = function(t) {}),
    (bf.prototype.clean = function() {}),
    (bf.protoInitialize = (((ic = bf.prototype).pure = !1), void (ic.persistent = !0))),
    (bf.internalField =
      ((uf = function(t, e, n) {
        var i,
          o = n.sourceFormat,
          r = n.seriesLayoutBy,
          a = n.startIndex,
          n = n.dimensionsDefine
        P(t, lf[Of(o, r)]),
          o === sd
            ? ((t.getItem = vf), (t.count = xf), (t.fillStorage = _f))
            : ((i = If(o, r)), (t.getItem = S(i, null, e, a, n)), (i = Df(o, r)), (t.count = S(i, null, e, a, n)))
      }),
      (vf = function(t, e) {
        ;(t -= this._offset), (e = e || [])
        for (var n = this._data, i = this._dimSize, o = i * t, r = 0; r < i; r++) e[r] = n[o + r]
        return e
      }),
      (_f = function(t, e, n, i) {
        for (var o = this._data, r = this._dimSize, a = 0; a < r; a++) {
          for (var s = i[a], l = null == s[0] ? 1 / 0 : s[0], u = null == s[1] ? -1 / 0 : s[1], h = e - t, c = n[a], p = 0; p < h; p++) {
            var d = o[p * r + a]
            ;(c[t + p] = d) < l && (l = d), u < d && (u = d)
          }
          ;(s[0] = l), (s[1] = u)
        }
      }),
      (xf = function() {
        return this._data ? this._data.length / this._dimSize : 0
      }),
      ((ic = {})[od + '_' + ud] = { pure: !0, appendData: Sf }),
      (ic[od + '_' + hd] = {
        pure: !0,
        appendData: function() {
          throw new Error('Do not support appendData when set seriesLayoutBy: "row".')
        },
      }),
      (ic[rd] = { pure: !0, appendData: Sf }),
      (ic[ad] = {
        pure: !0,
        appendData: function(t) {
          var o = this._data
          E(t, function(t, e) {
            for (var n = o[e] || (o[e] = []), i = 0; i < (t || []).length; i++) n.push(t[i])
          })
        },
      }),
      (ic[id] = { appendData: Sf }),
      (ic[sd] = {
        persistent: !1,
        pure: !0,
        appendData: function(t) {
          this._data = t
        },
        clean: function() {
          ;(this._offset += this.count()), (this._data = null)
        },
      }),
      void (lf = ic)))
  var vf,
    _f,
    xf,
    wf = bf
  function bf(t, e) {
    var t = cf(t) ? t : df(t),
      n = ((this._source = t), (this._data = t.data))
    t.sourceFormat === sd && ((this._offset = 0), (this._dimSize = e), (this._data = n)), uf(this, n, t)
  }
  function Sf(t) {
    for (var e = 0; e < t.length; e++) this._data.push(t[e])
  }
  function Mf(t, e, n, i) {
    return t[i]
  }
  ;((sp = {})[od + '_' + ud] = function(t, e, n, i) {
    return t[i + e]
  }),
    (sp[od + '_' + hd] = function(t, e, n, i, o) {
      i += e
      for (var r = o || [], a = t, s = 0; s < a.length; s++) {
        var l = a[s]
        r[s] = l ? l[i] : null
      }
      return r
    }),
    (sp[rd] = Mf),
    (sp[ad] = function(t, e, n, i, o) {
      for (var r = o || [], a = 0; a < n.length; a++) {
        var s = t[n[a].name]
        r[a] = s ? s[i] : null
      }
      return r
    }),
    (sp[id] = Mf)
  var Tf = sp
  function If(t, e) {
    return Tf[Of(t, e)]
  }
  function Cf(t, e, n) {
    return t.length
  }
  ;((zc = {})[od + '_' + ud] = function(t, e, n) {
    return Math.max(0, t.length - e)
  }),
    (zc[od + '_' + hd] = function(t, e, n) {
      t = t[0]
      return t ? Math.max(0, t.length - e) : 0
    }),
    (zc[rd] = Cf),
    (zc[ad] = function(t, e, n) {
      t = t[n[0].name]
      return t ? t.length : 0
    }),
    (zc[id] = Cf)
  var Af = zc
  function Df(t, e) {
    return Af[Of(t, e)]
  }
  function kf(t, e, n) {
    return t[e]
  }
  ;((na = {})[od] = kf),
    (na[rd] = function(t, e, n) {
      return t[n]
    }),
    (na[ad] = kf),
    (na[id] = function(t, e, n) {
      t = Ir(t)
      return t instanceof Array ? t[e] : t
    }),
    (na[sd] = kf)
  var Lf = na
  function Pf(t) {
    return Lf[t]
  }
  function Of(t, e) {
    return t === od ? t + '_' + e : t
  }
  function Rf(t, e, n) {
    if (t) {
      var i,
        o,
        e = t.getRawDataItem(e)
      if (null != e)
        return (
          (i = (o = t.getStore()).getSource().sourceFormat),
          null != n ? ((t = t.getDimensionIndex(n)), (n = o.getDimensionProperty(t)), Pf(i)(e, t, n)) : ((o = e), i === id ? Ir(e) : o)
        )
    }
  }
  var Nf = /\{@(.+?)\}/g,
    Ef =
      ((zf.prototype.getDataParams = function(t, e) {
        var n = this.getData(e),
          i = this.getRawValue(t, e),
          o = n.getRawIndex(t),
          r = n.getName(t),
          a = n.getRawDataItem(t),
          s = n.getItemVisual(t, 'style'),
          t = s && s[n.getItemVisual(t, 'drawType') || 'fill'],
          s = s && s.stroke,
          l = this.mainType,
          u = 'series' === l,
          n = n.userOutput && n.userOutput.get()
        return {
          componentType: l,
          componentSubType: this.subType,
          componentIndex: this.componentIndex,
          seriesType: u ? this.subType : null,
          seriesIndex: this.seriesIndex,
          seriesId: u ? this.id : null,
          seriesName: u ? this.name : null,
          name: r,
          dataIndex: o,
          data: a,
          dataType: e,
          value: i,
          color: t,
          borderColor: s,
          dimensionNames: n ? n.fullDimensions : null,
          encode: n ? n.encode : null,
          $vars: ['seriesName', 'name', 'value'],
        }
      }),
      (zf.prototype.getFormattedLabel = function(i, t, e, n, o, r) {
        t = t || 'normal'
        var a = this.getData(e),
          e = this.getDataParams(i, e)
        return (
          r && (e.value = r.interpolatedValue),
          null != n && V(e.value) && (e.value = e.value[n]),
          A((o = o || a.getItemModel(i).get('normal' === t ? ['label', 'formatter'] : [t, 'label', 'formatter'])))
            ? ((e.status = t), (e.dimensionIndex = n), o(e))
            : F(o)
            ? Np(o, e).replace(Nf, function(t, e) {
                var n = e.length,
                  n = ('[' === e.charAt(0) && ']' === e.charAt(n - 1) && (e = +e.slice(1, n - 1)), Rf(a, i, e))
                return null != (n = r && V(r.interpolatedValue) && 0 <= (e = a.getDimensionIndex(e)) ? r.interpolatedValue[e] : n)
                  ? n + ''
                  : ''
              })
            : void 0
        )
      }),
      (zf.prototype.getRawValue = function(t, e) {
        return Rf(this.getData(e), t)
      }),
      (zf.prototype.formatTooltip = function(t, e, n) {}),
      zf)
  function zf() {}
  function Bf(t) {
    var e, n
    return O(t) ? t.type && (n = t) : (e = t), { text: e, frag: n }
  }
  function Vf(t) {
    return new Ff(t)
  }
  ;(Hf.prototype.perform = function(t) {
    var e,
      n,
      i = this._upstream,
      o = t && t.skip,
      r =
        (this._dirty && i && ((r = this.context).data = r.outputData = i.context.outputData),
        this.__pipeline && (this.__pipeline.currentTask = this),
        this._plan && !o && (e = this._plan(this.context)),
        u(this._modBy)),
      a = this._modDataCount || 0,
      s = u(t && t.modBy),
      l = (t && t.modDataCount) || 0
    function u(t) {
      return (t = 1 <= t ? t : 1)
    }
    ;(r === s && a === l) || (e = 'reset'),
      (!this._dirty && 'reset' !== e) || ((this._dirty = !1), (n = this._doReset(o))),
      (this._modBy = s),
      (this._modDataCount = l)
    r = t && t.step
    if (((this._dueEnd = i ? i._outputDueEnd : this._count ? this._count(this.context) : 1 / 0), this._progress)) {
      var h = this._dueIndex,
        c = Math.min(null != r ? this._dueIndex + r : 1 / 0, this._dueEnd)
      if (!o && (n || h < c)) {
        var p = this._progress
        if (V(p)) for (var d = 0; d < p.length; d++) this._doProgress(p[d], h, c, s, l)
        else this._doProgress(p, h, c, s, l)
      }
      this._dueIndex = c
      a = null != this._settedOutputEnd ? this._settedOutputEnd : c
      this._outputDueEnd = a
    } else this._dueIndex = this._outputDueEnd = null != this._settedOutputEnd ? this._settedOutputEnd : this._dueEnd
    return this.unfinished()
  }),
    (Hf.prototype.dirty = function() {
      ;(this._dirty = !0), this._onDirty && this._onDirty(this.context)
    }),
    (Hf.prototype._doProgress = function(t, e, n, i, o) {
      qf.reset(e, n, i, o),
        (this._callingProgress = t),
        this._callingProgress({ start: e, end: n, count: n - e, next: qf.next }, this.context)
    }),
    (Hf.prototype._doReset = function(t) {
      ;(this._dueIndex = this._outputDueEnd = this._dueEnd = 0),
        (this._settedOutputEnd = null),
        !t &&
          this._reset &&
          ((e = this._reset(this.context)) && e.progress && ((n = e.forceFirstProgress), (e = e.progress)), V(e)) &&
          !e.length &&
          (e = null),
        (this._progress = e),
        (this._modBy = this._modDataCount = null)
      var e,
        n,
        t = this._downstream
      return t && t.dirty(), n
    }),
    (Hf.prototype.unfinished = function() {
      return this._progress && this._dueIndex < this._dueEnd
    }),
    (Hf.prototype.pipe = function(t) {
      ;(this._downstream === t && !this._dirty) || (((this._downstream = t)._upstream = this), t.dirty())
    }),
    (Hf.prototype.dispose = function() {
      this._disposed ||
        (this._upstream && (this._upstream._downstream = null),
        this._downstream && (this._downstream._upstream = null),
        (this._dirty = !1),
        (this._disposed = !0))
    }),
    (Hf.prototype.getUpstream = function() {
      return this._upstream
    }),
    (Hf.prototype.getDownstream = function() {
      return this._downstream
    }),
    (Hf.prototype.setOutputEnd = function(t) {
      this._outputDueEnd = this._settedOutputEnd = t
    })
  var Ff = Hf
  function Hf(t) {
    ;(this._reset = (t = t || {}).reset), (this._plan = t.plan), (this._count = t.count), (this._onDirty = t.onDirty), (this._dirty = !0)
  }
  var Gf,
    Wf,
    Uf,
    Yf,
    Xf,
    Zf,
    qf = (Zf = {
      reset: function(t, e, n, i) {
        ;(Wf = t), (Gf = e), (Uf = n), (Yf = i), (Xf = Math.ceil(Yf / Uf)), (Zf.next = 1 < Uf && 0 < Yf ? Kf : jf)
      },
    })
  function jf() {
    return Wf < Gf ? Wf++ : null
  }
  function Kf() {
    var t = (Wf % Xf) * Uf + Math.ceil(Wf / Xf),
      t = Gf <= Wf ? null : t < Yf ? t : Wf
    return Wf++, t
  }
  function $f(t, e) {
    e = e && e.type
    return 'ordinal' === e ? t : null == (t = 'time' !== e || H(t) || null == t || '-' === t ? t : +dr(t)) || '' === t ? NaN : Number(t)
  }
  var Qf = N({
    number: function(t) {
      return parseFloat(t)
    },
    time: function(t) {
      return +dr(t)
    },
    trim: function(t) {
      return F(t) ? Tt(t) : t
    },
  })
  function Jf(t) {
    return Qf.get(t)
  }
  var tg = {
      lt: function(t, e) {
        return t < e
      },
      lte: function(t, e) {
        return t <= e
      },
      gt: function(t, e) {
        return e < t
      },
      gte: function(t, e) {
        return e <= t
      },
    },
    eg =
      ((ng.prototype.evaluate = function(t) {
        return H(t) ? this._opFn(t, this._rvalFloat) : this._opFn(mr(t), this._rvalFloat)
      }),
      ng)
  function ng(t, e) {
    H(e) || f(''), (this._opFn = tg[t]), (this._rvalFloat = mr(e))
  }
  og.prototype.evaluate = function(t, e) {
    var n = H(t) ? t : mr(t),
      i = H(e) ? e : mr(e),
      o = isNaN(n),
      r = isNaN(i)
    return (
      o && (n = this._incomparable),
      r && (i = this._incomparable),
      o && r && ((o = F(t)), (r = F(e)), o && (n = r ? t : 0), r) && (i = o ? e : 0),
      n < i ? this._resultLT : i < n ? -this._resultLT : 0
    )
  }
  var ig = og
  function og(t, e) {
    t = 'desc' === t
    ;(this._resultLT = t ? 1 : -1), (this._incomparable = 'min' === (e = null == e ? (t ? 'min' : 'max') : e) ? -1 / 0 : 1 / 0)
  }
  ag.prototype.evaluate = function(t) {
    var e,
      n = t === this._rval
    return (
      n || (e = typeof t) === this._rvalTypeof || ('number' != e && 'number' !== this._rvalTypeof) || (n = mr(t) === this._rvalFloat),
      this._isEQ ? n : !n
    )
  }
  var rg = ag
  function ag(t, e) {
    ;(this._rval = e), (this._isEQ = t), (this._rvalTypeof = typeof e), (this._rvalFloat = mr(e))
  }
  ;(lg.prototype.getRawData = function() {
    throw new Error('not supported')
  }),
    (lg.prototype.getRawDataItem = function(t) {
      throw new Error('not supported')
    }),
    (lg.prototype.cloneRawData = function() {}),
    (lg.prototype.getDimensionInfo = function(t) {}),
    (lg.prototype.cloneAllDimensionInfo = function() {}),
    (lg.prototype.count = function() {}),
    (lg.prototype.retrieveValue = function(t, e) {}),
    (lg.prototype.retrieveValueFromItem = function(t, e) {}),
    (lg.prototype.convertValue = $f)
  var sg = lg
  function lg() {}
  function ug(t) {
    return gg(t.sourceFormat) || f(''), t.data
  }
  function hg(t) {
    var e = t.sourceFormat,
      n = t.data
    if ((gg(e) || f(''), e === od)) {
      for (var i = [], o = 0, r = n.length; o < r; o++) i.push(n[o].slice())
      return i
    }
    if (e === rd) {
      for (i = [], o = 0, r = n.length; o < r; o++) i.push(P({}, n[o]))
      return i
    }
  }
  function cg(t, e, n) {
    if (null != n) return H(n) || (!isNaN(n) && !zt(e, n)) ? t[n] : zt(e, n) ? e[n] : void 0
  }
  function pg(t) {
    return y(t)
  }
  var dg = N()
  function fg(t, e) {
    var n = Sr(t),
      t = n.length
    t || f('')
    for (var i = 0, o = t; i < o; i++)
      (e = (function(t, i) {
        i.length || f('')
        O(t) || f('')
        var e = t.type,
          d = dg.get(e)
        d || f('')
        e = B(i, function(t) {
          var e = t,
            t = d,
            n = new sg(),
            i = e.data,
            o = (n.sourceFormat = e.sourceFormat),
            r = e.startIndex,
            a = (e.seriesLayoutBy !== ud && f(''), []),
            s = {}
          if ((h = e.dimensionsDefine))
            E(h, function(t, e) {
              var n = t.name,
                e = { index: e, name: n, displayName: t.displayName }
              a.push(e), null != n && (zt(s, n) && f(''), (s[n] = e))
            })
          else for (var l = 0; l < e.dimensionsDetectedCount; l++) a.push({ index: l })
          var u = If(o, ud),
            h =
              (t.__isBuiltIn &&
                ((n.getRawDataItem = function(t) {
                  return u(i, r, a, t)
                }),
                (n.getRawData = S(ug, null, e))),
              (n.cloneRawData = S(hg, null, e)),
              Df(o, ud)),
            c = ((n.count = S(h, null, i, r, a)), Pf(o)),
            p =
              ((n.retrieveValue = function(t, e) {
                t = u(i, r, a, t)
                return p(t, e)
              }),
              (n.retrieveValueFromItem = function(t, e) {
                var n
                return null != t && (n = a[e]) ? c(t, e, n.name) : void 0
              }))
          return (n.getDimensionInfo = S(cg, null, a, s)), (n.cloneAllDimensionInfo = S(pg, null, a)), n
        })
        return B(Sr(d.transform({ upstream: e[0], upstreamList: e, config: y(t.config) })), function(t, e) {
          O(t) || f(''), t.data || f('')
          gg(ff(t.data)) || f('')
          var n = i[0],
            e =
              n && 0 === e && !t.dimensions
                ? ((e = n.startIndex) && (t.data = n.data.slice(0, e).concat(t.data)),
                  { seriesLayoutBy: ud, sourceHeader: e, dimensions: n.metaRawOption.dimensions })
                : { seriesLayoutBy: ud, sourceHeader: 0, dimensions: t.dimensions }
          return pf(t.data, e, null)
        })
      })(n[i], e)),
        i !== o - 1 && (e.length = Math.max(e.length, 1))
    return e
  }
  function gg(t) {
    return t === od || t === rd
  }
  var yg,
    Hc = 'undefined',
    mg = typeof Uint32Array == Hc ? Array : Uint32Array,
    vg = typeof Uint16Array == Hc ? Array : Uint16Array,
    _g = typeof Int32Array == Hc ? Array : Int32Array,
    ic = typeof Float64Array == Hc ? Array : Float64Array,
    xg = { float: ic, int: _g, ordinal: Array, number: Array, time: ic }
  function wg(t) {
    return 65535 < t ? mg : vg
  }
  function bg() {
    return [1 / 0, -1 / 0]
  }
  function Sg(t, e, n, i, o) {
    n = xg[n || 'float']
    if (o) {
      var r = t[e],
        a = r && r.length
      if (a !== i) {
        for (var s = new n(i), l = 0; l < a; l++) s[l] = r[l]
        t[e] = s
      }
    } else t[e] = new n(i)
  }
  ;(l.prototype.initData = function(t, e, n) {
    ;(this._provider = t), (this._chunks = []), (this._indices = null), (this.getRawIndex = this._getRawIdxIdentity)
    var i = t.getSource(),
      o = (this.defaultDimValueGetter = yg[i.sourceFormat])
    ;(this._dimValueGetter = n || o),
      (this._rawExtent = []),
      mf(i),
      (this._dimensions = B(e, function(t) {
        return { type: t.type, property: t.property }
      })),
      this._initDataFromProvider(0, t.count())
  }),
    (l.prototype.getProvider = function() {
      return this._provider
    }),
    (l.prototype.getSource = function() {
      return this._provider.getSource()
    }),
    (l.prototype.ensureCalculationDimension = function(t, e) {
      var n = this._calcDimNameToIdx,
        i = this._dimensions,
        o = n.get(t)
      if (null != o) {
        if (i[o].type === e) return o
      } else o = i.length
      return (i[o] = { type: e }), n.set(t, o), (this._chunks[o] = new xg[e || 'float'](this._rawCount)), (this._rawExtent[o] = bg()), o
    }),
    (l.prototype.collectOrdinalMeta = function(t, e) {
      for (
        var n = this._chunks[t],
          i = this._dimensions[t],
          o = this._rawExtent,
          r = i.ordinalOffset || 0,
          a = n.length,
          s = (0 === r && (o[t] = bg()), o[t]),
          l = r;
        l < a;
        l++
      ) {
        var u = (n[l] = e.parseAndCollect(n[l]))
        isNaN(u) || ((s[0] = Math.min(u, s[0])), (s[1] = Math.max(u, s[1])))
      }
      ;(i.ordinalMeta = e), (i.ordinalOffset = a), (i.type = 'ordinal')
    }),
    (l.prototype.getOrdinalMeta = function(t) {
      return this._dimensions[t].ordinalMeta
    }),
    (l.prototype.getDimensionProperty = function(t) {
      t = this._dimensions[t]
      return t && t.property
    }),
    (l.prototype.appendData = function(t) {
      var e = this._provider,
        n = this.count(),
        t = (e.appendData(t), e.count())
      return e.persistent || (t += n), n < t && this._initDataFromProvider(n, t, !0), [n, t]
    }),
    (l.prototype.appendValues = function(t, e) {
      for (
        var n = this._chunks,
          i = this._dimensions,
          o = i.length,
          r = this._rawExtent,
          a = this.count(),
          s = a + Math.max(t.length, e || 0),
          l = 0;
        l < o;
        l++
      )
        Sg(n, l, (d = i[l]).type, s, !0)
      for (var u = [], h = a; h < s; h++)
        for (var c = h - a, p = 0; p < o; p++) {
          var d = i[p],
            f = yg.arrayRows.call(this, t[c] || u, d.property, c, p),
            g = ((n[p][h] = f), r[p])
          f < g[0] && (g[0] = f), f > g[1] && (g[1] = f)
        }
      return { start: a, end: (this._rawCount = this._count = s) }
    }),
    (l.prototype._initDataFromProvider = function(t, e, n) {
      for (
        var i = this._provider,
          o = this._chunks,
          r = this._dimensions,
          a = r.length,
          s = this._rawExtent,
          l = B(r, function(t) {
            return t.property
          }),
          u = 0;
        u < a;
        u++
      ) {
        var h = r[u]
        s[u] || (s[u] = bg()), Sg(o, u, h.type, e, n)
      }
      if (i.fillStorage) i.fillStorage(t, e, o, s)
      else
        for (var c = [], p = t; p < e; p++)
          for (var c = i.getItem(p, c), d = 0; d < a; d++) {
            var f = o[d],
              g = this._dimValueGetter(c, l[d], p, d),
              f = ((f[p] = g), s[d])
            g < f[0] && (f[0] = g), g > f[1] && (f[1] = g)
          }
      !i.persistent && i.clean && i.clean(), (this._rawCount = this._count = e), (this._extent = [])
    }),
    (l.prototype.count = function() {
      return this._count
    }),
    (l.prototype.get = function(t, e) {
      return 0 <= e && e < this._count && (t = this._chunks[t]) ? t[this.getRawIndex(e)] : NaN
    }),
    (l.prototype.getValues = function(t, e) {
      var n = [],
        i = []
      if (null == e) {
        ;(e = t), (t = [])
        for (var o = 0; o < this._dimensions.length; o++) i.push(o)
      } else i = t
      for (var o = 0, r = i.length; o < r; o++) n.push(this.get(i[o], e))
      return n
    }),
    (l.prototype.getByRawIndex = function(t, e) {
      return 0 <= e && e < this._rawCount && (t = this._chunks[t]) ? t[e] : NaN
    }),
    (l.prototype.getSum = function(t) {
      var e = 0
      if (this._chunks[t])
        for (var n = 0, i = this.count(); n < i; n++) {
          var o = this.get(t, n)
          isNaN(o) || (e += o)
        }
      return e
    }),
    (l.prototype.getMedian = function(t) {
      var e = [],
        t =
          (this.each([t], function(t) {
            isNaN(t) || e.push(t)
          }),
          e.sort(function(t, e) {
            return t - e
          })),
        n = this.count()
      return 0 === n ? 0 : n % 2 == 1 ? t[(n - 1) / 2] : (t[n / 2] + t[n / 2 - 1]) / 2
    }),
    (l.prototype.indexOfRawIndex = function(t) {
      if (!(t >= this._rawCount || t < 0)) {
        if (!this._indices) return t
        var e = this._indices,
          n = e[t]
        if (null != n && n < this._count && n === t) return t
        for (var i = 0, o = this._count - 1; i <= o; ) {
          var r = ((i + o) / 2) | 0
          if (e[r] < t) i = 1 + r
          else {
            if (!(e[r] > t)) return r
            o = r - 1
          }
        }
      }
      return -1
    }),
    (l.prototype.indicesOfNearest = function(t, e, n) {
      var i = this._chunks[t],
        o = []
      if (i) {
        null == n && (n = 1 / 0)
        for (var r = 1 / 0, a = -1, s = 0, l = 0, u = this.count(); l < u; l++) {
          var h = e - i[this.getRawIndex(l)],
            c = Math.abs(h)
          c <= n && ((c < r || (c === r && 0 <= h && a < 0)) && ((r = c), (a = h), (s = 0)), h === a) && (o[s++] = l)
        }
        o.length = s
      }
      return o
    }),
    (l.prototype.getIndices = function() {
      var t = this._indices
      if (t) {
        var e = t.constructor,
          n = this._count
        if (e === Array) for (var i = new e(n), o = 0; o < n; o++) i[o] = t[o]
        else i = new e(t.buffer, 0, n)
      } else {
        i = new (e = wg(this._rawCount))(this.count())
        for (o = 0; o < i.length; o++) i[o] = o
      }
      return i
    }),
    (l.prototype.filter = function(t, e) {
      if (!this._count) return this
      for (
        var n = this.clone(), i = n.count(), o = new (wg(n._rawCount))(i), r = [], a = t.length, s = 0, l = t[0], u = n._chunks, h = 0;
        h < i;
        h++
      ) {
        var c = void 0,
          p = n.getRawIndex(h)
        if (0 === a) c = e(h)
        else if (1 === a) c = e(u[l][p], h)
        else {
          for (var d = 0; d < a; d++) r[d] = u[t[d]][p]
          ;(r[d] = h), (c = e.apply(null, r))
        }
        c && (o[s++] = p)
      }
      return s < i && (n._indices = o), (n._count = s), (n._extent = []), n._updateGetRawIdx(), n
    }),
    (l.prototype.selectRange = function(t) {
      var e = this.clone(),
        n = e._count
      if (!n) return this
      var i = ct(t),
        o = i.length
      if (!o) return this
      var r = e.count(),
        a = new (wg(e._rawCount))(r),
        s = 0,
        l = i[0],
        u = t[l][0],
        h = t[l][1],
        c = e._chunks,
        l = !1
      if (!e._indices) {
        var p = 0
        if (1 === o) {
          for (var d = c[i[0]], f = 0; f < n; f++) ((u <= (v = d[f]) && v <= h) || isNaN(v)) && (a[s++] = p), p++
          l = !0
        } else if (2 === o) {
          for (var d = c[i[0]], g = c[i[1]], y = t[i[1]][0], m = t[i[1]][1], f = 0; f < n; f++) {
            var v = d[f],
              _ = g[f]
            ;((u <= v && v <= h) || isNaN(v)) && ((y <= _ && _ <= m) || isNaN(_)) && (a[s++] = p), p++
          }
          l = !0
        }
      }
      if (!l)
        if (1 === o)
          for (f = 0; f < r; f++) {
            var x = e.getRawIndex(f)
            ;((u <= (v = c[i[0]][x]) && v <= h) || isNaN(v)) && (a[s++] = x)
          }
        else
          for (f = 0; f < r; f++) {
            for (var w = !0, x = e.getRawIndex(f), b = 0; b < o; b++) {
              var S = i[b]
              ;((v = c[S][x]) < t[S][0] || v > t[S][1]) && (w = !1)
            }
            w && (a[s++] = e.getRawIndex(f))
          }
      return s < r && (e._indices = a), (e._count = s), (e._extent = []), e._updateGetRawIdx(), e
    }),
    (l.prototype.map = function(t, e) {
      var n = this.clone(t)
      return this._updateDims(n, t, e), n
    }),
    (l.prototype.modify = function(t, e) {
      this._updateDims(this, t, e)
    }),
    (l.prototype._updateDims = function(t, e, n) {
      for (var i = t._chunks, o = [], r = e.length, a = t.count(), s = [], l = t._rawExtent, u = 0; u < e.length; u++) l[e[u]] = bg()
      for (var h = 0; h < a; h++) {
        for (var c = t.getRawIndex(h), p = 0; p < r; p++) s[p] = i[e[p]][c]
        s[r] = h
        var d = n && n.apply(null, s)
        if (null != d) {
          'object' != typeof d && ((o[0] = d), (d = o))
          for (u = 0; u < d.length; u++) {
            var f = e[u],
              g = d[u],
              y = l[f],
              f = i[f]
            f && (f[c] = g), g < y[0] && (y[0] = g), g > y[1] && (y[1] = g)
          }
        }
      }
    }),
    (l.prototype.lttbDownSample = function(t, e) {
      var n,
        i = this.clone([t], !0),
        o = i._chunks[t],
        r = this.count(),
        a = 0,
        s = Math.floor(1 / e),
        l = this.getRawIndex(0),
        u = new (wg(this._rawCount))(Math.min(2 * (Math.ceil(r / s) + 2), r))
      u[a++] = l
      for (var h = 1; h < r - 1; h += s) {
        for (var c = Math.min(h + s, r - 1), p = Math.min(h + 2 * s, r), d = (p + c) / 2, f = 0, g = c; g < p; g++) {
          var y = o[(M = this.getRawIndex(g))]
          isNaN(y) || (f += y)
        }
        f /= p - c
        for (var c = h, m = Math.min(h + s, r), v = h - 1, _ = o[l], x = -1, w = c, b = -1, S = 0, g = c; g < m; g++) {
          var M,
            y = o[(M = this.getRawIndex(g))]
          isNaN(y) ? (S++, b < 0 && (b = M)) : x < (n = Math.abs((v - d) * (y - _) - (v - g) * (f - _))) && ((x = n), (w = M))
        }
        0 < S && S < m - c && ((u[a++] = Math.min(b, w)), (w = Math.max(b, w))), (l = u[a++] = w)
      }
      return (u[a++] = this.getRawIndex(r - 1)), (i._count = a), (i._indices = u), (i.getRawIndex = this._getRawIdx), i
    }),
    (l.prototype.minmaxDownSample = function(t, e) {
      for (
        var n = this.clone([t], !0),
          i = n._chunks,
          o = Math.floor(1 / e),
          r = i[t],
          a = this.count(),
          s = new (wg(this._rawCount))(2 * Math.ceil(a / o)),
          l = 0,
          u = 0;
        u < a;
        u += o
      ) {
        var h = u,
          c = r[this.getRawIndex(h)],
          p = u,
          d = r[this.getRawIndex(p)],
          f = o
        a < u + o && (f = a - u)
        for (var g = 0; g < f; g++) {
          var y = r[this.getRawIndex(u + g)]
          y < c && ((c = y), (h = u + g)), d < y && ((d = y), (p = u + g))
        }
        var m = this.getRawIndex(h),
          v = this.getRawIndex(p)
        h < p ? ((s[l++] = m), (s[l++] = v)) : ((s[l++] = v), (s[l++] = m))
      }
      return (n._count = l), (n._indices = s), n._updateGetRawIdx(), n
    }),
    (l.prototype.downSample = function(t, e, n, i) {
      for (
        var o = this.clone([t], !0),
          r = o._chunks,
          a = [],
          s = Math.floor(1 / e),
          l = r[t],
          u = this.count(),
          h = (o._rawExtent[t] = bg()),
          c = new (wg(this._rawCount))(Math.ceil(u / s)),
          p = 0,
          d = 0;
        d < u;
        d += s
      ) {
        u - d < s && (a.length = s = u - d)
        for (var f = 0; f < s; f++) {
          var g = this.getRawIndex(d + f)
          a[f] = l[g]
        }
        var y = n(a),
          m = this.getRawIndex(Math.min(d + i(a, y) || 0, u - 1))
        ;(l[m] = y) < h[0] && (h[0] = y), y > h[1] && (h[1] = y), (c[p++] = m)
      }
      return (o._count = p), (o._indices = c), o._updateGetRawIdx(), o
    }),
    (l.prototype.each = function(t, e) {
      if (this._count)
        for (var n = t.length, i = this._chunks, o = 0, r = this.count(); o < r; o++) {
          var a = this.getRawIndex(o)
          switch (n) {
            case 0:
              e(o)
              break
            case 1:
              e(i[t[0]][a], o)
              break
            case 2:
              e(i[t[0]][a], i[t[1]][a], o)
              break
            default:
              for (var s = 0, l = []; s < n; s++) l[s] = i[t[s]][a]
              ;(l[s] = o), e.apply(null, l)
          }
        }
    }),
    (l.prototype.getDataExtent = function(t) {
      var e = this._chunks[t],
        n = bg()
      if (!e) return n
      var i = this.count()
      if (!this._indices) return this._rawExtent[t].slice()
      if ((o = this._extent[t])) return o.slice()
      for (var o, r = (o = n)[0], a = o[1], s = 0; s < i; s++) {
        var l = e[this.getRawIndex(s)]
        l < r && (r = l), a < l && (a = l)
      }
      return (this._extent[t] = o = [r, a])
    }),
    (l.prototype.getRawDataItem = function(t) {
      var e = this.getRawIndex(t)
      if (this._provider.persistent) return this._provider.getItem(e)
      for (var n = [], i = this._chunks, o = 0; o < i.length; o++) n.push(i[o][e])
      return n
    }),
    (l.prototype.clone = function(t, e) {
      var n,
        i,
        o = new l(),
        r = this._chunks,
        a =
          t &&
          ut(
            t,
            function(t, e) {
              return (t[e] = !0), t
            },
            {}
          )
      if (a)
        for (var s = 0; s < r.length; s++)
          o._chunks[s] = a[s] ? ((n = r[s]), (i = void 0), (i = n.constructor) === Array ? n.slice() : new i(n)) : r[s]
      else o._chunks = r
      return this._copyCommonProps(o), e || (o._indices = this._cloneIndices()), o._updateGetRawIdx(), o
    }),
    (l.prototype._copyCommonProps = function(t) {
      ;(t._count = this._count),
        (t._rawCount = this._rawCount),
        (t._provider = this._provider),
        (t._dimensions = this._dimensions),
        (t._extent = y(this._extent)),
        (t._rawExtent = y(this._rawExtent))
    }),
    (l.prototype._cloneIndices = function() {
      if (this._indices) {
        var t = this._indices.constructor,
          e = void 0
        if (t === Array) for (var n = this._indices.length, e = new t(n), i = 0; i < n; i++) e[i] = this._indices[i]
        else e = new t(this._indices)
        return e
      }
      return null
    }),
    (l.prototype._getRawIdxIdentity = function(t) {
      return t
    }),
    (l.prototype._getRawIdx = function(t) {
      return t < this._count && 0 <= t ? this._indices[t] : -1
    }),
    (l.prototype._updateGetRawIdx = function() {
      this.getRawIndex = this._indices ? this._getRawIdx : this._getRawIdxIdentity
    }),
    (l.internalField = void (yg = {
      arrayRows: Tg,
      objectRows: function(t, e, n, i) {
        return $f(t[e], this._dimensions[i])
      },
      keyedColumns: Tg,
      original: function(t, e, n, i) {
        t = t && (null == t.value ? t : t.value)
        return $f(t instanceof Array ? t[i] : t, this._dimensions[i])
      },
      typedArray: function(t, e, n, i) {
        return t[i]
      },
    }))
  var Mg = l
  function l() {
    ;(this._chunks = []),
      (this._rawExtent = []),
      (this._extent = []),
      (this._count = 0),
      (this._rawCount = 0),
      (this._calcDimNameToIdx = N())
  }
  function Tg(t, e, n, i) {
    return $f(t[i], this._dimensions[i])
  }
  ;(Cg.prototype.dirty = function() {
    this._setLocalSource([], []), (this._storeList = []), (this._dirty = !0)
  }),
    (Cg.prototype._setLocalSource = function(t, e) {
      ;(this._sourceList = t),
        (this._upstreamSignList = e),
        this._versionSignBase++,
        9e10 < this._versionSignBase && (this._versionSignBase = 0)
    }),
    (Cg.prototype._getVersionSign = function() {
      return this._sourceHost.uid + '_' + this._versionSignBase
    }),
    (Cg.prototype.prepareSource = function() {
      this._isDirty() && (this._createSource(), (this._dirty = !1))
    }),
    (Cg.prototype._createSource = function() {
      this._setLocalSource([], [])
      var t,
        e,
        n,
        i,
        o,
        r,
        a,
        s = this._sourceHost,
        l = this._getUpstreamSourceManagers(),
        u = !!l.length
      Dg(s)
        ? ((i = s),
          (o = t = r = void 0),
          (e = u
            ? ((e = l[0]).prepareSource(), (r = (o = e.getSource()).data), (t = o.sourceFormat), [e._getVersionSign()])
            : ((t = ft((r = i.get('data', !0))) ? sd : id), [])),
          (i = this._getSourceMetaRawOption() || {}),
          (o = (o && o.metaRawOption) || {}),
          (a = R(i.seriesLayoutBy, o.seriesLayoutBy) || null),
          (n = R(i.sourceHeader, o.sourceHeader)),
          (i = R(i.dimensions, o.dimensions)),
          (o =
            a !== o.seriesLayoutBy || !!n != !!o.sourceHeader || i
              ? [pf(r, { seriesLayoutBy: a, sourceHeader: n, dimensions: i }, t)]
              : []))
        : ((r = s),
          (e = u
            ? ((o = (a = this._applyTransform(l)).sourceList), a.upstreamSignList)
            : ((o = [pf(r.get('source', !0), this._getSourceMetaRawOption(), null)]), []))),
        this._setLocalSource(o, e)
    }),
    (Cg.prototype._applyTransform = function(t) {
      var e,
        n = this._sourceHost,
        i = n.get('transform', !0),
        o = n.get('fromTransformResult', !0),
        r = (null != o && 1 !== t.length && kg(''), []),
        a = []
      return (
        E(t, function(t) {
          t.prepareSource()
          var e = t.getSource(o || 0)
          null == o || e || kg(''), r.push(e), a.push(t._getVersionSign())
        }),
        i
          ? (e = fg(i, r, n.componentIndex))
          : null != o &&
            (e = [
              new hf({
                data: (t = r[0]).data,
                sourceFormat: t.sourceFormat,
                seriesLayoutBy: t.seriesLayoutBy,
                dimensionsDefine: y(t.dimensionsDefine),
                startIndex: t.startIndex,
                dimensionsDetectedCount: t.dimensionsDetectedCount,
              }),
            ]),
        { sourceList: e, upstreamSignList: a }
      )
    }),
    (Cg.prototype._isDirty = function() {
      if (this._dirty) return !0
      for (var t = this._getUpstreamSourceManagers(), e = 0; e < t.length; e++) {
        var n = t[e]
        if (n._isDirty() || this._upstreamSignList[e] !== n._getVersionSign()) return !0
      }
    }),
    (Cg.prototype.getSource = function(t) {
      var e = this._sourceList[(t = t || 0)]
      return e || ((e = this._getUpstreamSourceManagers())[0] && e[0].getSource(t))
    }),
    (Cg.prototype.getSharedDataStore = function(t) {
      var e = t.makeStoreSchema()
      return this._innerGetDataStore(e.dimensions, t.source, e.hash)
    }),
    (Cg.prototype._innerGetDataStore = function(t, e, n) {
      var i,
        o = this._storeList,
        r = o[0],
        o = (r = r || (o[0] = {}))[n]
      return (
        o ||
          ((i = this._getUpstreamSourceManagers()[0]),
          Dg(this._sourceHost) && i ? (o = i._innerGetDataStore(t, e, n)) : (o = new Mg()).initData(new wf(e, t.length), t),
          (r[n] = o)),
        o
      )
    }),
    (Cg.prototype._getUpstreamSourceManagers = function() {
      var t,
        e = this._sourceHost
      return Dg(e)
        ? (t = gd(e))
          ? [t.getSourceManager()]
          : []
        : B(
            (t = e).get('transform', !0) || t.get('fromTransformResult', !0)
              ? Hr(t.ecModel, 'dataset', { index: t.get('fromDatasetIndex', !0), id: t.get('fromDatasetId', !0) }, Vr).models
              : [],
            function(t) {
              return t.getSourceManager()
            }
          )
    }),
    (Cg.prototype._getSourceMetaRawOption = function() {
      var t,
        e,
        n,
        i = this._sourceHost
      return (
        Dg(i)
          ? ((t = i.get('seriesLayoutBy', !0)), (e = i.get('sourceHeader', !0)), (n = i.get('dimensions', !0)))
          : this._getUpstreamSourceManagers().length ||
            ((t = (i = i).get('seriesLayoutBy', !0)), (e = i.get('sourceHeader', !0)), (n = i.get('dimensions', !0))),
        { seriesLayoutBy: t, sourceHeader: e, dimensions: n }
      )
    })
  var Ig = Cg
  function Cg(t) {
    ;(this._sourceList = []),
      (this._storeList = []),
      (this._upstreamSignList = []),
      (this._versionSignBase = 0),
      (this._dirty = !0),
      (this._sourceHost = t)
  }
  function Ag(t) {
    t.option.transform && Ct(t.option.transform)
  }
  function Dg(t) {
    return 'series' === t.mainType
  }
  function kg(t) {
    throw new Error(t)
  }
  var Lg = 'line-height:1'
  function Pg(t) {
    t = t.lineHeight
    return null == t ? Lg : 'line-height:' + ve(t + '') + 'px'
  }
  function Og(t, e) {
    var n = t.color || '#6e7079',
      i = t.fontSize || 12,
      o = t.fontWeight || '400',
      r = t.color || '#464646',
      a = t.fontSize || 14,
      t = t.fontWeight || '900'
    return 'html' === e
      ? {
          nameStyle: 'font-size:' + ve(i + '') + 'px;color:' + ve(n) + ';font-weight:' + ve(o + ''),
          valueStyle: 'font-size:' + ve(a + '') + 'px;color:' + ve(r) + ';font-weight:' + ve(t + ''),
        }
      : { nameStyle: { fontSize: i, fill: n, fontWeight: o }, valueStyle: { fontSize: a, fill: r, fontWeight: t } }
  }
  var Rg = [0, 10, 20, 30],
    Ng = ['', '\n', '\n\n', '\n\n\n']
  function Eg(t, e) {
    return (e.type = t), e
  }
  function zg(t) {
    return 'section' === t.type
  }
  function Bg(t) {
    return zg(t) ? Vg : Fg
  }
  function Vg(i, o, t, r) {
    var n,
      e = o.noHeader,
      a =
        ((l = (function n(t) {
          var i, e, o
          return zg(t)
            ? ((i = 0),
              (e = t.blocks.length),
              (o = 1 < e || (0 < e && !t.noHeader)),
              E(t.blocks, function(t) {
                var e = n(t)
                i <= e && (i = e + +(o && (!e || (zg(t) && !t.noHeader))))
              }),
              i)
            : 0
        })(o)),
        { html: Rg[l], richText: Ng[l] }),
      s = [],
      l = o.blocks || [],
      u = (Mt(!l || V(l)), (l = l || []), i.orderMode),
      h =
        (o.sortBlocks &&
          u &&
          ((l = l.slice()),
          zt((h = { valueAsc: 'asc', valueDesc: 'desc' }), u)
            ? ((n = new ig(h[u], null)),
              l.sort(function(t, e) {
                return n.evaluate(t.sortParam, e.sortParam)
              }))
            : 'seriesDesc' === u && l.reverse()),
        E(l, function(t, e) {
          var n = o.valueFormatter,
            n = Bg(t)(n ? P(P({}, i), { valueFormatter: n }) : i, t, 0 < e ? a.html : 0, r)
          null != n && s.push(n)
        }),
        'richText' === i.renderMode ? s.join(a.richText) : Gg(r, s.join(''), e ? t : a.html))
    return e
      ? h
      : ((u = Pp(o.header, 'ordinal', i.useUTC)),
        (l = Og(r, i.renderMode).nameStyle),
        (e = Pg(r)),
        'richText' === i.renderMode ? Wg(i, u, l) + a.richText + h : Gg(r, '<div style="' + l + ';' + e + ';">' + ve(u) + '</div>' + h, t))
  }
  function Fg(t, e, n, i) {
    var o,
      r,
      a,
      s,
      l,
      u = t.renderMode,
      h = e.noName,
      c = e.noValue,
      p = !e.markerType,
      d = e.name,
      f = t.useUTC,
      g =
        e.valueFormatter ||
        t.valueFormatter ||
        function(t) {
          return B((t = V(t) ? t : [t]), function(t, e) {
            return Pp(t, V(r) ? r[e] : r, f)
          })
        }
    if (!h || !c)
      return (
        (o = p ? '' : t.markupStyleCreator.makeTooltipMarker(e.markerType, e.markerColor || '#333', u)),
        (d = h ? '' : Pp(d, 'ordinal', f)),
        (r = e.valueType),
        (g = c ? [] : g(e.value, e.dataIndex)),
        (e = !p || !h),
        (a = !p && h),
        (l = Og(i, u)),
        (s = l.nameStyle),
        (l = l.valueStyle),
        'richText' === u
          ? (p ? '' : o) +
            (h ? '' : Wg(t, d, s)) +
            (c
              ? ''
              : (function(t, e, n, i, o) {
                  ;(o = [o]), (i = i ? 10 : 20)
                  return (
                    n && o.push({ padding: [0, 0, 0, i], align: 'right' }),
                    t.markupStyleCreator.wrapRichTextStyle(V(e) ? e.join('  ') : e, o)
                  )
                })(t, g, e, a, l))
          : Gg(
              i,
              (p ? '' : o) +
                (h ? '' : '<span style="' + s + ';' + (!p ? 'margin-left:2px' : '') + '">' + ve(d) + '</span>') +
                (c
                  ? ''
                  : (function(t, e, n, i) {
                      ;(n = n ? '10px' : '20px'), (e = e ? 'float:right;margin-left:' + n : '')
                      return (t = V(t) ? t : [t]), '<span style="' + e + ';' + i + '">' + B(t, ve).join('&nbsp;&nbsp;') + '</span>'
                    })(g, e, a, l)),
              n
            )
      )
  }
  function Hg(t, e, n, i, o, r) {
    if (t) return Bg(t)({ useUTC: o, renderMode: n, orderMode: i, markupStyleCreator: e, valueFormatter: t.valueFormatter }, t, 0, r)
  }
  function Gg(t, e, n) {
    return '<div style="' + ('margin: ' + n + 'px 0 0') + ';' + Pg(t) + ';">' + e + '<div style="clear:both"></div></div>'
  }
  function Wg(t, e, n) {
    return t.markupStyleCreator.wrapRichTextStyle(e, n)
  }
  function Ug(t, e) {
    t = t.get('padding')
    return null != t ? t : 'richText' === e ? [8, 10] : 10
  }
  ;(Xg.prototype._generateStyleName = function() {
    return '__EC_aUTo_' + this._nextStyleNameId++
  }),
    (Xg.prototype.makeTooltipMarker = function(t, e, n) {
      var i = 'richText' === n ? this._generateStyleName() : null,
        e = Ep({ color: e, type: t, renderMode: n, markerId: i })
      return F(e) ? e : ((this.richTextStyles[i] = e.style), e.content)
    }),
    (Xg.prototype.wrapRichTextStyle = function(t, e) {
      var n = {},
        e =
          (V(e)
            ? E(e, function(t) {
                return P(n, t)
              })
            : P(n, e),
          this._generateStyleName())
      return (this.richTextStyles[e] = n), '{' + e + '|' + t + '}'
    })
  var Yg = Xg
  function Xg() {
    ;(this.richTextStyles = {}), (this._nextStyleNameId = _r())
  }
  function Zg(t) {
    var e,
      n,
      i,
      o,
      r,
      a,
      s,
      l,
      u,
      h,
      c,
      p = t.series,
      d = t.dataIndex,
      t = t.multipleSeries,
      f = p.getData(),
      g = f.mapDimensionsAll('defaultedTooltip'),
      y = g.length,
      m = p.getRawValue(d),
      v = V(m),
      _ = ((_ = d), zp((w = p).getData().getItemVisual(_, 'style')[w.visualDrawType]))
    function x(t, e) {
      e = s.getDimensionInfo(e)
      e &&
        !1 !== e.otherDims.tooltip &&
        (l
          ? c.push(Eg('nameValue', { markerType: 'subItem', markerColor: a, name: e.displayName, value: t, valueType: e.type }))
          : (u.push(t), h.push(e.type)))
    }
    1 < y || (v && !y)
      ? ((w = m),
        (o = d),
        (r = g),
        (a = _),
        (s = p.getData()),
        (l = ut(
          w,
          function(t, e, n) {
            n = s.getDimensionInfo(n)
            return t || (n && !1 !== n.tooltip && null != n.displayName)
          },
          !1
        )),
        (u = []),
        (h = []),
        (c = []),
        r.length
          ? E(r, function(t) {
              x(Rf(s, o, t), t)
            })
          : E(w, x),
        (e = (r = { inlineValues: u, inlineValueTypes: h, blocks: c }).inlineValueTypes),
        (n = r.blocks),
        (i = (r = r.inlineValues)[0]))
      : y
      ? ((w = f.getDimensionInfo(g[0])), (i = r = Rf(f, d, g[0])), (e = w.type))
      : (i = r = v ? m[0] : m)
    var y = Lr(p),
      g = (y && p.name) || '',
      w = f.getName(d),
      v = t ? g : w
    return Eg('section', {
      header: g,
      noHeader: t || !y,
      sortParam: i,
      blocks: [
        Eg('nameValue', { markerType: 'item', markerColor: _, name: v, noName: !Tt(v), value: r, valueType: e, dataIndex: d }),
      ].concat(n || []),
    })
  }
  var qg = Nr()
  function jg(t, e) {
    return t.getName(e) || t.getId(e)
  }
  u(r, (Kg = g)),
    (r.prototype.init = function(t, e, n) {
      ;(this.seriesIndex = this.componentIndex),
        (this.dataTask = Vf({ count: Jg, reset: ty })),
        (this.dataTask.context = { model: this }),
        this.mergeDefaultAndTheme(t, n)
      ;(qg(this).sourceManager = new Ig(this)).prepareSource()
      t = this.getInitialData(t, n)
      ny(t, this), (this.dataTask.context.data = t), (qg(this).dataBeforeProcessed = t), Qg(this), this._initSelectedMapFromData(t)
    }),
    (r.prototype.mergeDefaultAndTheme = function(t, e) {
      var n = Yp(this),
        i = n ? Zp(t) : {},
        o = this.subType
      g.hasClass(o),
        d(t, e.getTheme().get(this.subType)),
        d(t, this.getDefaultOption()),
        Mr(t, 'label', ['show']),
        this.fillDataTextStyle(t.data),
        n && Xp(t, i, n)
    }),
    (r.prototype.mergeOption = function(t, e) {
      ;(t = d(this.option, t, !0)), this.fillDataTextStyle(t.data)
      var n = Yp(this),
        n = (n && Xp(this.option, t, n), qg(this).sourceManager),
        n = (n.dirty(), n.prepareSource(), this.getInitialData(t, e))
      ny(n, this),
        this.dataTask.dirty(),
        (this.dataTask.context.data = n),
        (qg(this).dataBeforeProcessed = n),
        Qg(this),
        this._initSelectedMapFromData(n)
    }),
    (r.prototype.fillDataTextStyle = function(t) {
      if (t && !ft(t)) for (var e = ['show'], n = 0; n < t.length; n++) t[n] && t[n].label && Mr(t[n], 'label', e)
    }),
    (r.prototype.getInitialData = function(t, e) {}),
    (r.prototype.appendData = function(t) {
      this.getRawData().appendData(t.data)
    }),
    (r.prototype.getData = function(t) {
      var e = oy(this)
      return e ? ((e = e.context.data), null != t && e.getLinkedData ? e.getLinkedData(t) : e) : qg(this).data
    }),
    (r.prototype.getAllData = function() {
      var t = this.getData()
      return t && t.getLinkedDataAll ? t.getLinkedDataAll() : [{ data: t }]
    }),
    (r.prototype.setData = function(t) {
      var e,
        n = oy(this)
      n && (((e = n.context).outputData = t), n !== this.dataTask) && (e.data = t), (qg(this).data = t)
    }),
    (r.prototype.getEncode = function() {
      var t = this.get('encode', !0)
      if (t) return N(t)
    }),
    (r.prototype.getSourceManager = function() {
      return qg(this).sourceManager
    }),
    (r.prototype.getSource = function() {
      return this.getSourceManager().getSource()
    }),
    (r.prototype.getRawData = function() {
      return qg(this).dataBeforeProcessed
    }),
    (r.prototype.getColorBy = function() {
      return this.get('colorBy') || 'series'
    }),
    (r.prototype.isColorBySeries = function() {
      return 'series' === this.getColorBy()
    }),
    (r.prototype.getBaseAxis = function() {
      var t = this.coordinateSystem
      return t && t.getBaseAxis && t.getBaseAxis()
    }),
    (r.prototype.formatTooltip = function(t, e, n) {
      return Zg({ series: this, dataIndex: t, multipleSeries: e })
    }),
    (r.prototype.isAnimationEnabled = function() {
      var t = this.ecModel
      return (
        !!(!b.node || (t && t.ssr)) &&
        !!(t = (t = this.getShallow('animation')) && this.getData().count() > this.getShallow('animationThreshold') ? !1 : t)
      )
    }),
    (r.prototype.restoreData = function() {
      this.dataTask.dirty()
    }),
    (r.prototype.getColorFromPalette = function(t, e, n) {
      var i = this.ecModel
      return Sd.prototype.getColorFromPalette.call(this, t, e, n) || i.getColorFromPalette(t, e, n)
    }),
    (r.prototype.coordDimToDataDim = function(t) {
      return this.getRawData().mapDimensionsAll(t)
    }),
    (r.prototype.getProgressive = function() {
      return this.get('progressive')
    }),
    (r.prototype.getProgressiveThreshold = function() {
      return this.get('progressiveThreshold')
    }),
    (r.prototype.select = function(t, e) {
      this._innerSelect(this.getData(e), t)
    }),
    (r.prototype.unselect = function(t, e) {
      var n = this.option.selectedMap
      if (n) {
        var i = this.option.selectedMode,
          o = this.getData(e)
        if ('series' === i || 'all' === n) (this.option.selectedMap = {}), (this._selectedDataIndicesMap = {})
        else
          for (var r = 0; r < t.length; r++) {
            var a = jg(o, t[r])
            ;(n[a] = !1), (this._selectedDataIndicesMap[a] = -1)
          }
      }
    }),
    (r.prototype.toggleSelect = function(t, e) {
      for (var n = [], i = 0; i < t.length; i++) (n[0] = t[i]), this.isSelected(t[i], e) ? this.unselect(n, e) : this.select(n, e)
    }),
    (r.prototype.getSelectedDataIndices = function() {
      if ('all' === this.option.selectedMap) return [].slice.call(this.getData().getIndices())
      for (var t = this._selectedDataIndicesMap, e = ct(t), n = [], i = 0; i < e.length; i++) {
        var o = t[e[i]]
        0 <= o && n.push(o)
      }
      return n
    }),
    (r.prototype.isSelected = function(t, e) {
      var n = this.option.selectedMap
      return !!n && ((e = this.getData(e)), 'all' === n || n[jg(e, t)]) && !e.getItemModel(t).get(['select', 'disabled'])
    }),
    (r.prototype.isUniversalTransitionEnabled = function() {
      var t
      return !!this.__universalTransitionEnabled || (!!(t = this.option.universalTransition) && (!0 === t || (t && t.enabled)))
    }),
    (r.prototype._innerSelect = function(t, e) {
      var n = this.option,
        i = n.selectedMode,
        o = e.length
      if (i && o)
        if ('series' === i) n.selectedMap = 'all'
        else if ('multiple' === i) {
          O(n.selectedMap) || (n.selectedMap = {})
          for (var r = n.selectedMap, a = 0; a < o; a++) {
            var s,
              l = e[a]
            ;(r[(s = jg(t, l))] = !0), (this._selectedDataIndicesMap[s] = t.getRawIndex(l))
          }
        } else
          ('single' !== i && !0 !== i) ||
            ((s = jg(t, (i = e[o - 1]))),
            (n.selectedMap = (((n = {})[s] = !0), n)),
            (this._selectedDataIndicesMap = (((n = {})[s] = t.getRawIndex(i)), n)))
    }),
    (r.prototype._initSelectedMapFromData = function(n) {
      var i
      this.option.selectedMap ||
        ((i = []),
        n.hasItemOption &&
          n.each(function(t) {
            var e = n.getRawDataItem(t)
            e && e.selected && i.push(t)
          }),
        0 < i.length && this._innerSelect(n, i))
    }),
    (r.registerClass = function(t) {
      return g.registerClass(t)
    }),
    (r.protoInitialize =
      (((sp = r.prototype).type = 'series.__base__'),
      (sp.seriesIndex = 0),
      (sp.ignoreStyleOnData = !1),
      (sp.hasSymbolVisual = !1),
      (sp.defaultSymbol = 'circle'),
      (sp.visualStyleAccessPath = 'itemStyle'),
      void (sp.visualDrawType = 'fill')))
  var Kg,
    $g = r
  function r() {
    var t = (null !== Kg && Kg.apply(this, arguments)) || this
    return (t._selectedDataIndicesMap = {}), t
  }
  function Qg(t) {
    var e,
      n,
      i = t.name
    Lr(t) ||
      (t.name =
        ((t = (e = (t = t).getRawData()).mapDimensionsAll('seriesName')),
        (n = []),
        E(t, function(t) {
          t = e.getDimensionInfo(t)
          t.displayName && n.push(t.displayName)
        }),
        n.join(' ') || i))
  }
  function Jg(t) {
    return t.model.getRawData().count()
  }
  function ty(t) {
    t = t.model
    return t.setData(t.getRawData().cloneShallow()), ey
  }
  function ey(t, e) {
    e.outputData && t.end > e.outputData.count() && e.model.getRawData().cloneShallow(e.outputData)
  }
  function ny(e, n) {
    E(Rt(e.CHANGABLE_METHODS, e.DOWNSAMPLE_METHODS), function(t) {
      e.wrapMethod(t, M(iy, n))
    })
  }
  function iy(t, e) {
    t = oy(t)
    return t && t.setOutputEnd((e || this).count()), e
  }
  function oy(t) {
    var e,
      n = (t.ecModel || {}).scheduler,
      n = n && n.getPipeline(t.uid)
    if (n) return (n = n.currentTask) && (e = n.agentStubMap) ? e.get(t.uid) : n
  }
  st($g, Ef), st($g, Sd), jr($g, g)
  ;(ay.prototype.init = function(t, e) {}),
    (ay.prototype.render = function(t, e, n, i) {}),
    (ay.prototype.dispose = function(t, e) {}),
    (ay.prototype.updateView = function(t, e, n, i) {}),
    (ay.prototype.updateLayout = function(t, e, n, i) {}),
    (ay.prototype.updateVisual = function(t, e, n, i) {}),
    (ay.prototype.toggleBlurSeries = function(t, e, n) {}),
    (ay.prototype.eachRendered = function(t) {
      var e = this.group
      e && e.traverse(t)
    })
  var ry = ay
  function ay() {
    ;(this.group = new Yo()), (this.uid = Zc('viewComponent'))
  }
  function sy() {
    var r = Nr()
    return function(t) {
      var e = r(t),
        t = t.pipelineContext,
        n = !!e.large,
        i = !!e.progressiveRender,
        o = (e.large = !(!t || !t.large)),
        e = (e.progressiveRender = !(!t || !t.progressiveRender))
      return !(n == o && i == e) && 'reset'
    }
  }
  qr(ry), Jr(ry)
  var ly = Nr(),
    uy = sy(),
    hy =
      ((cy.prototype.init = function(t, e) {}),
      (cy.prototype.render = function(t, e, n, i) {}),
      (cy.prototype.highlight = function(t, e, n, i) {
        t = t.getData(i && i.dataType)
        t && dy(t, i, 'emphasis')
      }),
      (cy.prototype.downplay = function(t, e, n, i) {
        t = t.getData(i && i.dataType)
        t && dy(t, i, 'normal')
      }),
      (cy.prototype.remove = function(t, e) {
        this.group.removeAll()
      }),
      (cy.prototype.dispose = function(t, e) {}),
      (cy.prototype.updateView = function(t, e, n, i) {
        this.render(t, e, n, i)
      }),
      (cy.prototype.updateLayout = function(t, e, n, i) {
        this.render(t, e, n, i)
      }),
      (cy.prototype.updateVisual = function(t, e, n, i) {
        this.render(t, e, n, i)
      }),
      (cy.prototype.eachRendered = function(t) {
        gc(this.group, t)
      }),
      (cy.markUpdateMethod = function(t, e) {
        ly(t).updateMethod = e
      }),
      (cy.protoInitialize = void (cy.prototype.type = 'chart')),
      cy)
  function cy() {
    ;(this.group = new Yo()),
      (this.uid = Zc('viewChart')),
      (this.renderTask = Vf({ plan: fy, reset: gy })),
      (this.renderTask.context = { view: this })
  }
  function py(t, e, n) {
    t && ql(t) && ('emphasis' === e ? kl : Ll)(t, n)
  }
  function dy(e, t, n) {
    var i,
      o = Rr(e, t),
      r = t && null != t.highlightKey ? ((t = t.highlightKey), (i = null == (i = el[t]) && tl <= 32 ? (el[t] = tl++) : i)) : null
    null != o
      ? E(Sr(o), function(t) {
          py(e.getItemGraphicEl(t), n, r)
        })
      : e.eachItemGraphicEl(function(t) {
          py(t, n, r)
        })
  }
  function fy(t) {
    return uy(t.model)
  }
  function gy(t) {
    var e = t.model,
      n = t.ecModel,
      i = t.api,
      o = t.payload,
      r = e.pipelineContext.progressiveRender,
      t = t.view,
      a = o && ly(o).updateMethod,
      r = r ? 'incrementalPrepareRender' : a && t[a] ? a : 'render'
    return 'render' !== r && t[r](e, n, i, o), yy[r]
  }
  qr(hy), Jr(hy)
  var yy = {
      incrementalPrepareRender: {
        progress: function(t, e) {
          e.view.incrementalRender(t, e.model, e.ecModel, e.api, e.payload)
        },
      },
      render: {
        forceFirstProgress: !0,
        progress: function(t, e) {
          e.view.render(e.model, e.ecModel, e.api, e.payload)
        },
      },
    },
    my = '\0__throttleOriginMethod',
    vy = '\0__throttleRate',
    _y = '\0__throttleType'
  function xy(t, o, r) {
    var a,
      s,
      l,
      u,
      h,
      c = 0,
      p = 0,
      d = null
    function f() {
      ;(p = new Date().getTime()), (d = null), t.apply(l, u || [])
    }
    o = o || 0
    function e() {
      for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e]
      ;(a = new Date().getTime()), (l = this), (u = t)
      var n = h || o,
        i = h || r
      ;(h = null), (s = a - (i ? c : p) - n), clearTimeout(d), i ? (d = setTimeout(f, n)) : 0 <= s ? f() : (d = setTimeout(f, -s)), (c = a)
    }
    return (
      (e.clear = function() {
        d && (clearTimeout(d), (d = null))
      }),
      (e.debounceNextCall = function(t) {
        h = t
      }),
      e
    )
  }
  function wy(t, e, n, i) {
    var o = t[e]
    if (o) {
      var r = o[my] || o,
        a = o[_y]
      if (o[vy] !== n || a !== i) {
        if (null == n || !i) return (t[e] = r)
        ;((o = t[e] = xy(r, n, 'debounce' === i))[my] = r), (o[_y] = i), (o[vy] = n)
      }
    }
  }
  function by(t, e) {
    var n = t[e]
    n && n[my] && (n.clear && n.clear(), (t[e] = n[my]))
  }
  var Sy = Nr(),
    My = { itemStyle: ta(Vc, !0), lineStyle: ta(Nc, !0) },
    Ty = { lineStyle: 'stroke', itemStyle: 'fill' }
  function Iy(t, e) {
    t = t.visualStyleMapper || My[e]
    return t || (console.warn("Unknown style type '" + e + "'."), My.itemStyle)
  }
  function Cy(t, e) {
    t = t.visualDrawType || Ty[e]
    return t || (console.warn("Unknown style type '" + e + "'."), 'fill')
  }
  var zc = {
      createOnAllSeries: !0,
      performRawSeries: !0,
      reset: function(o, t) {
        var e = o.getData(),
          n = o.visualStyleAccessPath || 'itemStyle',
          i = o.getModel(n),
          r = Iy(o, n)(i),
          i = i.getShallow('decal'),
          a = (i && (e.setVisual('decal', i), (i.dirty = !0)), Cy(o, n)),
          i = r[a],
          s = A(i) ? i : null,
          n = 'auto' === r.fill || 'auto' === r.stroke
        if (
          ((r[a] && !s && !n) ||
            ((i = o.getColorFromPalette(o.name, null, t.getSeriesCount())),
            r[a] || ((r[a] = i), e.setVisual('colorFromPalette', !0)),
            (r.fill = 'auto' === r.fill || A(r.fill) ? i : r.fill),
            (r.stroke = 'auto' === r.stroke || A(r.stroke) ? i : r.stroke)),
          e.setVisual('style', r),
          e.setVisual('drawType', a),
          !t.isSeriesFiltered(o) && s)
        )
          return (
            e.setVisual('colorFromPalette', !1),
            {
              dataEach: function(t, e) {
                var n = o.getDataParams(e),
                  i = P({}, r)
                ;(i[a] = s(n)), t.setItemVisual(e, 'style', i)
              },
            }
          )
      },
    },
    Ay = new Uc(),
    na = {
      createOnAllSeries: !0,
      performRawSeries: !0,
      reset: function(t, e) {
        var i, o, r
        if (!t.ignoreStyleOnData && !e.isSeriesFiltered(t))
          return (
            (e = t.getData()),
            (i = t.visualStyleAccessPath || 'itemStyle'),
            (o = Iy(t, i)),
            (r = e.getVisual('drawType')),
            {
              dataEach: e.hasItemOption
                ? function(t, e) {
                    var n = t.getRawDataItem(e)
                    n &&
                      n[i] &&
                      ((Ay.option = n[i]),
                      (n = o(Ay)),
                      P(t.ensureUniqueItemVisual(e, 'style'), n),
                      Ay.option.decal && (t.setItemVisual(e, 'decal', Ay.option.decal), (Ay.option.decal.dirty = !0)),
                      r in n) &&
                      t.setItemVisual(e, 'colorFromPalette', !1)
                  }
                : null,
            }
          )
      },
    },
    Hc = {
      performRawSeries: !0,
      overallReset: function(e) {
        var i = N()
        e.eachSeries(function(t) {
          var e,
            n = t.getColorBy()
          t.isColorBySeries() || ((n = t.type + '-' + n), (e = i.get(n)) || i.set(n, (e = {})), (Sy(t).scope = e))
        }),
          e.eachSeries(function(i) {
            var o, r, a, s, t, l
            i.isColorBySeries() ||
              e.isSeriesFiltered(i) ||
              ((o = i.getRawData()),
              (r = {}),
              (a = i.getData()),
              (s = Sy(i).scope),
              (t = i.visualStyleAccessPath || 'itemStyle'),
              (l = Cy(i, t)),
              a.each(function(t) {
                var e = a.getRawIndex(t)
                r[e] = t
              }),
              o.each(function(t) {
                var e,
                  n = r[t]
                a.getItemVisual(n, 'colorFromPalette') &&
                  ((n = a.ensureUniqueItemVisual(n, 'style')),
                  (t = o.getName(t) || t + ''),
                  (e = o.count()),
                  (n[l] = i.getColorFromPalette(t, s, e)))
              }))
          })
      },
    },
    Dy = Math.PI
  ;(Ly.prototype.restoreData = function(t, e) {
    t.restoreData(e),
      this._stageTaskMap.each(function(t) {
        t = t.overallTask
        t && t.dirty()
      })
  }),
    (Ly.prototype.getPerformArgs = function(t, e) {
      var n, i
      if (t.__pipeline)
        return (
          (i = (n = this._pipelineMap.get(t.__pipeline.id)).context),
          {
            step: (e = !e && n.progressiveEnabled && (!i || i.progressiveRender) && t.__idxInPipeline > n.blockIndex ? n.step : null),
            modBy: null != (t = i && i.modDataCount) ? Math.ceil(t / e) : null,
            modDataCount: t,
          }
        )
    }),
    (Ly.prototype.getPipeline = function(t) {
      return this._pipelineMap.get(t)
    }),
    (Ly.prototype.updateStreamModes = function(t, e) {
      var n = this._pipelineMap.get(t.uid),
        i = t.getData().count(),
        e = n.progressiveEnabled && e.incrementalPrepareRender && i >= n.threshold,
        o = t.get('large') && i >= t.get('largeThreshold'),
        i = 'mod' === t.get('progressiveChunkMode') ? i : null
      t.pipelineContext = n.context = { progressiveRender: e, modDataCount: i, large: o }
    }),
    (Ly.prototype.restorePipelines = function(t) {
      var i = this,
        o = (i._pipelineMap = N())
      t.eachSeries(function(t) {
        var e = t.getProgressive(),
          n = t.uid
        o.set(n, {
          id: n,
          head: null,
          tail: null,
          threshold: t.getProgressiveThreshold(),
          progressiveEnabled: e && !(t.preventIncremental && t.preventIncremental()),
          blockIndex: -1,
          step: Math.round(e || 700),
          count: 0,
        }),
          i._pipe(t, t.dataTask)
      })
    }),
    (Ly.prototype.prepareStageTasks = function() {
      var n = this._stageTaskMap,
        i = this.api.getModel(),
        o = this.api
      E(
        this._allHandlers,
        function(t) {
          var e = n.get(t.uid) || n.set(t.uid, {})
          Mt(!(t.reset && t.overallReset), ''),
            t.reset && this._createSeriesStageTask(t, e, i, o),
            t.overallReset && this._createOverallStageTask(t, e, i, o)
        },
        this
      )
    }),
    (Ly.prototype.prepareView = function(t, e, n, i) {
      var o = t.renderTask,
        r = o.context
      ;(r.model = e), (r.ecModel = n), (r.api = i), (o.__block = !t.incrementalPrepareRender), this._pipe(e, o)
    }),
    (Ly.prototype.performDataProcessorTasks = function(t, e) {
      this._performStageTasks(this._dataProcessorHandlers, t, e, { block: !0 })
    }),
    (Ly.prototype.performVisualTasks = function(t, e, n) {
      this._performStageTasks(this._visualHandlers, t, e, n)
    }),
    (Ly.prototype._performStageTasks = function(t, s, l, u) {
      u = u || {}
      var h = !1,
        c = this
      function p(t, e) {
        return t.setDirty && (!t.dirtyMap || t.dirtyMap.get(e.__pipeline.id))
      }
      E(t, function(i, t) {
        var e, n, o, r, a
        ;(u.visualType && u.visualType !== i.visualType) ||
          ((e = (n = c._stageTaskMap.get(i.uid)).seriesTaskMap),
          (n = n.overallTask)
            ? ((r = n.agentStubMap).each(function(t) {
                p(u, t) && (t.dirty(), (o = !0))
              }),
              o && n.dirty(),
              c.updatePayload(n, l),
              (a = c.getPerformArgs(n, u.block)),
              r.each(function(t) {
                t.perform(a)
              }),
              n.perform(a) && (h = !0))
            : e &&
              e.each(function(t, e) {
                p(u, t) && t.dirty()
                var n = c.getPerformArgs(t, u.block)
                ;(n.skip = !i.performRawSeries && s.isSeriesFiltered(t.context.model)), c.updatePayload(t, l), t.perform(n) && (h = !0)
              }))
      }),
        (this.unfinished = h || this.unfinished)
    }),
    (Ly.prototype.performSeriesTasks = function(t) {
      var e
      t.eachSeries(function(t) {
        e = t.dataTask.perform() || e
      }),
        (this.unfinished = e || this.unfinished)
    }),
    (Ly.prototype.plan = function() {
      this._pipelineMap.each(function(t) {
        var e = t.tail
        do {
          if (e.__block) {
            t.blockIndex = e.__idxInPipeline
            break
          }
        } while ((e = e.getUpstream()))
      })
    }),
    (Ly.prototype.updatePayload = function(t, e) {
      'remain' !== e && (t.context.payload = e)
    }),
    (Ly.prototype._createSeriesStageTask = function(n, t, i, o) {
      var r = this,
        a = t.seriesTaskMap,
        s = (t.seriesTaskMap = N()),
        t = n.seriesType,
        e = n.getTargetSeries
      function l(t) {
        var e = t.uid,
          e = s.set(e, (a && a.get(e)) || Vf({ plan: Ey, reset: zy, count: Fy }))
        ;(e.context = {
          model: t,
          ecModel: i,
          api: o,
          useClearVisual: n.isVisual && !n.isLayout,
          plan: n.plan,
          reset: n.reset,
          scheduler: r,
        }),
          r._pipe(t, e)
      }
      n.createOnAllSeries ? i.eachRawSeries(l) : t ? i.eachRawSeriesByType(t, l) : e && e(i, o).each(l)
    }),
    (Ly.prototype._createOverallStageTask = function(t, e, n, i) {
      var o = this,
        r = (e.overallTask = e.overallTask || Vf({ reset: Py })),
        a = ((r.context = { ecModel: n, api: i, overallReset: t.overallReset, scheduler: o }), r.agentStubMap),
        s = (r.agentStubMap = N()),
        e = t.seriesType,
        l = t.getTargetSeries,
        u = !0,
        h = !1
      function c(t) {
        var e = t.uid,
          e = s.set(e, (a && a.get(e)) || ((h = !0), Vf({ reset: Oy, onDirty: Ny })))
        ;(e.context = { model: t, overallProgress: u }), (e.agent = r), (e.__block = u), o._pipe(t, e)
      }
      Mt(!t.createOnAllSeries, ''), e ? n.eachRawSeriesByType(e, c) : l ? l(n, i).each(c) : ((u = !1), E(n.getSeries(), c)), h && r.dirty()
    }),
    (Ly.prototype._pipe = function(t, e) {
      ;(t = t.uid), (t = this._pipelineMap.get(t))
      t.head || (t.head = e), t.tail && t.tail.pipe(e), ((t.tail = e).__idxInPipeline = t.count++), (e.__pipeline = t)
    }),
    (Ly.wrapStageHandler = function(t, e) {
      return (
        ((t = A(t)
          ? {
              overallReset: t,
              seriesType: (function(t) {
                Hy = null
                try {
                  t(Gy, Wy)
                } catch (t) {}
                return Hy
              })(t),
            }
          : t).uid = Zc('stageHandler')),
        e && (t.visualType = e),
        t
      )
    })
  var ky = Ly
  function Ly(t, e, n, i) {
    ;(this._stageTaskMap = N()),
      (this.ecInstance = t),
      (this.api = e),
      (n = this._dataProcessorHandlers = n.slice()),
      (i = this._visualHandlers = i.slice()),
      (this._allHandlers = n.concat(i))
  }
  function Py(t) {
    t.overallReset(t.ecModel, t.api, t.payload)
  }
  function Oy(t) {
    return t.overallProgress && Ry
  }
  function Ry() {
    this.agent.dirty(), this.getDownstream().dirty()
  }
  function Ny() {
    this.agent && this.agent.dirty()
  }
  function Ey(t) {
    return t.plan ? t.plan(t.model, t.ecModel, t.api, t.payload) : null
  }
  function zy(t) {
    t.useClearVisual && t.data.clearAllVisual()
    t = t.resetDefines = Sr(t.reset(t.model, t.ecModel, t.api, t.payload))
    return 1 < t.length
      ? B(t, function(t, e) {
          return Vy(e)
        })
      : By
  }
  var By = Vy(0)
  function Vy(r) {
    return function(t, e) {
      var n = e.data,
        i = e.resetDefines[r]
      if (i && i.dataEach) for (var o = t.start; o < t.end; o++) i.dataEach(n, o)
      else i && i.progress && i.progress(t, n)
    }
  }
  function Fy(t) {
    return t.data.count()
  }
  var Hy,
    Gy = {},
    Wy = {}
  function Uy(t, e) {
    for (var n in e.prototype) t[n] = Bt
  }
  Uy(Gy, Ad),
    Uy(Wy, Od),
    (Gy.eachSeriesByType = Gy.eachRawSeriesByType = function(t) {
      Hy = t
    }),
    (Gy.eachComponent = function(t) {
      'series' === t.mainType && t.subType && (Hy = t.subType)
    })
  function Yy() {
    return {
      axisLine: { lineStyle: { color: Xy } },
      splitLine: { lineStyle: { color: '#484753' } },
      splitArea: { areaStyle: { color: ['rgba(255,255,255,0.02)', 'rgba(255,255,255,0.05)'] } },
      minorSplitLine: { lineStyle: { color: '#20203B' } },
    }
  }
  var ic = [
      '#37A2DA',
      '#32C5E9',
      '#67E0E3',
      '#9FE6B8',
      '#FFDB5C',
      '#ff9f7f',
      '#fb7293',
      '#E062AE',
      '#E690D1',
      '#e7bcf3',
      '#9d96f5',
      '#8378EA',
      '#96BFFF',
    ],
    sp = {
      color: ic,
      colorLayer: [
        ['#37A2DA', '#ffd85c', '#fd7b5f'],
        ['#37A2DA', '#67E0E3', '#FFDB5C', '#ff9f7f', '#E062AE', '#9d96f5'],
        ['#37A2DA', '#32C5E9', '#9FE6B8', '#FFDB5C', '#ff9f7f', '#fb7293', '#e7bcf3', '#8378EA', '#96BFFF'],
        ic,
      ],
    },
    Xy = '#B9B8CE',
    Vc = '#100C2A',
    Nc = ['#4992ff', '#7cffb2', '#fddd60', '#ff6e76', '#58d9f9', '#05c091', '#ff8a45', '#8d48e3', '#dd79ff'],
    ic = {
      darkMode: !0,
      color: Nc,
      backgroundColor: Vc,
      axisPointer: { lineStyle: { color: '#817f91' }, crossStyle: { color: '#817f91' }, label: { color: '#fff' } },
      legend: { textStyle: { color: Xy }, pageTextStyle: { color: Xy } },
      textStyle: { color: Xy },
      title: { textStyle: { color: '#EEF1FA' }, subtextStyle: { color: '#B9B8CE' } },
      toolbox: { iconStyle: { borderColor: Xy } },
      dataZoom: {
        borderColor: '#71708A',
        textStyle: { color: Xy },
        brushStyle: { color: 'rgba(135,163,206,0.3)' },
        handleStyle: { color: '#353450', borderColor: '#C5CBE3' },
        moveHandleStyle: { color: '#B0B6C3', opacity: 0.3 },
        fillerColor: 'rgba(135,163,206,0.2)',
        emphasis: { handleStyle: { borderColor: '#91B7F2', color: '#4D587D' }, moveHandleStyle: { color: '#636D9A', opacity: 0.7 } },
        dataBackground: { lineStyle: { color: '#71708A', width: 1 }, areaStyle: { color: '#71708A' } },
        selectedDataBackground: { lineStyle: { color: '#87A3CE' }, areaStyle: { color: '#87A3CE' } },
      },
      visualMap: { textStyle: { color: Xy } },
      timeline: { lineStyle: { color: Xy }, label: { color: Xy }, controlStyle: { color: Xy, borderColor: Xy } },
      calendar: { itemStyle: { color: Vc }, dayLabel: { color: Xy }, monthLabel: { color: Xy }, yearLabel: { color: Xy } },
      timeAxis: Yy(),
      logAxis: Yy(),
      valueAxis: Yy(),
      categoryAxis: Yy(),
      line: { symbol: 'circle' },
      graph: { color: Nc },
      gauge: {
        title: { color: Xy },
        axisLine: { lineStyle: { color: [[1, 'rgba(207,212,219,0.2)']] } },
        axisLabel: { color: Xy },
        detail: { color: '#EEF1FA' },
      },
      candlestick: { itemStyle: { color: '#f64e56', color0: '#54ea92', borderColor: '#f64e56', borderColor0: '#54ea92' } },
    },
    Zy =
      ((ic.categoryAxis.splitLine.show = !1),
      (qy.prototype.normalizeQuery = function(t) {
        var e,
          a,
          s,
          l = {},
          u = {},
          h = {}
        return (
          F(t)
            ? ((e = Zr(t)), (l.mainType = e.main || null), (l.subType = e.sub || null))
            : ((a = ['Index', 'Name', 'Id']),
              (s = { name: 1, dataIndex: 1, dataType: 1 }),
              E(t, function(t, e) {
                for (var n = !1, i = 0; i < a.length; i++) {
                  var o = a[i],
                    r = e.lastIndexOf(o)
                  0 < r &&
                    r === e.length - o.length &&
                    'data' !== (r = e.slice(0, r)) &&
                    ((l.mainType = r), (l[o.toLowerCase()] = t), (n = !0))
                }
                s.hasOwnProperty(e) && ((u[e] = t), (n = !0)), n || (h[e] = t)
              })),
          { cptQuery: l, dataQuery: u, otherQuery: h }
        )
      }),
      (qy.prototype.filter = function(t, e) {
        var n,
          i,
          o,
          r,
          a,
          s = this.eventInfo
        return (
          !s ||
          ((n = s.targetEl), (i = s.packedEvent), (o = s.model), (s = s.view), !o) ||
          !s ||
          ((r = e.cptQuery),
          (a = e.dataQuery),
          l(r, o, 'mainType') &&
            l(r, o, 'subType') &&
            l(r, o, 'index', 'componentIndex') &&
            l(r, o, 'name') &&
            l(r, o, 'id') &&
            l(a, i, 'name') &&
            l(a, i, 'dataIndex') &&
            l(a, i, 'dataType') &&
            (!s.filterForExposedEvent || s.filterForExposedEvent(t, e.otherQuery, n, i)))
        )
        function l(t, e, n, i) {
          return null == t[n] || e[i || n] === t[n]
        }
      }),
      (qy.prototype.afterTrigger = function() {
        this.eventInfo = null
      }),
      qy)
  function qy() {}
  var jy = ['symbol', 'symbolSize', 'symbolRotate', 'symbolOffset'],
    Ky = jy.concat(['symbolKeepAspect']),
    Vc = {
      createOnAllSeries: !0,
      performRawSeries: !0,
      reset: function(a, t) {
        var e = a.getData()
        if ((a.legendIcon && e.setVisual('legendIcon', a.legendIcon), a.hasSymbolVisual)) {
          for (var s, n = {}, l = {}, i = !1, o = 0; o < jy.length; o++) {
            var r = jy[o],
              u = a.get(r)
            A(u) ? ((i = !0), (l[r] = u)) : (n[r] = u)
          }
          if (
            ((n.symbol = n.symbol || a.defaultSymbol),
            e.setVisual(P({ legendIcon: a.legendIcon || n.symbol, symbolKeepAspect: a.get('symbolKeepAspect') }, n)),
            !t.isSeriesFiltered(a))
          )
            return (
              (s = ct(l)),
              {
                dataEach: i
                  ? function(t, e) {
                      for (var n = a.getRawValue(e), i = a.getDataParams(e), o = 0; o < s.length; o++) {
                        var r = s[o]
                        t.setItemVisual(e, r, l[r](n, i))
                      }
                    }
                  : null,
              }
            )
        }
      },
    },
    Nc = {
      createOnAllSeries: !0,
      performRawSeries: !0,
      reset: function(t, e) {
        if (t.hasSymbolVisual && !e.isSeriesFiltered(t))
          return {
            dataEach: t.getData().hasItemOption
              ? function(t, e) {
                  for (var n = t.getItemModel(e), i = 0; i < Ky.length; i++) {
                    var o = Ky[i],
                      r = n.getShallow(o, !0)
                    null != r && t.setItemVisual(e, o, r)
                  }
                }
              : null,
          }
      },
    }
  function $y(t, e) {
    switch (e) {
      case 'color':
        return t.getVisual('style')[t.getVisual('drawType')]
      case 'opacity':
        return t.getVisual('style').opacity
      case 'symbol':
      case 'symbolSize':
      case 'liftZ':
        return t.getVisual(e)
    }
  }
  function Qy(r, t) {
    E(
      [
        [r + 'ToggleSelect', 'toggleSelect'],
        [r + 'Select', 'select'],
        [r + 'UnSelect', 'unselect'],
      ],
      function(o) {
        t(o[0], function(t, e, n) {
          var i
          ;(t = P({}, t)),
            n.dispatchAction(
              P(t, {
                type: o[1],
                seriesIndex:
                  ((n = t),
                  (i = []),
                  e.eachComponent({ mainType: 'series', subType: r, query: n }, function(t) {
                    i.push(t.seriesIndex)
                  }),
                  i),
              })
            )
        })
      }
    )
  }
  function Jy(t, e, s, n, l) {
    var u = t + e
    s.isSilent(u) ||
      n.eachComponent({ mainType: 'series', subType: 'pie' }, function(t) {
        for (var e, n, i = t.seriesIndex, o = t.option.selectedMap, r = l.selected, a = 0; a < r.length; a++)
          r[a].seriesIndex === i &&
            ((n = Rr((e = t.getData()), l.fromActionPayload)),
            s.trigger(u, { type: u, seriesId: t.id, name: V(n) ? e.getName(n[0]) : e.getName(n), selected: F(o) ? o : P({}, o) }))
      })
  }
  function tm(t, e, n) {
    for (var i; t && (!e(t) || ((i = t), !n)); ) t = t.__hostTarget || t.parent
    return i
  }
  var em = Math.round(9 * Math.random()),
    nm = 'function' == typeof Object.defineProperty,
    im =
      ((om.prototype.get = function(t) {
        return this._guard(t)[this._id]
      }),
      (om.prototype.set = function(t, e) {
        t = this._guard(t)
        return nm ? Object.defineProperty(t, this._id, { value: e, enumerable: !1, configurable: !0 }) : (t[this._id] = e), this
      }),
      (om.prototype.delete = function(t) {
        return !!this.has(t) && (delete this._guard(t)[this._id], !0)
      }),
      (om.prototype.has = function(t) {
        return !!this._guard(t)[this._id]
      }),
      (om.prototype._guard = function(t) {
        if (t !== Object(t)) throw TypeError('Value of WeakMap is not a non-null object.')
        return t
      }),
      om)
  function om() {
    this._id = '__ec_inner_' + em++
  }
  var rm = j.extend({
      type: 'triangle',
      shape: { cx: 0, cy: 0, width: 0, height: 0 },
      buildPath: function(t, e) {
        var n = e.cx,
          i = e.cy,
          o = e.width / 2,
          e = e.height / 2
        t.moveTo(n, i - e), t.lineTo(n + o, i + e), t.lineTo(n - o, i + e), t.closePath()
      },
    }),
    am = j.extend({
      type: 'diamond',
      shape: { cx: 0, cy: 0, width: 0, height: 0 },
      buildPath: function(t, e) {
        var n = e.cx,
          i = e.cy,
          o = e.width / 2,
          e = e.height / 2
        t.moveTo(n, i - e), t.lineTo(n + o, i), t.lineTo(n, i + e), t.lineTo(n - o, i), t.closePath()
      },
    }),
    sm = j.extend({
      type: 'pin',
      shape: { x: 0, y: 0, width: 0, height: 0 },
      buildPath: function(t, e) {
        var n = e.x,
          i = e.y,
          o = (e.width / 5) * 3,
          e = Math.max(o, e.height),
          o = o / 2,
          r = (o * o) / (e - o),
          e = i - e + o + r,
          a = Math.asin(r / o),
          s = Math.cos(a) * o,
          l = Math.sin(a),
          u = Math.cos(a),
          h = 0.6 * o,
          c = 0.7 * o
        t.moveTo(n - s, e + r),
          t.arc(n, e, o, Math.PI - a, 2 * Math.PI + a),
          t.bezierCurveTo(n + s - l * h, e + r + u * h, n, i - c, n, i),
          t.bezierCurveTo(n, i - c, n - s + l * h, e + r + u * h, n - s, e + r),
          t.closePath()
      },
    }),
    lm = j.extend({
      type: 'arrow',
      shape: { x: 0, y: 0, width: 0, height: 0 },
      buildPath: function(t, e) {
        var n = e.height,
          i = e.width,
          o = e.x,
          e = e.y,
          i = (i / 3) * 2
        t.moveTo(o, e), t.lineTo(o + i, e + n), t.lineTo(o, e + (n / 4) * 3), t.lineTo(o - i, e + n), t.lineTo(o, e), t.closePath()
      },
    }),
    um = {
      line: function(t, e, n, i, o) {
        ;(o.x1 = t), (o.y1 = e + i / 2), (o.x2 = t + n), (o.y2 = e + i / 2)
      },
      rect: function(t, e, n, i, o) {
        ;(o.x = t), (o.y = e), (o.width = n), (o.height = i)
      },
      roundRect: function(t, e, n, i, o) {
        ;(o.x = t), (o.y = e), (o.width = n), (o.height = i), (o.r = Math.min(n, i) / 4)
      },
      square: function(t, e, n, i, o) {
        n = Math.min(n, i)
        ;(o.x = t), (o.y = e), (o.width = n), (o.height = n)
      },
      circle: function(t, e, n, i, o) {
        ;(o.cx = t + n / 2), (o.cy = e + i / 2), (o.r = Math.min(n, i) / 2)
      },
      diamond: function(t, e, n, i, o) {
        ;(o.cx = t + n / 2), (o.cy = e + i / 2), (o.width = n), (o.height = i)
      },
      pin: function(t, e, n, i, o) {
        ;(o.x = t + n / 2), (o.y = e + i / 2), (o.width = n), (o.height = i)
      },
      arrow: function(t, e, n, i, o) {
        ;(o.x = t + n / 2), (o.y = e + i / 2), (o.width = n), (o.height = i)
      },
      triangle: function(t, e, n, i, o) {
        ;(o.cx = t + n / 2), (o.cy = e + i / 2), (o.width = n), (o.height = i)
      },
    },
    hm = {},
    cm =
      (E({ line: ih, rect: Es, roundRect: Es, square: Es, circle: vu, diamond: am, pin: sm, arrow: lm, triangle: rm }, function(t, e) {
        hm[e] = new t()
      }),
      j.extend({
        type: 'symbol',
        shape: { symbolType: '', x: 0, y: 0, width: 0, height: 0 },
        calculateTextPosition: function(t, e, n) {
          var t = Po(t, e, n),
            i = this.shape
          return i && 'pin' === i.symbolType && 'inside' === e.position && (t.y = n.y + 0.4 * n.height), t
        },
        buildPath: function(t, e, n) {
          var i,
            o = e.symbolType
          'none' !== o && ((i = (i = hm[o]) || hm[(o = 'rect')]), um[o](e.x, e.y, e.width, e.height, i.shape), i.buildPath(t, i.shape, n))
        },
      }))
  function pm(t, e) {
    var n
    'image' !== this.type &&
      ((n = this.style),
      this.__isEmptyBrush
        ? ((n.stroke = t), (n.fill = e || '#fff'), (n.lineWidth = 2))
        : 'line' === this.shape.symbolType
        ? (n.stroke = t)
        : (n.fill = t),
      this.markRedraw())
  }
  function dm(t, e, n, i, o, r, a) {
    var s = 0 === t.indexOf('empty')
    return (
      ((a =
        0 === (t = s ? t.substr(5, 1).toLowerCase() + t.substr(6) : t).indexOf('image://')
          ? Qh(t.slice(8), new Y(e, n, i, o), a ? 'center' : 'cover')
          : 0 === t.indexOf('path://')
          ? $h(t.slice(7), {}, new Y(e, n, i, o), a ? 'center' : 'cover')
          : new cm({ shape: { symbolType: t, x: e, y: n, width: i, height: o } })).__isEmptyBrush = s),
      (a.setColor = pm),
      r && a.setColor(r),
      a
    )
  }
  function fm(t) {
    return [(t = V(t) ? t : [+t, +t])[0] || 0, t[1] || 0]
  }
  function gm(t, e) {
    if (null != t) return [W((t = V(t) ? t : [t, t])[0], e[0]) || 0, W(R(t[1], t[0]), e[1]) || 0]
  }
  function ym(t) {
    return isFinite(t)
  }
  function mm(t, e, n) {
    for (
      var i,
        o,
        r,
        a,
        s,
        l,
        u,
        h,
        c,
        p =
          'radial' === e.type
            ? ((i = t),
              (o = e),
              (a = (r = n).width),
              (s = r.height),
              (l = Math.min(a, s)),
              (u = null == o.x ? 0.5 : o.x),
              (h = null == o.y ? 0.5 : o.y),
              (c = null == o.r ? 0.5 : o.r),
              o.global || ((u = u * a + r.x), (h = h * s + r.y), (c *= l)),
              (u = ym(u) ? u : 0.5),
              (h = ym(h) ? h : 0.5),
              (c = 0 <= c && ym(c) ? c : 0.5),
              i.createRadialGradient(u, h, 0, u, h, c))
            : ((o = t),
              (a = n),
              (r = null == (s = e).x ? 0 : s.x),
              (l = null == s.x2 ? 1 : s.x2),
              (i = null == s.y ? 0 : s.y),
              (u = null == s.y2 ? 0 : s.y2),
              s.global || ((r = r * a.width + a.x), (l = l * a.width + a.x), (i = i * a.height + a.y), (u = u * a.height + a.y)),
              (r = ym(r) ? r : 0),
              (l = ym(l) ? l : 1),
              (i = ym(i) ? i : 0),
              (u = ym(u) ? u : 0),
              o.createLinearGradient(r, i, l, u)),
        d = e.colorStops,
        f = 0;
      f < d.length;
      f++
    )
      p.addColorStop(d[f].offset, d[f].color)
    return p
  }
  function vm(t) {
    return parseInt(t, 10)
  }
  function _m(t, e, n) {
    var i = ['width', 'height'][e],
      o = ['clientWidth', 'clientHeight'][e],
      r = ['paddingLeft', 'paddingTop'][e],
      e = ['paddingRight', 'paddingBottom'][e]
    return null != n[i] && 'auto' !== n[i]
      ? parseFloat(n[i])
      : ((n = document.defaultView.getComputedStyle(t)), ((t[o] || vm(n[i]) || vm(t.style[i])) - (vm(n[r]) || 0) - (vm(n[e]) || 0)) | 0)
  }
  function xm(t) {
    var e,
      n = t.style,
      i =
        n.lineDash &&
        0 < n.lineWidth &&
        ((o = n.lineDash),
        (i = n.lineWidth),
        o && 'solid' !== o && 0 < i ? ('dashed' === o ? [4 * i, 2 * i] : 'dotted' === o ? [i] : H(o) ? [o] : V(o) ? o : null) : null),
      o = n.lineDashOffset
    return (
      i &&
        (e = n.strokeNoScale && t.getLineScale ? t.getLineScale() : 1) &&
        1 !== e &&
        ((i = B(i, function(t) {
          return t / e
        })),
        (o /= e)),
      [i, o]
    )
  }
  var wm = new ns(!0)
  function bm(t) {
    var e = t.stroke
    return !(null == e || 'none' === e || !(0 < t.lineWidth))
  }
  function Sm(t) {
    return 'string' == typeof t && 'none' !== t
  }
  function Mm(t) {
    t = t.fill
    return null != t && 'none' !== t
  }
  function Tm(t, e) {
    var n
    null != e.fillOpacity && 1 !== e.fillOpacity
      ? ((n = t.globalAlpha), (t.globalAlpha = e.fillOpacity * e.opacity), t.fill(), (t.globalAlpha = n))
      : t.fill()
  }
  function Im(t, e) {
    var n
    null != e.strokeOpacity && 1 !== e.strokeOpacity
      ? ((n = t.globalAlpha), (t.globalAlpha = e.strokeOpacity * e.opacity), t.stroke(), (t.globalAlpha = n))
      : t.stroke()
  }
  function Cm(t, e, n) {
    var n = ra(e.image, e.__image, n)
    if (sa(n))
      return (
        (t = t.createPattern(n, e.repeat || 'repeat')),
        'function' == typeof DOMMatrix &&
          t &&
          t.setTransform &&
          ((n = new DOMMatrix()).translateSelf(e.x || 0, e.y || 0),
          n.rotateSelf(0, 0, (e.rotation || 0) * Vt),
          n.scaleSelf(e.scaleX || 1, e.scaleY || 1),
          t.setTransform(n)),
        t
      )
  }
  var Am = ['shadowBlur', 'shadowOffsetX', 'shadowOffsetY'],
    Dm = [
      ['lineCap', 'butt'],
      ['lineJoin', 'miter'],
      ['miterLimit', 10],
    ]
  function km(t, e, n, i, o) {
    var r,
      a = !1
    if (!i && e === (n = n || {})) return !1
    ;(!i && e.opacity === n.opacity) ||
      (zm(t, o), (a = !0), (r = Math.max(Math.min(e.opacity, 1), 0)), (t.globalAlpha = isNaN(r) ? wa.opacity : r)),
      (!i && e.blend === n.blend) || (a || (zm(t, o), (a = !0)), (t.globalCompositeOperation = e.blend || wa.blend))
    for (var s = 0; s < Am.length; s++) {
      var l = Am[s]
      ;(!i && e[l] === n[l]) || (a || (zm(t, o), (a = !0)), (t[l] = t.dpr * (e[l] || 0)))
    }
    return (!i && e.shadowColor === n.shadowColor) || (a || (zm(t, o), (a = !0)), (t.shadowColor = e.shadowColor || wa.shadowColor)), a
  }
  function Lm(t, e, n, i, o) {
    var r = Bm(e, o.inHover),
      a = i ? null : (n && Bm(n, o.inHover)) || {}
    if (r !== a) {
      var s = km(t, r, a, i, o)
      ;(i || r.fill !== a.fill) && (s || (zm(t, o), (s = !0)), Sm(r.fill)) && (t.fillStyle = r.fill),
        (i || r.stroke !== a.stroke) && (s || (zm(t, o), (s = !0)), Sm(r.stroke)) && (t.strokeStyle = r.stroke),
        (!i && r.opacity === a.opacity) || (s || (zm(t, o), (s = !0)), (t.globalAlpha = null == r.opacity ? 1 : r.opacity)),
        e.hasStroke() &&
          ((n = r.lineWidth / (r.strokeNoScale && e.getLineScale ? e.getLineScale() : 1)), t.lineWidth !== n) &&
          (s || (zm(t, o), (s = !0)), (t.lineWidth = n))
      for (var l = 0; l < Dm.length; l++) {
        var u = Dm[l],
          h = u[0]
        ;(!i && r[h] === a[h]) || (s || (zm(t, o), (s = !0)), (t[h] = r[h] || u[1]))
      }
    }
  }
  function Pm(t, e) {
    var e = e.transform,
      n = t.dpr || 1
    e ? t.setTransform(n * e[0], n * e[1], n * e[2], n * e[3], n * e[4], n * e[5]) : t.setTransform(n, 0, 0, n, 0, 0)
  }
  var Om = 1,
    Rm = 2,
    Nm = 3,
    Em = 4
  function zm(t, e) {
    e.batchFill && t.fill(), e.batchStroke && t.stroke(), (e.batchFill = ''), (e.batchStroke = '')
  }
  function Bm(t, e) {
    return (e && t.__hoverStyle) || t.style
  }
  function Vm(t, e) {
    Fm(t, e, { inHover: !1, viewWidth: 0, viewHeight: 0 }, !0)
  }
  function Fm(t, e, n, E) {
    var i = e.transform
    if (e.shouldBePainted(n.viewWidth, n.viewHeight, !1, !1)) {
      var o = e.__clipPaths,
        r = n.prevElClipPaths,
        a = !1,
        s = !1
      if (
        !r ||
        (function(t, e) {
          if (t !== e && (t || e)) {
            if (!t || !e || t.length !== e.length) return 1
            for (var n = 0; n < t.length; n++) if (t[n] !== e[n]) return 1
          }
        })(o, r)
      ) {
        if (
          (r && r.length && (zm(t, n), t.restore(), (s = a = !0), (n.prevElClipPaths = null), (n.allClipped = !1), (n.prevEl = null)),
          o && o.length)
        ) {
          zm(t, n), t.save()
          for (var z = o, l = t, r = n, B = !1, V = 0; V < z.length; V++) {
            var F = z[V],
              B = B || F.isZeroArea()
            Pm(l, F), l.beginPath(), F.buildPath(l, F.shape), l.clip()
          }
          ;(r.allClipped = B), (a = !0)
        }
        n.prevElClipPaths = o
      }
      if (n.allClipped) e.__isRendered = !1
      else {
        e.beforeBrush && e.beforeBrush(), e.innerBeforeBrush()
        var u,
          h,
          c,
          p,
          d,
          f,
          g,
          y,
          m,
          v,
          _,
          x,
          w,
          H,
          b,
          S,
          M,
          T,
          I,
          C,
          A,
          D,
          k,
          r = n.prevEl,
          L =
            (r || (s = a = !0),
            e instanceof j &&
              e.autoBatch &&
              ((o = e.style),
              (L = Mm(o)),
              (u = bm(o)),
              !(
                o.lineDash ||
                !(+L ^ +u) ||
                (L && 'string' != typeof o.fill) ||
                (u && 'string' != typeof o.stroke) ||
                o.strokePercent < 1 ||
                o.strokeOpacity < 1 ||
                o.fillOpacity < 1
              ))),
          a =
            (a ||
            ((u = i),
            (o = r.transform),
            u && o ? u[0] !== o[0] || u[1] !== o[1] || u[2] !== o[2] || u[3] !== o[3] || u[4] !== o[4] || u[5] !== o[5] : u || o)
              ? (zm(t, n), Pm(t, e))
              : L || zm(t, n),
            Bm(e, n.inHover))
        if (e instanceof j)
          n.lastDrawType !== Om && ((s = !0), (n.lastDrawType = Om)),
            Lm(t, e, r, s, n),
            (L && (n.batchFill || n.batchStroke)) || t.beginPath(),
            (i = t),
            (o = e),
            (R = L),
            (b = bm((p = a))),
            (S = Mm(p)),
            (M = p.strokePercent),
            (T = M < 1),
            (I = !o.path),
            (o.silent && !T) || !I || o.createPathProxy(),
            (C = o.path || wm),
            (A = o.__dirty),
            R ||
              ((d = p.fill),
              (k = p.stroke),
              (f = S && !!d.colorStops),
              (g = b && !!k.colorStops),
              (y = S && !!d.image),
              (m = b && !!k.image),
              (D = w = x = _ = v = void 0),
              (f || g) && (D = o.getBoundingRect()),
              f && ((v = A ? mm(i, d, D) : o.__canvasFillGradient), (o.__canvasFillGradient = v)),
              g && ((_ = A ? mm(i, k, D) : o.__canvasStrokeGradient), (o.__canvasStrokeGradient = _)),
              y && ((x = A || !o.__canvasFillPattern ? Cm(i, d, o) : o.__canvasFillPattern), (o.__canvasFillPattern = x)),
              m && ((w = A || !o.__canvasStrokePattern ? Cm(i, k, o) : o.__canvasStrokePattern), (o.__canvasStrokePattern = x)),
              f ? (i.fillStyle = v) : y && (x ? (i.fillStyle = x) : (S = !1)),
              g ? (i.strokeStyle = _) : m && (w ? (i.strokeStyle = w) : (b = !1))),
            (D = o.getGlobalScale()),
            C.setScale(D[0], D[1], o.segmentIgnoreThreshold),
            i.setLineDash && p.lineDash && ((H = (d = xm(o))[0]), (O = d[1])),
            (k = !0),
            (I || A & xn) &&
              (C.setDPR(i.dpr),
              T ? C.setContext(null) : (C.setContext(i), (k = !1)),
              C.reset(),
              o.buildPath(C, o.shape, R),
              C.toStatic(),
              o.pathUpdated()),
            k && C.rebuildPath(i, T ? M : 1),
            H && (i.setLineDash(H), (i.lineDashOffset = O)),
            R || (p.strokeFirst ? (b && Im(i, p), S && Tm(i, p)) : (S && Tm(i, p), b && Im(i, p))),
            H && i.setLineDash([]),
            L && ((n.batchFill = a.fill || ''), (n.batchStroke = a.stroke || ''))
        else if (e instanceof bs)
          n.lastDrawType !== Nm && ((s = !0), (n.lastDrawType = Nm)),
            Lm(t, e, r, s, n),
            (f = t),
            (v = e),
            null != (x = (y = a).text) && (x += ''),
            x &&
              ((f.font = y.font || K),
              (f.textAlign = y.textAlign),
              (f.textBaseline = y.textBaseline),
              (_ = g = void 0),
              f.setLineDash && y.lineDash && ((g = (v = xm(v))[0]), (_ = v[1])),
              g && (f.setLineDash(g), (f.lineDashOffset = _)),
              y.strokeFirst
                ? (bm(y) && f.strokeText(x, y.x, y.y), Mm(y) && f.fillText(x, y.x, y.y))
                : (Mm(y) && f.fillText(x, y.x, y.y), bm(y) && f.strokeText(x, y.x, y.y)),
              g) &&
              f.setLineDash([])
        else if (e instanceof Cs)
          n.lastDrawType !== Rm && ((s = !0), (n.lastDrawType = Rm)),
            (m = r),
            (w = s),
            km(t, Bm(e, (D = n).inHover), m && Bm(m, D.inHover), w, D),
            (d = t),
            (I = a),
            (o = (A = e).__image = ra(I.image, A.__image, A, A.onload)) &&
              sa(o) &&
              ((k = I.x || 0),
              (C = I.y || 0),
              (T = A.getWidth()),
              (A = A.getHeight()),
              (M = o.width / o.height),
              null == T && null != A
                ? (T = A * M)
                : null == A && null != T
                ? (A = T / M)
                : null == T && null == A && ((T = o.width), (A = o.height)),
              I.sWidth && I.sHeight
                ? ((h = I.sx || 0), (c = I.sy || 0), d.drawImage(o, h, c, I.sWidth, I.sHeight, k, C, T, A))
                : I.sx && I.sy
                ? ((h = I.sx), (c = I.sy), d.drawImage(o, h, c, T - h, A - c, k, C, T, A))
                : d.drawImage(o, k, C, T, A))
        else if (e.getTemporalDisplayables) {
          n.lastDrawType !== Em && ((s = !0), (n.lastDrawType = Em))
          var P,
            G,
            W = t,
            O = e,
            R = n,
            U = O.getDisplayables(),
            Y = O.getTemporalDisplayables(),
            X =
              (W.save(),
              { prevElClipPaths: null, prevEl: null, allClipped: !1, viewWidth: R.viewWidth, viewHeight: R.viewHeight, inHover: R.inHover })
          for (P = O.getCursor(), G = U.length; P < G; P++)
            (N = U[P]).beforeBrush && N.beforeBrush(),
              N.innerBeforeBrush(),
              Fm(W, N, X, P === G - 1),
              N.innerAfterBrush(),
              N.afterBrush && N.afterBrush(),
              (X.prevEl = N)
          for (var N, Z = 0, q = Y.length; Z < q; Z++)
            (N = Y[Z]).beforeBrush && N.beforeBrush(),
              N.innerBeforeBrush(),
              Fm(W, N, X, Z === q - 1),
              N.innerAfterBrush(),
              N.afterBrush && N.afterBrush(),
              (X.prevEl = N)
          O.clearTemporalDisplayables(), (O.notClear = !0), W.restore()
        }
        L && E && zm(t, n), e.innerAfterBrush(), e.afterBrush && e.afterBrush(), ((n.prevEl = e).__dirty = 0), (e.__isRendered = !0)
      }
    } else (e.__dirty &= ~_n), (e.__isRendered = !1)
  }
  var Hm = new im(),
    Gm = new ni(100),
    Wm = [
      'symbol',
      'symbolSize',
      'symbolKeepAspect',
      'color',
      'backgroundColor',
      'dashArrayX',
      'dashArrayY',
      'maxTileWidth',
      'maxTileHeight',
    ]
  function Um(t, e) {
    if ('none' === t) return null
    var a = e.getDevicePixelRatio(),
      s = e.getZr(),
      l = 'svg' === s.painter.type,
      e = (t.dirty && Hm.delete(t), Hm.get(t))
    if (e) return e
    for (
      var n,
        u = z(t, {
          symbol: 'rect',
          symbolSize: 1,
          symbolKeepAspect: !0,
          color: 'rgba(0, 0, 0, 0.2)',
          backgroundColor: null,
          dashArrayX: 5,
          dashArrayY: 5,
          rotation: 0,
          maxTileWidth: 512,
          maxTileHeight: 512,
        }),
        e = ('none' === u.backgroundColor && (u.backgroundColor = null), { repeat: 'repeat' }),
        i = e,
        o = [a],
        r = !0,
        h = 0;
      h < Wm.length;
      ++h
    ) {
      var c = u[Wm[h]]
      if (null != c && !V(c) && !F(c) && !H(c) && 'boolean' != typeof c) {
        r = !1
        break
      }
      o.push(c)
    }
    r && ((n = o.join(',') + (l ? '-svg' : '')), (v = Gm.get(n))) && (l ? (i.svgElement = v) : (i.image = v))
    var p,
      d = (function t(e) {
        if (!e || 0 === e.length) return [[0, 0]]
        if (H(e)) return [[(r = Math.ceil(e)), r]]
        var n = !0
        for (var i = 0; i < e.length; ++i)
          if (!H(e[i])) {
            n = !1
            break
          }
        if (n) return t([e])
        var o = []
        for (i = 0; i < e.length; ++i) {
          var r
          H(e[i])
            ? ((r = Math.ceil(e[i])), o.push([r, r]))
            : (r = B(e[i], function(t) {
                return Math.ceil(t)
              })).length %
                2 ==
              1
            ? o.push(r.concat(r))
            : o.push(r)
        }
        return o
      })(u.dashArrayX),
      f = (function(t) {
        if (!t || ('object' == typeof t && 0 === t.length)) return [0, 0]
        if (H(t)) return [(e = Math.ceil(t)), e]
        var e = B(t, function(t) {
          return Math.ceil(t)
        })
        return t.length % 2 ? e.concat(e) : e
      })(u.dashArrayY),
      g = (function t(e) {
        if (!e || 0 === e.length) return [['rect']]
        if (F(e)) return [[e]]
        var n = !0
        for (var i = 0; i < e.length; ++i)
          if (!F(e[i])) {
            n = !1
            break
          }
        if (n) return t([e])
        var o = []
        for (i = 0; i < e.length; ++i) F(e[i]) ? o.push([e[i]]) : o.push(e[i])
        return o
      })(u.symbol),
      y = (function(t) {
        return B(t, Ym)
      })(d),
      m = Ym(f),
      v = !l && U.createCanvas(),
      _ = l && { tag: 'g', attrs: {}, key: 'dcl', children: [] },
      x = (function() {
        for (var t = 1, e = 0, n = y.length; e < n; ++e) t = xr(t, y[e])
        for (var i = 1, e = 0, n = g.length; e < n; ++e) i = xr(i, g[e].length)
        t *= i
        var o = m * y.length * g.length
        return { width: Math.max(1, Math.min(t, u.maxTileWidth)), height: Math.max(1, Math.min(o, u.maxTileHeight)) }
      })()
    v && ((v.width = x.width * a), (v.height = x.height * a), (p = v.getContext('2d'))),
      p &&
        (p.clearRect(0, 0, v.width, v.height), u.backgroundColor) &&
        ((p.fillStyle = u.backgroundColor), p.fillRect(0, 0, v.width, v.height))
    for (var w = 0, b = 0; b < f.length; ++b) w += f[b]
    if (!(w <= 0))
      for (var S = -m, M = 0, T = 0, I = 0; S < x.height; ) {
        if (M % 2 == 0) {
          for (var C = (T / 2) % g.length, A = 0, D = 0, k = 0; A < 2 * x.width; ) {
            for (var L, P, O, R, N, E = 0, b = 0; b < d[I].length; ++b) E += d[I][b]
            if (E <= 0) break
            D % 2 == 0 &&
              ((P = 0.5 * (1 - u.symbolSize)),
              (L = A + d[I][D] * P),
              (P = S + f[M] * P),
              (O = d[I][D] * u.symbolSize),
              (R = f[M] * u.symbolSize),
              (N = (k / 2) % g[C].length),
              (function(t, e, n, i, o) {
                var r = l ? 1 : a,
                  o = dm(o, t * r, e * r, n * r, i * r, u.color, u.symbolKeepAspect)
                l ? (t = s.painter.renderOneToVNode(o)) && _.children.push(t) : Vm(p, o)
              })(L, P, O, R, g[C][N])),
              (A += d[I][D]),
              ++k,
              ++D === d[I].length && (D = 0)
          }
          ++I === d.length && (I = 0)
        }
        ;(S += f[M]), ++T, ++M === f.length && (M = 0)
      }
    return (
      r && Gm.put(n, v || _),
      (i.image = v),
      (i.svgElement = _),
      (i.svgWidth = x.width),
      (i.svgHeight = x.height),
      (e.rotation = u.rotation),
      (e.scaleX = e.scaleY = l ? 1 : 1 / a),
      Hm.set(t, e),
      (t.dirty = !1),
      e
    )
  }
  function Ym(t) {
    for (var e = 0, n = 0; n < t.length; ++n) e += t[n]
    return t.length % 2 == 1 ? 2 * e : e
  }
  var Xm = new se(),
    Zm = {}
  var am = {
      PROCESSOR: { FILTER: 1e3, SERIES_FILTER: 800, STATISTIC: 5e3 },
      VISUAL: {
        LAYOUT: 1e3,
        PROGRESSIVE_LAYOUT: 1100,
        GLOBAL: 2e3,
        CHART: 3e3,
        POST_CHART_LAYOUT: 4600,
        COMPONENT: 4e3,
        BRUSH: 5e3,
        CHART_ITEM: 4500,
        ARIA: 6e3,
        DECAL: 7e3,
      },
    },
    qm = '__flagInMainProcess',
    jm = '__pendingUpdate',
    Km = '__needsUpdateStatus',
    $m = /^[a-zA-Z0-9_]+$/,
    Qm = '__connectUpdateStatus'
  function Jm(n) {
    return function() {
      for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e]
      if (!this.isDisposed()) return e0(this, n, t)
      this.id
    }
  }
  function t0(n) {
    return function() {
      for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e]
      return e0(this, n, t)
    }
  }
  function e0(t, e, n) {
    return (n[0] = n[0] && n[0].toLowerCase()), se.prototype[e].apply(t, n)
  }
  u(o0, (n0 = se))
  var n0,
    i0 = o0
  function o0() {
    return (null !== n0 && n0.apply(this, arguments)) || this
  }
  var r0,
    a0,
    s0,
    l0,
    u0,
    h0,
    c0,
    p0,
    d0,
    f0,
    g0,
    y0,
    m0,
    v0,
    _0,
    x0,
    w0,
    b0,
    S0,
    sm = i0.prototype,
    M0 =
      ((sm.on = t0('on')),
      (sm.off = t0('off')),
      u(s, (S0 = se)),
      (s.prototype._onframe = function() {
        if (!this._disposed) {
          b0(this)
          var t = this._scheduler
          if (this[jm]) {
            var e = this[jm].silent
            this[qm] = !0
            try {
              r0(this), l0.update.call(this, null, this[jm].updateParams)
            } catch (t) {
              throw ((this[qm] = !1), (this[jm] = null), t)
            }
            this._zr.flush(), (this[qm] = !1), (this[jm] = null), p0.call(this, e), d0.call(this, e)
          } else if (t.unfinished) {
            var n = 1,
              i = this._model,
              o = this._api
            t.unfinished = !1
            do {
              var r = +new Date()
            } while (
              (t.performSeriesTasks(i),
              t.performDataProcessorTasks(i),
              h0(this, i),
              t.performVisualTasks(i),
              v0(this, this._model, o, 'remain', {}),
              0 < (n -= +new Date() - r) && t.unfinished)
            )
            t.unfinished || this._zr.flush()
          }
        }
      }),
      (s.prototype.getDom = function() {
        return this._dom
      }),
      (s.prototype.getId = function() {
        return this.id
      }),
      (s.prototype.getZr = function() {
        return this._zr
      }),
      (s.prototype.isSSR = function() {
        return this._ssr
      }),
      (s.prototype.setOption = function(t, e, n) {
        if (!this[qm])
          if (this._disposed) this.id
          else {
            O(e) && ((n = e.lazyUpdate), (i = e.silent), (o = e.replaceMerge), (r = e.transition), (e = e.notMerge)),
              (this[qm] = !0),
              (this._model && !e) ||
                ((e = new Vd(this._api)),
                (a = this._theme),
                ((s = this._model = new Ad()).scheduler = this._scheduler),
                (s.ssr = this._ssr),
                s.init(null, null, null, a, this._locale, e)),
              this._model.setOption(t, { replaceMerge: o }, R0)
            var i,
              o,
              r,
              a,
              s = { seriesTransition: r, optionChanged: !0 }
            if (n) (this[jm] = { silent: i, updateParams: s }), (this[qm] = !1), this.getZr().wakeUp()
            else {
              try {
                r0(this), l0.update.call(this, null, s)
              } catch (t) {
                throw ((this[jm] = null), (this[qm] = !1), t)
              }
              this._ssr || this._zr.flush(), (this[jm] = null), (this[qm] = !1), p0.call(this, i), d0.call(this, i)
            }
          }
      }),
      (s.prototype.setTheme = function() {}),
      (s.prototype.getModel = function() {
        return this._model
      }),
      (s.prototype.getOption = function() {
        return this._model && this._model.getOption()
      }),
      (s.prototype.getWidth = function() {
        return this._zr.getWidth()
      }),
      (s.prototype.getHeight = function() {
        return this._zr.getHeight()
      }),
      (s.prototype.getDevicePixelRatio = function() {
        return this._zr.painter.dpr || (b.hasGlobalWindow && window.devicePixelRatio) || 1
      }),
      (s.prototype.getRenderedCanvas = function(t) {
        return this.renderToCanvas(t)
      }),
      (s.prototype.renderToCanvas = function(t) {
        return this._zr.painter.getRenderedCanvas({
          backgroundColor: (t = t || {}).backgroundColor || this._model.get('backgroundColor'),
          pixelRatio: t.pixelRatio || this.getDevicePixelRatio(),
        })
      }),
      (s.prototype.renderToSVGString = function(t) {
        return this._zr.painter.renderToString({ useViewBox: (t = t || {}).useViewBox })
      }),
      (s.prototype.getSvgDataURL = function() {
        var t
        if (b.svgSupported)
          return (
            E((t = this._zr).storage.getDisplayList(), function(t) {
              t.stopAnimation(null, !0)
            }),
            t.painter.toDataURL()
          )
      }),
      (s.prototype.getDataURL = function(t) {
        var e, n, i, o
        if (!this._disposed)
          return (
            (o = (t = t || {}).excludeComponents),
            (e = this._model),
            (n = []),
            (i = this),
            E(o, function(t) {
              e.eachComponent({ mainType: t }, function(t) {
                t = i._componentsMap[t.__viewId]
                t.group.ignore || (n.push(t), (t.group.ignore = !0))
              })
            }),
            (o =
              'svg' === this._zr.painter.getType()
                ? this.getSvgDataURL()
                : this.renderToCanvas(t).toDataURL('image/' + ((t && t.type) || 'png'))),
            E(n, function(t) {
              t.group.ignore = !1
            }),
            o
          )
        this.id
      }),
      (s.prototype.getConnectedDataURL = function(i) {
        var o, r, a, s, l, u, h, c, p, e, t, n, d, f, g
        if (!this._disposed)
          return (
            (o = 'svg' === i.type),
            (r = this.group),
            (a = Math.min),
            (s = Math.max),
            V0[r]
              ? ((u = l = 1 / 0),
                (c = h = -1 / 0),
                (p = []),
                (e = (i && i.pixelRatio) || this.getDevicePixelRatio()),
                E(B0, function(t, e) {
                  var n
                  t.group === r &&
                    ((n = o ? t.getZr().painter.getSvgDom().innerHTML : t.renderToCanvas(y(i))),
                    (t = t.getDom().getBoundingClientRect()),
                    (l = a(t.left, l)),
                    (u = a(t.top, u)),
                    (h = s(t.right, h)),
                    (c = s(t.bottom, c)),
                    p.push({ dom: n, left: t.left, top: t.top }))
                }),
                (t = (h *= e) - (l *= e)),
                (n = (c *= e) - (u *= e)),
                (d = U.createCanvas()),
                (f = Qo(d, { renderer: o ? 'svg' : 'canvas' })).resize({ width: t, height: n }),
                o
                  ? ((g = ''),
                    E(p, function(t) {
                      var e = t.left - l,
                        n = t.top - u
                      g += '<g transform="translate(' + e + ',' + n + ')">' + t.dom + '</g>'
                    }),
                    (f.painter.getSvgRoot().innerHTML = g),
                    i.connectedBackgroundColor && f.painter.setBackgroundColor(i.connectedBackgroundColor),
                    f.refreshImmediately(),
                    f.painter.toDataURL())
                  : (i.connectedBackgroundColor &&
                      f.add(new Es({ shape: { x: 0, y: 0, width: t, height: n }, style: { fill: i.connectedBackgroundColor } })),
                    E(p, function(t) {
                      t = new Cs({ style: { x: t.left * e - l, y: t.top * e - u, image: t.dom } })
                      f.add(t)
                    }),
                    f.refreshImmediately(),
                    d.toDataURL('image/' + ((i && i.type) || 'png'))))
              : this.getDataURL(i)
          )
        this.id
      }),
      (s.prototype.convertToPixel = function(t, e) {
        return u0(this, 'convertToPixel', t, e)
      }),
      (s.prototype.convertFromPixel = function(t, e) {
        return u0(this, 'convertFromPixel', t, e)
      }),
      (s.prototype.containPixel = function(t, i) {
        var o
        if (!this._disposed)
          return (
            E(
              zr(this._model, t),
              function(t, n) {
                0 <= n.indexOf('Models') &&
                  E(
                    t,
                    function(t) {
                      var e = t.coordinateSystem
                      e && e.containPoint
                        ? (o = o || !!e.containPoint(i))
                        : 'seriesModels' === n && (e = this._chartsMap[t.__viewId]) && e.containPoint && (o = o || e.containPoint(i, t))
                    },
                    this
                  )
              },
              this
            ),
            !!o
          )
        this.id
      }),
      (s.prototype.getVisual = function(t, e) {
        var t = zr(this._model, t, { defaultMainType: 'series' }),
          n = t.seriesModel.getData(),
          t = t.hasOwnProperty('dataIndexInside')
            ? t.dataIndexInside
            : t.hasOwnProperty('dataIndex')
            ? n.indexOfRawIndex(t.dataIndex)
            : null
        if (null == t) return $y(n, e)
        var i = n,
          o = t,
          r = e
        switch (r) {
          case 'color':
            return i.getItemVisual(o, 'style')[i.getVisual('drawType')]
          case 'opacity':
            return i.getItemVisual(o, 'style').opacity
          case 'symbol':
          case 'symbolSize':
          case 'liftZ':
            return i.getItemVisual(o, r)
        }
      }),
      (s.prototype.getViewOfComponentModel = function(t) {
        return this._componentsMap[t.__viewId]
      }),
      (s.prototype.getViewOfSeriesModel = function(t) {
        return this._chartsMap[t.__viewId]
      }),
      (s.prototype._initEvents = function() {
        var t,
          n,
          i,
          s = this
        E(k0, function(a) {
          function t(t) {
            var n,
              e,
              i,
              o = s.getModel(),
              r = t.target
            'globalout' === a
              ? (n = {})
              : r &&
                tm(
                  r,
                  function(t) {
                    var e,
                      t = D(t)
                    return t && null != t.dataIndex
                      ? ((e = t.dataModel || o.getSeriesByIndex(t.seriesIndex)),
                        (n = (e && e.getDataParams(t.dataIndex, t.dataType, r)) || {}),
                        1)
                      : t.eventData && ((n = P({}, t.eventData)), 1)
                  },
                  !0
                ),
              n &&
                ((e = n.componentType),
                (i = n.componentIndex),
                ('markLine' !== e && 'markPoint' !== e && 'markArea' !== e) || ((e = 'series'), (i = n.seriesIndex)),
                (i =
                  (e = e && null != i && o.getComponent(e, i)) && s['series' === e.mainType ? '_chartsMap' : '_componentsMap'][e.__viewId]),
                (n.event = t),
                (n.type = a),
                (s._$eventProcessor.eventInfo = { targetEl: r, packedEvent: n, model: e, view: i }),
                s.trigger(a, n))
          }
          ;(t.zrEventfulCallAtLast = !0), s._zr.on(a, t, s)
        }),
          E(P0, function(t, e) {
            s._messageCenter.on(
              e,
              function(t) {
                this.trigger(e, t)
              },
              s
            )
          }),
          E(['selectchanged'], function(e) {
            s._messageCenter.on(
              e,
              function(t) {
                this.trigger(e, t)
              },
              s
            )
          }),
          (t = this._messageCenter),
          (i = (n = this)._api),
          t.on('selectchanged', function(t) {
            var e = i.getModel()
            t.isFromClick
              ? (Jy('map', 'selectchanged', n, e, t), Jy('pie', 'selectchanged', n, e, t))
              : 'select' === t.fromAction
              ? (Jy('map', 'selected', n, e, t), Jy('pie', 'selected', n, e, t))
              : 'unselect' === t.fromAction && (Jy('map', 'unselected', n, e, t), Jy('pie', 'unselected', n, e, t))
          })
      }),
      (s.prototype.isDisposed = function() {
        return this._disposed
      }),
      (s.prototype.clear = function() {
        this._disposed ? this.id : this.setOption({ series: [] }, !0)
      }),
      (s.prototype.dispose = function() {
        var t, e, n
        this._disposed
          ? this.id
          : ((this._disposed = !0),
            this.getDom() && Gr(this.getDom(), G0, ''),
            (e = (t = this)._api),
            (n = t._model),
            E(t._componentsViews, function(t) {
              t.dispose(n, e)
            }),
            E(t._chartsViews, function(t) {
              t.dispose(n, e)
            }),
            t._zr.dispose(),
            (t._dom = t._model = t._chartsMap = t._componentsMap = t._chartsViews = t._componentsViews = t._scheduler = t._api = t._zr = t._throttledZrFlush = t._theme = t._coordSysMgr = t._messageCenter = null),
            delete B0[t.id])
      }),
      (s.prototype.resize = function(t) {
        if (!this[qm])
          if (this._disposed) this.id
          else {
            this._zr.resize(t)
            var e = this._model
            if ((this._loadingFX && this._loadingFX.resize(), e)) {
              var e = e.resetOption('media'),
                n = t && t.silent
              this[jm] && (null == n && (n = this[jm].silent), (e = !0), (this[jm] = null)), (this[qm] = !0)
              try {
                e && r0(this), l0.update.call(this, { type: 'resize', animation: P({ duration: 0 }, t && t.animation) })
              } catch (t) {
                throw ((this[qm] = !1), t)
              }
              ;(this[qm] = !1), p0.call(this, n), d0.call(this, n)
            }
          }
      }),
      (s.prototype.showLoading = function(t, e) {
        this._disposed
          ? this.id
          : (O(t) && ((e = t), (t = '')),
            (t = t || 'default'),
            this.hideLoading(),
            z0[t] && ((t = z0[t](this._api, e)), (e = this._zr), (this._loadingFX = t), e.add(t)))
      }),
      (s.prototype.hideLoading = function() {
        this._disposed ? this.id : (this._loadingFX && this._zr.remove(this._loadingFX), (this._loadingFX = null))
      }),
      (s.prototype.makeActionFromEvent = function(t) {
        var e = P({}, t)
        return (e.type = P0[t.type]), e
      }),
      (s.prototype.dispatchAction = function(t, e) {
        var n
        this._disposed
          ? this.id
          : (O(e) || (e = { silent: !!e }),
            L0[t.type] &&
              this._model &&
              (this[qm]
                ? this._pendingActions.push(t)
                : ((n = e.silent),
                  c0.call(this, t, n),
                  (t = e.flush) ? this._zr.flush() : !1 !== t && b.browser.weChat && this._throttledZrFlush(),
                  p0.call(this, n),
                  d0.call(this, n))))
      }),
      (s.prototype.updateLabelLayout = function() {
        Xm.trigger('series:layoutlabels', this._model, this._api, { updatedSeries: [] })
      }),
      (s.prototype.appendData = function(t) {
        var e
        this._disposed
          ? this.id
          : ((e = t.seriesIndex),
            this.getModel()
              .getSeriesByIndex(e)
              .appendData(t),
            (this._scheduler.unfinished = !0),
            this.getZr().wakeUp())
      }),
      (s.internalField =
        ((r0 = function(t) {
          var e = t._scheduler
          e.restorePipelines(t._model), e.prepareStageTasks(), a0(t, !0), a0(t, !1), e.plan()
        }),
        (a0 = function(t, o) {
          for (
            var r = t._model,
              a = t._scheduler,
              s = o ? t._componentsViews : t._chartsViews,
              l = o ? t._componentsMap : t._chartsMap,
              u = t._zr,
              h = t._api,
              e = 0;
            e < s.length;
            e++
          )
            s[e].__alive = !1
          function n(t) {
            var e,
              n = t.__requireNewView,
              i = ((t.__requireNewView = !1), '_ec_' + t.id + '_' + t.type),
              n = !n && l[i]
            n ||
              ((e = Zr(t.type)),
              (n = new (o ? ry.getClass(e.main, e.sub) : hy.getClass(e.sub))()).init(r, h),
              (l[i] = n),
              s.push(n),
              u.add(n.group)),
              (t.__viewId = n.__id = i),
              (n.__alive = !0),
              (n.__model = t),
              (n.group.__ecComponentInfo = { mainType: t.mainType, index: t.componentIndex }),
              o || a.prepareView(n, t, r, h)
          }
          o
            ? r.eachComponent(function(t, e) {
                'series' !== t && n(e)
              })
            : r.eachSeries(n)
          for (e = 0; e < s.length; ) {
            var i = s[e]
            i.__alive
              ? e++
              : (o || i.renderTask.dispose(),
                u.remove(i.group),
                i.dispose(r, h),
                s.splice(e, 1),
                l[i.__id] === i && delete l[i.__id],
                (i.__id = i.group.__ecComponentInfo = null))
          }
        }),
        (s0 = function(c, e, p, n, t) {
          var i,
            d,
            o = c._model
          function r(t) {
            t && t.__alive && t[e] && t[e](t.__model, o, c._api, p)
          }
          o.setUpdatePayload(p),
            n
              ? (((i = {})[n + 'Id'] = p[n + 'Id']),
                (i[n + 'Index'] = p[n + 'Index']),
                (i[n + 'Name'] = p[n + 'Name']),
                (i = { mainType: n, query: i }),
                t && (i.subType = t),
                null != (t = p.excludeSeriesId) &&
                  ((d = N()),
                  E(Sr(t), function(t) {
                    t = kr(t, null)
                    null != t && d.set(t, !0)
                  })),
                o &&
                  o.eachComponent(
                    i,
                    function(t) {
                      var e,
                        n,
                        i = d && null != d.get(t.id)
                      if (!i)
                        if (Kl(p))
                          if (t instanceof $g) {
                            if (p.type === ul && !p.notBlur && !t.get(['emphasis', 'disabled'])) {
                              var i = t,
                                o = p,
                                r = c._api,
                                a = i.seriesIndex,
                                s = i.getData(o.dataType)
                              if (s) {
                                var o = (V((o = Rr(s, o))) ? o[0] : o) || 0,
                                  l = s.getItemGraphicEl(o)
                                if (!l) for (var u = s.count(), h = 0; !l && h < u; ) l = s.getItemGraphicEl(h++)
                                l
                                  ? Bl(a, (o = D(l)).focus, o.blurScope, r)
                                  : ((o = i.get(['emphasis', 'focus'])),
                                    (i = i.get(['emphasis', 'blurScope'])),
                                    null != o && Bl(a, o, i, r))
                              }
                            }
                          } else {
                            ;(a = Fl(t.mainType, t.componentIndex, p.name, c._api)), (o = a.focusSelf), (i = a.dispatchers)
                            p.type === ul && o && !p.notBlur && Vl(t.mainType, t.componentIndex, c._api),
                              i &&
                                E(i, function(t) {
                                  ;(p.type === ul ? kl : Ll)(t)
                                })
                          }
                        else
                          jl(p) &&
                            t instanceof $g &&
                            ((r = t),
                            (i = p),
                            c._api,
                            jl(i) &&
                              ((e = i.dataType),
                              V((n = Rr(r.getData(e), i))) || (n = [n]),
                              r[i.type === dl ? 'toggleSelect' : i.type === cl ? 'select' : 'unselect'](n, e)),
                            Hl(t),
                            w0(c))
                    },
                    c
                  ),
                o &&
                  o.eachComponent(
                    i,
                    function(t) {
                      ;(d && null != d.get(t.id)) || r(c['series' === n ? '_chartsMap' : '_componentsMap'][t.__viewId])
                    },
                    c
                  ))
              : E([].concat(c._componentsViews).concat(c._chartsViews), r)
        }),
        (l0 = {
          prepareAndUpdate: function(t) {
            r0(this), l0.update.call(this, t, { optionChanged: null != t.newOption })
          },
          update: function(t, e) {
            var n = this._model,
              i = this._api,
              o = this._zr,
              r = this._coordSysMgr,
              a = this._scheduler
            n &&
              (n.setUpdatePayload(t),
              a.restoreData(n, t),
              a.performSeriesTasks(n),
              r.create(n, i),
              a.performDataProcessorTasks(n, t),
              h0(this, n),
              r.update(n, i),
              T0(n),
              a.performVisualTasks(n, t),
              y0(this, n, i, t, e),
              (r = n.get('backgroundColor') || 'transparent'),
              (a = n.get('darkMode')),
              o.setBackgroundColor(r),
              null != a && 'auto' !== a && o.setDarkMode(a),
              Xm.trigger('afterupdate', n, i))
          },
          updateTransform: function(n) {
            var i,
              o,
              r = this,
              a = this._model,
              s = this._api
            a &&
              (a.setUpdatePayload(n),
              (i = []),
              a.eachComponent(function(t, e) {
                'series' !== t &&
                  (t = r.getViewOfComponentModel(e)) &&
                  t.__alive &&
                  (!t.updateTransform || ((e = t.updateTransform(e, a, s, n)) && e.update)) &&
                  i.push(t)
              }),
              (o = N()),
              a.eachSeries(function(t) {
                var e = r._chartsMap[t.__viewId]
                ;(!e.updateTransform || ((e = e.updateTransform(t, a, s, n)) && e.update)) && o.set(t.uid, 1)
              }),
              T0(a),
              this._scheduler.performVisualTasks(a, n, { setDirty: !0, dirtyMap: o }),
              v0(this, a, s, n, {}, o),
              Xm.trigger('afterupdate', a, s))
          },
          updateView: function(t) {
            var e = this._model
            e &&
              (e.setUpdatePayload(t),
              hy.markUpdateMethod(t, 'updateView'),
              T0(e),
              this._scheduler.performVisualTasks(e, t, { setDirty: !0 }),
              y0(this, e, this._api, t, {}),
              Xm.trigger('afterupdate', e, this._api))
          },
          updateVisual: function(n) {
            var i = this,
              o = this._model
            o &&
              (o.setUpdatePayload(n),
              o.eachSeries(function(t) {
                t.getData().clearAllVisual()
              }),
              hy.markUpdateMethod(n, 'updateVisual'),
              T0(o),
              this._scheduler.performVisualTasks(o, n, { visualType: 'visual', setDirty: !0 }),
              o.eachComponent(function(t, e) {
                'series' !== t && (t = i.getViewOfComponentModel(e)) && t.__alive && t.updateVisual(e, o, i._api, n)
              }),
              o.eachSeries(function(t) {
                i._chartsMap[t.__viewId].updateVisual(t, o, i._api, n)
              }),
              Xm.trigger('afterupdate', o, this._api))
          },
          updateLayout: function(t) {
            l0.update.call(this, t)
          },
        }),
        (u0 = function(t, e, n, i) {
          if (t._disposed) t.id
          else
            for (var o = t._model, r = t._coordSysMgr.getCoordinateSystems(), a = zr(o, n), s = 0; s < r.length; s++) {
              var l = r[s]
              if (l[e] && null != (l = l[e](o, a, i))) return l
            }
        }),
        (h0 = function(t, e) {
          var n = t._chartsMap,
            i = t._scheduler
          e.eachSeries(function(t) {
            i.updateStreamModes(t, n[t.__viewId])
          })
        }),
        (c0 = function(i, t) {
          var o,
            r,
            a = this,
            e = this.getModel(),
            n = i.type,
            s = i.escapeConnect,
            l = L0[n],
            u = l.actionInfo,
            h = (u.update || 'update').split(':'),
            c = h.pop(),
            p = null != h[0] && Zr(h[0]),
            h = ((this[qm] = !0), [i]),
            d = !1,
            f =
              (i.batch &&
                ((d = !0),
                (h = B(i.batch, function(t) {
                  return ((t = z(P({}, t), i)).batch = null), t
                }))),
              []),
            g = jl(i),
            y = Kl(i)
          if (
            (y && zl(this._api),
            E(h, function(t) {
              var e, n
              ;((o = (o = l.action(t, a._model, a._api)) || P({}, t)).type = u.event || o.type),
                f.push(o),
                y
                  ? ((e = (n = Br(i)).queryOptionMap), (n = n.mainTypeSpecified ? e.keys()[0] : 'series'), s0(a, c, t, n), w0(a))
                  : g
                  ? (s0(a, c, t, 'series'), w0(a))
                  : p && s0(a, c, t, p.main, p.sub)
            }),
            'none' !== c && !y && !g && !p)
          )
            try {
              this[jm] ? (r0(this), l0.update.call(this, i), (this[jm] = null)) : l0[c].call(this, i)
            } catch (t) {
              throw ((this[qm] = !1), t)
            }
          ;(o = d ? { type: u.event || n, escapeConnect: s, batch: f } : f[0]),
            (this[qm] = !1),
            t ||
              ((h = this._messageCenter).trigger(o.type, o),
              g &&
                ((d = {
                  type: 'selectchanged',
                  escapeConnect: s,
                  selected:
                    ((r = []),
                    e.eachSeries(function(n) {
                      E(n.getAllData(), function(t) {
                        t.data
                        var t = t.type,
                          e = n.getSelectedDataIndices()
                        0 < e.length && ((e = { dataIndex: e, seriesIndex: n.seriesIndex }), null != t && (e.dataType = t), r.push(e))
                      })
                    }),
                    r),
                  isFromClick: i.isFromClick || !1,
                  fromAction: i.type,
                  fromActionPayload: i,
                }),
                h.trigger(d.type, d)))
        }),
        (p0 = function(t) {
          for (var e = this._pendingActions; e.length; ) {
            var n = e.shift()
            c0.call(this, n, t)
          }
        }),
        (d0 = function(t) {
          t || this.trigger('updated')
        }),
        (f0 = function(e, n) {
          e.on('rendered', function(t) {
            n.trigger('rendered', t),
              !e.animation.isFinished() || n[jm] || n._scheduler.unfinished || n._pendingActions.length || n.trigger('finished')
          })
        }),
        (g0 = function(t, a) {
          t.on('mouseover', function(t) {
            var e,
              n,
              i,
              o,
              r = tm(t.target, ql)
            r &&
              ((r = r),
              (e = t),
              (t = a._api),
              (n = D(r)),
              (i = (o = Fl(n.componentMainType, n.componentIndex, n.componentHighDownName, t)).dispatchers),
              (o = o.focusSelf),
              i
                ? (o && Vl(n.componentMainType, n.componentIndex, t),
                  E(i, function(t) {
                    return Al(t, e)
                  }))
                : (Bl(n.seriesIndex, n.focus, n.blurScope, t),
                  'self' === n.focus && Vl(n.componentMainType, n.componentIndex, t),
                  Al(r, e)),
              w0(a))
          })
            .on('mouseout', function(t) {
              var e,
                n,
                i = tm(t.target, ql)
              i &&
                ((i = i),
                (e = t),
                zl((t = a._api)),
                (n = Fl((n = D(i)).componentMainType, n.componentIndex, n.componentHighDownName, t).dispatchers)
                  ? E(n, function(t) {
                      return Dl(t, e)
                    })
                  : Dl(i, e),
                w0(a))
            })
            .on('click', function(t) {
              var e,
                t = tm(
                  t.target,
                  function(t) {
                    return null != D(t).dataIndex
                  },
                  !0
                )
              t &&
                ((e = t.selected ? 'unselect' : 'select'),
                (t = D(t)),
                a._api.dispatchAction({
                  type: e,
                  dataType: t.dataType,
                  dataIndexInside: t.dataIndex,
                  seriesIndex: t.seriesIndex,
                  isFromClick: !0,
                }))
            })
        }),
        (y0 = function(t, e, n, i, o) {
          var r, a, s, l, u, h, c
          ;(u = []),
            (c = !(h = [])),
            (r = e).eachComponent(function(t, e) {
              var n = e.get('zlevel') || 0,
                i = e.get('z') || 0,
                o = e.getZLevelKey()
              ;(c = c || !!o), ('series' === t ? h : u).push({ zlevel: n, z: i, idx: e.componentIndex, type: t, key: o })
            }),
            c &&
              (vn((a = u.concat(h)), function(t, e) {
                return t.zlevel === e.zlevel ? t.z - e.z : t.zlevel - e.zlevel
              }),
              E(a, function(t) {
                var e = r.getComponent(t.type, t.idx),
                  n = t.zlevel,
                  t = t.key
                null != s && (n = Math.max(s, n)),
                  t ? (n === s && t !== l && n++, (l = t)) : l && (n === s && n++, (l = '')),
                  (s = n),
                  e.setZLevel(n)
              })),
            m0(t, e, n, i, o),
            E(t._chartsViews, function(t) {
              t.__alive = !1
            }),
            v0(t, e, n, i, o),
            E(t._chartsViews, function(t) {
              t.__alive || t.remove(e, n)
            })
        }),
        (m0 = function(t, n, i, o, e, r) {
          E(r || t._componentsViews, function(t) {
            var e = t.__model
            A0(0, t), t.render(e, n, i, o), C0(e, t), D0(e, t)
          })
        }),
        (v0 = function(o, t, e, r, n, a) {
          var i,
            s,
            l,
            u,
            h = o._scheduler,
            c = ((n = P(n || {}, { updatedSeries: t.getSeries() })), Xm.trigger('series:beforeupdate', t, e, n), !1)
          t.eachSeries(function(t) {
            var e,
              n = o._chartsMap[t.__viewId],
              i = ((n.__alive = !0), n.renderTask)
            h.updatePayload(i, r),
              A0(0, n),
              a && a.get(t.uid) && i.dirty(),
              i.perform(h.getPerformArgs(i)) && (c = !0),
              (n.group.silent = !!t.get('silent')),
              (i = n),
              (e = t.get('blendMode') || null),
              i.eachRendered(function(t) {
                t.isGroup || (t.style.blend = e)
              }),
              Hl(t)
          }),
            (h.unfinished = c || h.unfinished),
            Xm.trigger('series:layoutlabels', t, e, n),
            Xm.trigger('series:transition', t, e, n),
            t.eachSeries(function(t) {
              var e = o._chartsMap[t.__viewId]
              C0(t, e), D0(t, e)
            }),
            (s = t),
            (l = (i = o)._zr.storage),
            (u = 0),
            l.traverse(function(t) {
              t.isGroup || u++
            }),
            u > s.get('hoverLayerThreshold') &&
              !b.node &&
              !b.worker &&
              s.eachSeries(function(t) {
                t.preventUsingHoverLayer ||
                  ((t = i._chartsMap[t.__viewId]).__alive &&
                    t.eachRendered(function(t) {
                      t.states.emphasis && (t.states.emphasis.hoverLayer = !0)
                    }))
              }),
            Xm.trigger('series:afterupdate', t, e, n)
        }),
        (w0 = function(t) {
          ;(t[Km] = !0), t.getZr().wakeUp()
        }),
        (b0 = function(t) {
          t[Km] &&
            (t.getZr().storage.traverse(function(t) {
              Bh(t) || I0(t)
            }),
            (t[Km] = !1))
        }),
        (_0 = function(n) {
          return (
            u(t, (e = Od)),
            (t.prototype.getCoordinateSystems = function() {
              return n._coordSysMgr.getCoordinateSystems()
            }),
            (t.prototype.getComponentByElement = function(t) {
              for (; t; ) {
                var e = t.__ecComponentInfo
                if (null != e) return n._model.getComponent(e.mainType, e.index)
                t = t.parent
              }
            }),
            (t.prototype.enterEmphasis = function(t, e) {
              kl(t, e), w0(n)
            }),
            (t.prototype.leaveEmphasis = function(t, e) {
              Ll(t, e), w0(n)
            }),
            (t.prototype.enterBlur = function(t) {
              Pl(t), w0(n)
            }),
            (t.prototype.leaveBlur = function(t) {
              Ol(t), w0(n)
            }),
            (t.prototype.enterSelect = function(t) {
              Rl(t), w0(n)
            }),
            (t.prototype.leaveSelect = function(t) {
              Nl(t), w0(n)
            }),
            (t.prototype.getModel = function() {
              return n.getModel()
            }),
            (t.prototype.getViewOfComponentModel = function(t) {
              return n.getViewOfComponentModel(t)
            }),
            (t.prototype.getViewOfSeriesModel = function(t) {
              return n.getViewOfSeriesModel(t)
            }),
            new t(n)
          )
          function t() {
            return (null !== e && e.apply(this, arguments)) || this
          }
          var e
        }),
        void (x0 = function(i) {
          function o(t, e) {
            for (var n = 0; n < t.length; n++) t[n][Qm] = e
          }
          E(P0, function(t, e) {
            i._messageCenter.on(e, function(t) {
              var e, n
              !V0[i.group] ||
                0 === i[Qm] ||
                (t && t.escapeConnect) ||
                ((e = i.makeActionFromEvent(t)),
                (n = []),
                E(B0, function(t) {
                  t !== i && t.group === i.group && n.push(t)
                }),
                o(n, 0),
                E(n, function(t) {
                  1 !== t[Qm] && t.dispatchAction(e)
                }),
                o(n, 2))
            })
          })
        }))),
      s)
  function s(t, e, n) {
    var i = S0.call(this, new Zy()) || this,
      t =
        ((i._chartsViews = []),
        (i._chartsMap = {}),
        (i._componentsViews = []),
        (i._componentsMap = {}),
        (i._pendingActions = []),
        (n = n || {}),
        F(e) && (e = E0[e]),
        (i._dom = t),
        n.ssr &&
          tr(function(t) {
            var e,
              t = D(t),
              n = t.dataIndex
            if (null != n)
              return (e = N()).set('series_index', t.seriesIndex), e.set('data_index', n), t.ssrType && e.set('ssr_type', t.ssrType), e
          }),
        (i._zr = Qo(t, {
          renderer: n.renderer || 'canvas',
          devicePixelRatio: n.devicePixelRatio,
          width: n.width,
          height: n.height,
          ssr: n.ssr,
          useDirtyRect: R(n.useDirtyRect, !1),
          useCoarsePointer: R(n.useCoarsePointer, 'auto'),
          pointerSize: n.pointerSize,
        }))),
      n =
        ((i._ssr = n.ssr),
        (i._throttledZrFlush = xy(S(t.flush, t), 17)),
        (e = y(e)) && af(e, !0),
        (i._theme = e),
        (i._locale = F((e = n.locale || tp))
          ? ((n = Qc[e.toUpperCase()] || {}), e === jc || e === Kc ? y(n) : d(y(n), y(Qc[$c]), !1))
          : d(y(e), y(Qc[$c]), !1)),
        (i._coordSysMgr = new Ed()),
        (i._api = _0(i)))
    function o(t, e) {
      return t.__prio - e.__prio
    }
    return (
      vn(N0, o),
      vn(O0, o),
      (i._scheduler = new ky(i, n, O0, N0)),
      (i._messageCenter = new i0()),
      i._initEvents(),
      (i.resize = S(i.resize, i)),
      t.animation.on('frame', i._onframe, i),
      f0(t, i),
      g0(t, i),
      Ct(i),
      i
    )
  }
  function T0(t) {
    t.clearColorPalette(),
      t.eachSeries(function(t) {
        t.clearColorPalette()
      })
  }
  function I0(t) {
    for (var e = [], n = t.currentStates, i = 0; i < n.length; i++) {
      var o = n[i]
      'emphasis' !== o && 'blur' !== o && 'select' !== o && e.push(o)
    }
    t.selected && t.states.select && e.push('select'),
      t.hoverState === al && t.states.emphasis ? e.push('emphasis') : t.hoverState === rl && t.states.blur && e.push('blur'),
      t.useStates(e)
  }
  function C0(t, e) {
    var n, i
    t.preventAutoZ ||
      ((n = t.get('z') || 0),
      (i = t.get('zlevel') || 0),
      e.eachRendered(function(t) {
        return (
          (function t(e, n, i, o) {
            var r = e.getTextContent()
            var a = e.getTextGuideLine()
            var s = e.isGroup
            if (s) for (var l = e.childrenRef(), u = 0; u < l.length; u++) o = Math.max(t(l[u], n, i, o), o)
            else (e.z = n), (e.zlevel = i), (o = Math.max(e.z2, o))
            r && ((r.z = n), (r.zlevel = i), isFinite(o)) && (r.z2 = o + 2)
            a && ((s = e.textGuideLineConfig), (a.z = n), (a.zlevel = i), isFinite(o)) && (a.z2 = o + (s && s.showAbove ? 1 : -1))
            return o
          })(t, n, i, -1 / 0),
          !0
        )
      }))
  }
  function A0(t, e) {
    e.eachRendered(function(t) {
      var e, n
      Bh(t) ||
        ((e = t.getTextContent()),
        (n = t.getTextGuideLine()),
        t.stateTransition && (t.stateTransition = null),
        e && e.stateTransition && (e.stateTransition = null),
        n && n.stateTransition && (n.stateTransition = null),
        t.hasState() ? ((t.prevStates = t.currentStates), t.clearStates()) : t.prevStates && (t.prevStates = null))
    })
  }
  function D0(t, e) {
    var n = t.getModel('stateAnimation'),
      o = t.isAnimationEnabled(),
      t = n.get('duration'),
      r = 0 < t ? { duration: t, delay: n.get('delay'), easing: n.get('easing') } : null
    e.eachRendered(function(t) {
      var e, n, i
      t.states &&
        t.states.emphasis &&
        (Bh(t) ||
          (t instanceof j &&
            (((i = nl((n = t))).normalFill = n.style.fill),
            (i.normalStroke = n.style.stroke),
            (n = n.states.select || {}),
            (i.selectFill = (n.style && n.style.fill) || null),
            (i.selectStroke = (n.style && n.style.stroke) || null)),
          t.__dirty && (i = t.prevStates) && t.useStates(i),
          o &&
            ((t.stateTransition = r), (n = t.getTextContent()), (e = t.getTextGuideLine()), n && (n.stateTransition = r), e) &&
            (e.stateTransition = r),
          t.__dirty && I0(t)))
    })
  }
  var lm = M0.prototype,
    k0 =
      ((lm.on = Jm('on')),
      (lm.off = Jm('off')),
      (lm.one = function(i, o, t) {
        var r = this
        this.on.call(
          this,
          i,
          function t() {
            for (var e = [], n = 0; n < arguments.length; n++) e[n] = arguments[n]
            o && o.apply && o.apply(this, e), r.off(i, t)
          },
          t
        )
      }),
      ['click', 'dblclick', 'mouseover', 'mouseout', 'mousemove', 'mousedown', 'mouseup', 'globalout', 'contextmenu'])
  var L0 = {},
    P0 = {},
    O0 = [],
    R0 = [],
    N0 = [],
    E0 = {},
    z0 = {},
    B0 = {},
    V0 = {},
    F0 = +new Date(),
    H0 = +new Date(),
    G0 = '_echarts_instance_'
  function W0(t) {
    V0[t] = !1
  }
  rm = W0
  function U0(t) {
    return B0[((e = G0), (t = t).getAttribute ? t.getAttribute(e) : t[e])]
    var e
  }
  function Y0(t, e) {
    E0[t] = e
  }
  function X0(t) {
    C(R0, t) < 0 && R0.push(t)
  }
  function Z0(t, e) {
    nv(O0, t, e, 2e3)
  }
  function q0(t) {
    K0('afterinit', t)
  }
  function j0(t) {
    K0('afterupdate', t)
  }
  function K0(t, e) {
    Xm.on(t, e)
  }
  function $0(t, e, n) {
    A(e) && ((n = e), (e = ''))
    var i = O(t) ? t.type : [t, (t = { event: e })][0]
    ;(t.event = (t.event || i).toLowerCase()),
      (e = t.event),
      P0[e] || (Mt($m.test(i) && $m.test(e)), L0[i] || (L0[i] = { action: n, actionInfo: t }), (P0[e] = i))
  }
  function Q0(t, e) {
    Ed.register(t, e)
  }
  function J0(t, e) {
    nv(N0, t, e, 1e3, 'layout')
  }
  function tv(t, e) {
    nv(N0, t, e, 3e3, 'visual')
  }
  var ev = []
  function nv(t, e, n, i, o) {
    ;(A(e) || O(e)) && ((n = e), (e = i)),
      0 <= C(ev, n) || (ev.push(n), ((i = ky.wrapStageHandler(n, o)).__prio = e), (i.__raw = n), t.push(i))
  }
  function iv(t, e) {
    z0[t] = e
  }
  function ov(t, e, n) {
    var i = Zm.registerMap
    i && i(t, e, n)
  }
  function rv(t) {
    var e = (t = y(t)).type,
      n = (e || f(''), e.split(':')),
      i = (2 !== n.length && f(''), !1)
    'echarts' === n[0] && ((e = n[1]), (i = !0)), (t.__isBuiltIn = i), dg.set(e, t)
  }
  tv(2e3, zc),
    tv(4500, na),
    tv(4500, Hc),
    tv(2e3, Vc),
    tv(4500, Nc),
    tv(7e3, function(e, i) {
      e.eachRawSeries(function(t) {
        var n
        !e.isSeriesFiltered(t) &&
          ((n = t.getData()).hasItemVisual() &&
            n.each(function(t) {
              var e = n.getItemVisual(t, 'decal')
              e && (n.ensureUniqueItemVisual(t, 'style').decal = Um(e, i))
            }),
          (t = n.getVisual('decal'))) &&
          (n.getVisual('style').decal = Um(t, i))
      })
    }),
    X0(af),
    Z0(900, function(t) {
      var i = N()
      t.eachSeries(function(t) {
        var e,
          n = t.get('stack')
        n &&
          ((n = i.get(n) || i.set(n, [])),
          (t = {
            stackResultDimension: (e = t.getData()).getCalculationInfo('stackResultDimension'),
            stackedOverDimension: e.getCalculationInfo('stackedOverDimension'),
            stackedDimension: e.getCalculationInfo('stackedDimension'),
            stackedByDimension: e.getCalculationInfo('stackedByDimension'),
            isStackedByIndex: e.getCalculationInfo('isStackedByIndex'),
            data: e,
            seriesModel: t,
          }).stackedDimension) &&
          (t.isStackedByIndex || t.stackedByDimension) &&
          (n.length && e.setCalculationInfo('stackedOnSeries', n[n.length - 1].seriesModel), n.push(t))
      }),
        i.each(sf)
    }),
    iv('default', function(i, o) {
      z((o = o || {}), {
        text: 'loading',
        textColor: '#000',
        fontSize: 12,
        fontWeight: 'normal',
        fontStyle: 'normal',
        fontFamily: 'sans-serif',
        maskColor: 'rgba(255, 255, 255, 0.8)',
        showSpinner: !0,
        color: '#5470c6',
        spinnerRadius: 10,
        lineWidth: 5,
        zlevel: 0,
      })
      var r,
        t = new Yo(),
        a = new Es({ style: { fill: o.maskColor }, zlevel: o.zlevel, z: 1e4 }),
        s =
          (t.add(a),
          new Hs({
            style: {
              text: o.text,
              fill: o.textColor,
              fontSize: o.fontSize,
              fontWeight: o.fontWeight,
              fontStyle: o.fontStyle,
              fontFamily: o.fontFamily,
            },
            zlevel: o.zlevel,
            z: 10001,
          })),
        l = new Es({ style: { fill: 'none' }, textContent: s, textConfig: { position: 'right', distance: 10 }, zlevel: o.zlevel, z: 10001 })
      return (
        t.add(l),
        o.showSpinner &&
          ((r = new dh({
            shape: { startAngle: -Dy / 2, endAngle: -Dy / 2 + 0.1, r: o.spinnerRadius },
            style: { stroke: o.color, lineCap: 'round', lineWidth: o.lineWidth },
            zlevel: o.zlevel,
            z: 10001,
          }))
            .animateShape(!0)
            .when(1e3, { endAngle: (3 * Dy) / 2 })
            .start('circularInOut'),
          r
            .animateShape(!0)
            .when(1e3, { startAngle: (3 * Dy) / 2 })
            .delay(300)
            .start('circularInOut'),
          t.add(r)),
        (t.resize = function() {
          var t = s.getBoundingRect().width,
            e = o.showSpinner ? o.spinnerRadius : 0,
            t =
              (i.getWidth() - 2 * e - (o.showSpinner && t ? 10 : 0) - t) / 2 -
              (o.showSpinner && t ? 0 : 5 + t / 2) +
              (o.showSpinner ? 0 : t / 2) +
              (t ? 0 : e),
            n = i.getHeight() / 2
          o.showSpinner && r.setShape({ cx: t, cy: n }),
            l.setShape({ x: t - e, y: n - e, width: 2 * e, height: 2 * e }),
            a.setShape({ x: 0, y: 0, width: i.getWidth(), height: i.getHeight() })
        }),
        t.resize(),
        t
      )
    }),
    $0({ type: ul, event: ul, update: ul }, Bt),
    $0({ type: hl, event: hl, update: hl }, Bt),
    $0({ type: cl, event: cl, update: cl }, Bt),
    $0({ type: pl, event: pl, update: pl }, Bt),
    $0({ type: dl, event: dl, update: dl }, Bt),
    Y0('light', sp),
    Y0('dark', ic)
  function av(t) {
    return null == t ? 0 : t.length || 1
  }
  function sv(t) {
    return t
  }
  ;(uv.prototype.add = function(t) {
    return (this._add = t), this
  }),
    (uv.prototype.update = function(t) {
      return (this._update = t), this
    }),
    (uv.prototype.updateManyToOne = function(t) {
      return (this._updateManyToOne = t), this
    }),
    (uv.prototype.updateOneToMany = function(t) {
      return (this._updateOneToMany = t), this
    }),
    (uv.prototype.updateManyToMany = function(t) {
      return (this._updateManyToMany = t), this
    }),
    (uv.prototype.remove = function(t) {
      return (this._remove = t), this
    }),
    (uv.prototype.execute = function() {
      this[this._diffModeMultiple ? '_executeMultiple' : '_executeOneToOne']()
    }),
    (uv.prototype._executeOneToOne = function() {
      var t = this._old,
        e = this._new,
        n = {},
        i = new Array(t.length),
        o = new Array(e.length)
      this._initIndexMap(t, null, i, '_oldKeyGetter'), this._initIndexMap(e, n, o, '_newKeyGetter')
      for (var r = 0; r < t.length; r++) {
        var a,
          s = i[r],
          l = n[s],
          u = av(l)
        1 < u
          ? ((a = l.shift()), 1 === l.length && (n[s] = l[0]), this._update && this._update(a, r))
          : 1 === u
          ? ((n[s] = null), this._update && this._update(l, r))
          : this._remove && this._remove(r)
      }
      this._performRestAdd(o, n)
    }),
    (uv.prototype._executeMultiple = function() {
      var t = this._old,
        e = this._new,
        n = {},
        i = {},
        o = [],
        r = []
      this._initIndexMap(t, n, o, '_oldKeyGetter'), this._initIndexMap(e, i, r, '_newKeyGetter')
      for (var a = 0; a < o.length; a++) {
        var s = o[a],
          l = n[s],
          u = i[s],
          h = av(l),
          c = av(u)
        if (1 < h && 1 === c) this._updateManyToOne && this._updateManyToOne(u, l), (i[s] = null)
        else if (1 === h && 1 < c) this._updateOneToMany && this._updateOneToMany(u, l), (i[s] = null)
        else if (1 === h && 1 === c) this._update && this._update(u, l), (i[s] = null)
        else if (1 < h && 1 < c) this._updateManyToMany && this._updateManyToMany(u, l), (i[s] = null)
        else if (1 < h) for (var p = 0; p < h; p++) this._remove && this._remove(l[p])
        else this._remove && this._remove(l)
      }
      this._performRestAdd(r, i)
    }),
    (uv.prototype._performRestAdd = function(t, e) {
      for (var n = 0; n < t.length; n++) {
        var i = t[n],
          o = e[i],
          r = av(o)
        if (1 < r) for (var a = 0; a < r; a++) this._add && this._add(o[a])
        else 1 === r && this._add && this._add(o)
        e[i] = null
      }
    }),
    (uv.prototype._initIndexMap = function(t, e, n, i) {
      for (var o = this._diffModeMultiple, r = 0; r < t.length; r++) {
        var a,
          s,
          l = '_ec_' + this[i](t[r], r)
        o || (n[r] = l), e && (0 === (s = av((a = e[l]))) ? ((e[l] = r), o && n.push(l)) : 1 === s ? (e[l] = [a, r]) : a.push(r))
      }
    })
  var lv = uv
  function uv(t, e, n, i, o, r) {
    ;(this._old = t),
      (this._new = e),
      (this._oldKeyGetter = n || sv),
      (this._newKeyGetter = i || sv),
      (this.context = o),
      (this._diffModeMultiple = 'multiple' === r)
  }
  ;(cv.prototype.get = function() {
    return { fullDimensions: this._getFullDimensionNames(), encode: this._encode }
  }),
    (cv.prototype._getFullDimensionNames = function() {
      return (
        this._cachedDimNames || (this._cachedDimNames = this._schema ? this._schema.makeOutputDimensionNames() : []), this._cachedDimNames
      )
    })
  var hv = cv
  function cv(t, e) {
    ;(this._encode = t), (this._schema = e)
  }
  function pv(r, t) {
    var e = {},
      a = (e.encode = {}),
      s = N(),
      l = [],
      u = [],
      h = {},
      i =
        (E(r.dimensions, function(t) {
          var e,
            n,
            i = r.getDimensionInfo(t),
            o = i.coordDim
          o &&
            ((e = i.coordDimIndex),
            (dv(a, o)[e] = t),
            i.isExtraCoord ||
              (s.set(o, 1), 'ordinal' !== (n = i.type) && 'time' !== n && (l[0] = t), (dv(h, o)[e] = r.getDimensionIndex(i.name))),
            i.defaultTooltip) &&
            u.push(t),
            nd.each(function(t, e) {
              var n = dv(a, e),
                e = i.otherDims[e]
              null != e && !1 !== e && (n[e] = i.name)
            })
        }),
        []),
      o = {},
      n =
        (s.each(function(t, e) {
          var n = a[e]
          ;(o[e] = n[0]), (i = i.concat(n))
        }),
        (e.dataDimsOnCoord = i),
        (e.dataDimIndicesOnCoord = B(i, function(t) {
          return r.getDimensionInfo(t).storeDimIndex
        })),
        (e.encodeFirstDimNotExtra = o),
        a.label),
      n = (n && n.length && (l = n.slice()), a.tooltip)
    return (
      n && n.length ? (u = n.slice()) : u.length || (u = l.slice()),
      (a.defaultedLabel = l),
      (a.defaultedTooltip = u),
      (e.userOutput = new hv(h, t)),
      e
    )
  }
  function dv(t, e) {
    return t.hasOwnProperty(e) || (t[e] = []), t[e]
  }
  var fv = function(t) {
      ;(this.otherDims = {}), null != t && P(this, t)
    },
    gv = Nr(),
    yv = { float: 'f', int: 'i', ordinal: 'o', number: 'n', time: 't' },
    mv =
      ((vv.prototype.isDimensionOmitted = function() {
        return this._dimOmitted
      }),
      (vv.prototype._updateDimOmitted = function(t) {
        ;(this._dimOmitted = t) && !this._dimNameMap && (this._dimNameMap = wv(this.source))
      }),
      (vv.prototype.getSourceDimensionIndex = function(t) {
        return R(this._dimNameMap.get(t), -1)
      }),
      (vv.prototype.getSourceDimension = function(t) {
        var e = this.source.dimensionsDefine
        if (e) return e[t]
      }),
      (vv.prototype.makeStoreSchema = function() {
        for (var t = this._fullDimCount, e = mf(this.source), n = !(30 < t), i = '', o = [], r = 0, a = 0; r < t; r++) {
          var s,
            l = void 0,
            u = void 0,
            h = void 0,
            c = this.dimensions[a]
          c && c.storeDimIndex === r
            ? ((l = e ? c.name : null), (u = c.type), (h = c.ordinalMeta), a++)
            : (s = this.getSourceDimension(r)) && ((l = e ? s.name : null), (u = s.type)),
            o.push({ property: l, type: u, ordinalMeta: h }),
            !e || null == l || (c && c.isCalculationCoord) || (i += n ? l.replace(/\`/g, '`1').replace(/\$/g, '`2') : l),
            (i = i + '$' + (yv[u] || 'f')),
            h && (i += h.uid),
            (i += '$')
        }
        var p = this.source
        return { dimensions: o, hash: [p.seriesLayoutBy, p.startIndex, i].join('$$') }
      }),
      (vv.prototype.makeOutputDimensionNames = function() {
        for (var t = [], e = 0, n = 0; e < this._fullDimCount; e++) {
          var i = void 0,
            o = this.dimensions[n]
          o && o.storeDimIndex === e ? (o.isCalculationCoord || (i = o.name), n++) : (o = this.getSourceDimension(e)) && (i = o.name),
            t.push(i)
        }
        return t
      }),
      (vv.prototype.appendCalculationDimension = function(t) {
        this.dimensions.push(t), (t.isCalculationCoord = !0), this._fullDimCount++, this._updateDimOmitted(!0)
      }),
      vv)
  function vv(t) {
    ;(this.dimensions = t.dimensions),
      (this._dimOmitted = t.dimensionOmitted),
      (this.source = t.source),
      (this._fullDimCount = t.fullDimensionCount),
      this._updateDimOmitted(t.dimensionOmitted)
  }
  function _v(t) {
    return t instanceof mv
  }
  function xv(t) {
    for (var e = N(), n = 0; n < (t || []).length; n++) {
      var i = t[n],
        i = O(i) ? i.name : i
      null != i && null == e.get(i) && e.set(i, n)
    }
    return e
  }
  function wv(t) {
    var e = gv(t)
    return e.dimNameMap || (e.dimNameMap = xv(t.dimensionsDefine))
  }
  var bv,
    Sv,
    Mv,
    Tv,
    Iv,
    Cv,
    Av,
    Dv = O,
    kv = B,
    Lv = 'undefined' == typeof Int32Array ? Array : Int32Array,
    Pv = [
      'hasItemOption',
      '_nameList',
      '_idList',
      '_invertedIndicesMap',
      '_dimSummary',
      'userOutput',
      '_rawData',
      '_dimValueGetter',
      '_nameDimIdx',
      '_idDimIdx',
      '_nameRepeatCount',
    ],
    Ov = ['_approximateExtent'],
    Rv =
      ((h.prototype.getDimension = function(t) {
        var e
        return null == (e = this._recognizeDimIndex(t))
          ? t
          : ((e = t),
            this._dimOmitted
              ? null != (t = this._dimIdxToName.get(e))
                ? t
                : (t = this._schema.getSourceDimension(e))
                ? t.name
                : void 0
              : this.dimensions[e])
      }),
      (h.prototype.getDimensionIndex = function(t) {
        var e = this._recognizeDimIndex(t)
        return null != e
          ? e
          : null == t
          ? -1
          : (e = this._getDimInfo(t))
          ? e.storeDimIndex
          : this._dimOmitted
          ? this._schema.getSourceDimensionIndex(t)
          : -1
      }),
      (h.prototype._recognizeDimIndex = function(t) {
        if (H(t) || (null != t && !isNaN(t) && !this._getDimInfo(t) && (!this._dimOmitted || this._schema.getSourceDimensionIndex(t) < 0)))
          return +t
      }),
      (h.prototype._getStoreDimIndex = function(t) {
        return this.getDimensionIndex(t)
      }),
      (h.prototype.getDimensionInfo = function(t) {
        return this._getDimInfo(this.getDimension(t))
      }),
      (h.prototype._initGetDimensionInfo = function(t) {
        var e = this._dimInfos
        this._getDimInfo = t
          ? function(t) {
              return e.hasOwnProperty(t) ? e[t] : void 0
            }
          : function(t) {
              return e[t]
            }
      }),
      (h.prototype.getDimensionsOnCoord = function() {
        return this._dimSummary.dataDimsOnCoord.slice()
      }),
      (h.prototype.mapDimension = function(t, e) {
        var n = this._dimSummary
        return null == e ? n.encodeFirstDimNotExtra[t] : (n = n.encode[t]) ? n[e] : null
      }),
      (h.prototype.mapDimensionsAll = function(t) {
        return (this._dimSummary.encode[t] || []).slice()
      }),
      (h.prototype.getStore = function() {
        return this._store
      }),
      (h.prototype.initData = function(t, e, n) {
        var i,
          o,
          r = this
        ;(i = t instanceof Mg ? t : i) ||
          ((o = this.dimensions),
          (t = cf(t) || lt(t) ? new wf(t, o.length) : t),
          (i = new Mg()),
          (o = kv(o, function(t) {
            return { type: r._dimInfos[t].type, property: t }
          })),
          i.initData(t, o, n)),
          (this._store = i),
          (this._nameList = (e || []).slice()),
          (this._idList = []),
          (this._nameRepeatCount = {}),
          this._doInit(0, i.count()),
          (this._dimSummary = pv(this, this._schema)),
          (this.userOutput = this._dimSummary.userOutput)
      }),
      (h.prototype.appendData = function(t) {
        t = this._store.appendData(t)
        this._doInit(t[0], t[1])
      }),
      (h.prototype.appendValues = function(t, e) {
        var t = this._store.appendValues(t, e && e.length),
          n = t.start,
          i = t.end,
          o = this._shouldMakeIdFromName()
        if ((this._updateOrdinalMeta(), e)) for (var r = n; r < i; r++) (this._nameList[r] = e[r - n]), o && Av(this, r)
      }),
      (h.prototype._updateOrdinalMeta = function() {
        for (var t = this._store, e = this.dimensions, n = 0; n < e.length; n++) {
          var i = this._dimInfos[e[n]]
          i.ordinalMeta && t.collectOrdinalMeta(i.storeDimIndex, i.ordinalMeta)
        }
      }),
      (h.prototype._shouldMakeIdFromName = function() {
        var t = this._store.getProvider()
        return null == this._idDimIdx && t.getSource().sourceFormat !== sd && !t.fillStorage
      }),
      (h.prototype._doInit = function(t, e) {
        if (!(e <= t)) {
          var n = this._store.getProvider(),
            i = (this._updateOrdinalMeta(), this._nameList),
            o = this._idList
          if (n.getSource().sourceFormat === id && !n.pure)
            for (var r = [], a = t; a < e; a++) {
              var s,
                l = n.getItem(a, r)
              this.hasItemOption || !O((s = l)) || s instanceof Array || (this.hasItemOption = !0),
                l &&
                  ((s = l.name), null == i[a] && null != s && (i[a] = kr(s, null)), (l = l.id), null == o[a]) &&
                  null != l &&
                  (o[a] = kr(l, null))
            }
          if (this._shouldMakeIdFromName()) for (a = t; a < e; a++) Av(this, a)
          bv(this)
        }
      }),
      (h.prototype.getApproximateExtent = function(t) {
        return this._approximateExtent[t] || this._store.getDataExtent(this._getStoreDimIndex(t))
      }),
      (h.prototype.setApproximateExtent = function(t, e) {
        ;(e = this.getDimension(e)), (this._approximateExtent[e] = t.slice())
      }),
      (h.prototype.getCalculationInfo = function(t) {
        return this._calculationInfo[t]
      }),
      (h.prototype.setCalculationInfo = function(t, e) {
        Dv(t) ? P(this._calculationInfo, t) : (this._calculationInfo[t] = e)
      }),
      (h.prototype.getName = function(t) {
        var t = this.getRawIndex(t),
          e = this._nameList[t]
        return (e = null == (e = null == e && null != this._nameDimIdx ? Mv(this, this._nameDimIdx, t) : e) ? '' : e)
      }),
      (h.prototype._getCategory = function(t, e) {
        ;(e = this._store.get(t, e)), (t = this._store.getOrdinalMeta(t))
        return t ? t.categories[e] : e
      }),
      (h.prototype.getId = function(t) {
        return Sv(this, this.getRawIndex(t))
      }),
      (h.prototype.count = function() {
        return this._store.count()
      }),
      (h.prototype.get = function(t, e) {
        var n = this._store,
          t = this._dimInfos[t]
        if (t) return n.get(t.storeDimIndex, e)
      }),
      (h.prototype.getByRawIndex = function(t, e) {
        var n = this._store,
          t = this._dimInfos[t]
        if (t) return n.getByRawIndex(t.storeDimIndex, e)
      }),
      (h.prototype.getIndices = function() {
        return this._store.getIndices()
      }),
      (h.prototype.getDataExtent = function(t) {
        return this._store.getDataExtent(this._getStoreDimIndex(t))
      }),
      (h.prototype.getSum = function(t) {
        return this._store.getSum(this._getStoreDimIndex(t))
      }),
      (h.prototype.getMedian = function(t) {
        return this._store.getMedian(this._getStoreDimIndex(t))
      }),
      (h.prototype.getValues = function(t, e) {
        var n = this,
          i = this._store
        return V(t)
          ? i.getValues(
              kv(t, function(t) {
                return n._getStoreDimIndex(t)
              }),
              e
            )
          : i.getValues(t)
      }),
      (h.prototype.hasValue = function(t) {
        for (var e = this._dimSummary.dataDimIndicesOnCoord, n = 0, i = e.length; n < i; n++) if (isNaN(this._store.get(e[n], t))) return !1
        return !0
      }),
      (h.prototype.indexOfName = function(t) {
        for (var e = 0, n = this._store.count(); e < n; e++) if (this.getName(e) === t) return e
        return -1
      }),
      (h.prototype.getRawIndex = function(t) {
        return this._store.getRawIndex(t)
      }),
      (h.prototype.indexOfRawIndex = function(t) {
        return this._store.indexOfRawIndex(t)
      }),
      (h.prototype.rawIndexOf = function(t, e) {
        ;(t = t && this._invertedIndicesMap[t]), (t = t && t[e])
        return null == t || isNaN(t) ? -1 : t
      }),
      (h.prototype.indicesOfNearest = function(t, e, n) {
        return this._store.indicesOfNearest(this._getStoreDimIndex(t), e, n)
      }),
      (h.prototype.each = function(t, e, n) {
        A(t) && ((n = e), (e = t), (t = []))
        ;(n = n || this), (t = kv(Tv(t), this._getStoreDimIndex, this))
        this._store.each(t, n ? S(e, n) : e)
      }),
      (h.prototype.filterSelf = function(t, e, n) {
        A(t) && ((n = e), (e = t), (t = []))
        ;(n = n || this), (t = kv(Tv(t), this._getStoreDimIndex, this))
        return (this._store = this._store.filter(t, n ? S(e, n) : e)), this
      }),
      (h.prototype.selectRange = function(n) {
        var i = this,
          o = {}
        return (
          E(ct(n), function(t) {
            var e = i._getStoreDimIndex(t)
            o[e] = n[t]
          }),
          (this._store = this._store.selectRange(o)),
          this
        )
      }),
      (h.prototype.mapArray = function(t, e, n) {
        A(t) && ((n = e), (e = t), (t = []))
        var i = []
        return (
          this.each(
            t,
            function() {
              i.push(e && e.apply(this, arguments))
            },
            (n = n || this)
          ),
          i
        )
      }),
      (h.prototype.map = function(t, e, n, i) {
        ;(n = n || i || this), (i = kv(Tv(t), this._getStoreDimIndex, this)), (t = Cv(this))
        return (t._store = this._store.map(i, n ? S(e, n) : e)), t
      }),
      (h.prototype.modify = function(t, e, n, i) {
        ;(n = n || i || this), (i = kv(Tv(t), this._getStoreDimIndex, this))
        this._store.modify(i, n ? S(e, n) : e)
      }),
      (h.prototype.downSample = function(t, e, n, i) {
        var o = Cv(this)
        return (o._store = this._store.downSample(this._getStoreDimIndex(t), e, n, i)), o
      }),
      (h.prototype.minmaxDownSample = function(t, e) {
        var n = Cv(this)
        return (n._store = this._store.minmaxDownSample(this._getStoreDimIndex(t), e)), n
      }),
      (h.prototype.lttbDownSample = function(t, e) {
        var n = Cv(this)
        return (n._store = this._store.lttbDownSample(this._getStoreDimIndex(t), e)), n
      }),
      (h.prototype.getRawDataItem = function(t) {
        return this._store.getRawDataItem(t)
      }),
      (h.prototype.getItemModel = function(t) {
        var e = this.hostModel,
          t = this.getRawDataItem(t)
        return new Uc(t, e, e && e.ecModel)
      }),
      (h.prototype.diff = function(e) {
        var n = this
        return new lv(
          e ? e.getStore().getIndices() : [],
          this.getStore().getIndices(),
          function(t) {
            return Sv(e, t)
          },
          function(t) {
            return Sv(n, t)
          }
        )
      }),
      (h.prototype.getVisual = function(t) {
        var e = this._visual
        return e && e[t]
      }),
      (h.prototype.setVisual = function(t, e) {
        ;(this._visual = this._visual || {}), Dv(t) ? P(this._visual, t) : (this._visual[t] = e)
      }),
      (h.prototype.getItemVisual = function(t, e) {
        ;(t = this._itemVisuals[t]), (t = t && t[e])
        return null == t ? this.getVisual(e) : t
      }),
      (h.prototype.hasItemVisual = function() {
        return 0 < this._itemVisuals.length
      }),
      (h.prototype.ensureUniqueItemVisual = function(t, e) {
        var n = this._itemVisuals,
          i = n[t],
          n = (i = i || (n[t] = {}))[e]
        return null == n && (V((n = this.getVisual(e))) ? (n = n.slice()) : Dv(n) && (n = P({}, n)), (i[e] = n)), n
      }),
      (h.prototype.setItemVisual = function(t, e, n) {
        var i = this._itemVisuals[t] || {}
        ;(this._itemVisuals[t] = i), Dv(e) ? P(i, e) : (i[e] = n)
      }),
      (h.prototype.clearAllVisual = function() {
        ;(this._visual = {}), (this._itemVisuals = [])
      }),
      (h.prototype.setLayout = function(t, e) {
        Dv(t) ? P(this._layout, t) : (this._layout[t] = e)
      }),
      (h.prototype.getLayout = function(t) {
        return this._layout[t]
      }),
      (h.prototype.getItemLayout = function(t) {
        return this._itemLayouts[t]
      }),
      (h.prototype.setItemLayout = function(t, e, n) {
        this._itemLayouts[t] = n ? P(this._itemLayouts[t] || {}, e) : e
      }),
      (h.prototype.clearItemLayouts = function() {
        this._itemLayouts.length = 0
      }),
      (h.prototype.setItemGraphicEl = function(t, e) {
        var n = this.hostModel && this.hostModel.seriesIndex
        Js(n, this.dataType, t, e), (this._graphicEls[t] = e)
      }),
      (h.prototype.getItemGraphicEl = function(t) {
        return this._graphicEls[t]
      }),
      (h.prototype.eachItemGraphicEl = function(n, i) {
        E(this._graphicEls, function(t, e) {
          t && n && n.call(i, t, e)
        })
      }),
      (h.prototype.cloneShallow = function(t) {
        return (
          (t = t || new h(this._schema || kv(this.dimensions, this._getDimInfo, this), this.hostModel)),
          Iv(t, this),
          (t._store = this._store),
          t
        )
      }),
      (h.prototype.wrapMethod = function(t, e) {
        var n = this[t]
        A(n) &&
          ((this.__wrappedMethods = this.__wrappedMethods || []),
          this.__wrappedMethods.push(t),
          (this[t] = function() {
            var t = n.apply(this, arguments)
            return e.apply(this, [t].concat(bt(arguments)))
          }))
      }),
      (h.internalField =
        ((bv = function(a) {
          var s = a._invertedIndicesMap
          E(s, function(t, e) {
            var n = a._dimInfos[e],
              i = n.ordinalMeta,
              o = a._store
            if (i) {
              t = s[e] = new Lv(i.categories.length)
              for (var r = 0; r < t.length; r++) t[r] = -1
              for (r = 0; r < o.count(); r++) t[o.get(n.storeDimIndex, r)] = r
            }
          })
        }),
        (Mv = function(t, e, n) {
          return kr(t._getCategory(e, n), null)
        }),
        (Sv = function(t, e) {
          var n = t._idList[e]
          return (n = null == (n = null == n && null != t._idDimIdx ? Mv(t, t._idDimIdx, e) : n) ? 'e\0\0' + e : n)
        }),
        (Tv = function(t) {
          return (t = V(t) ? t : null != t ? [t] : [])
        }),
        (Cv = function(t) {
          var e = new h(t._schema || kv(t.dimensions, t._getDimInfo, t), t.hostModel)
          return Iv(e, t), e
        }),
        (Iv = function(e, n) {
          E(Pv.concat(n.__wrappedMethods || []), function(t) {
            n.hasOwnProperty(t) && (e[t] = n[t])
          }),
            (e.__wrappedMethods = n.__wrappedMethods),
            E(Ov, function(t) {
              e[t] = y(n[t])
            }),
            (e._calculationInfo = P({}, n._calculationInfo))
        }),
        void (Av = function(t, e) {
          var n = t._nameList,
            i = t._idList,
            o = t._nameDimIdx,
            r = t._idDimIdx,
            a = n[e],
            s = i[e]
          null == a && null != o && (n[e] = a = Mv(t, o, e)),
            null == s && null != r && (i[e] = s = Mv(t, r, e)),
            null == s && null != a && ((s = a), 1 < (o = (n = t._nameRepeatCount)[a] = (n[a] || 0) + 1) && (s += '__ec__' + o), (i[e] = s))
        }))),
      h)
  function h(t, e) {
    ;(this.type = 'list'),
      (this._dimOmitted = !1),
      (this._nameList = []),
      (this._idList = []),
      (this._visual = {}),
      (this._layout = {}),
      (this._itemVisuals = []),
      (this._itemLayouts = []),
      (this._graphicEls = []),
      (this._approximateExtent = {}),
      (this._calculationInfo = {}),
      (this.hasItemOption = !1),
      (this.TRANSFERABLE_METHODS = ['cloneShallow', 'downSample', 'minmaxDownSample', 'lttbDownSample', 'map']),
      (this.CHANGABLE_METHODS = ['filterSelf', 'selectRange'])
    for (
      var n,
        i,
        o = !(this.DOWNSAMPLE_METHODS = ['downSample', 'minmaxDownSample', 'lttbDownSample']),
        r =
          (_v(t) ? ((n = t.dimensions), (this._dimOmitted = t.isDimensionOmitted()), (this._schema = t)) : ((o = !0), (n = t)),
          (n = n || ['x', 'y']),
          {}),
        a = [],
        s = {},
        l = !1,
        u = {},
        h = 0;
      h < n.length;
      h++
    ) {
      var c = n[h],
        c = F(c) ? new fv({ name: c }) : c instanceof fv ? c : new fv(c),
        p = c.name,
        d = ((c.type = c.type || 'float'), c.coordDim || ((c.coordDim = p), (c.coordDimIndex = 0)), (c.otherDims = c.otherDims || {}))
      a.push(p),
        null != u[p] && (l = !0),
        (r[p] = c).createInvertedIndices && (s[p] = []),
        0 === d.itemName && (this._nameDimIdx = h),
        0 === d.itemId && (this._idDimIdx = h),
        o && (c.storeDimIndex = h)
    }
    ;(this.dimensions = a),
      (this._dimInfos = r),
      this._initGetDimensionInfo(l),
      (this.hostModel = e),
      (this._invertedIndicesMap = s),
      this._dimOmitted &&
        ((i = this._dimIdxToName = N()),
        E(a, function(t) {
          i.set(r[t].storeDimIndex, t)
        }))
  }
  function Nv(t, e) {
    cf(t) || (t = df(t))
    for (
      var n,
        i,
        o = (e = e || {}).coordDimensions || [],
        r = e.dimensionsDefine || t.dimensionsDefine || [],
        a = N(),
        s = [],
        l =
          ((u = t),
          (n = o),
          (p = e.dimensionsCount),
          (i = Math.max(u.dimensionsDetectedCount || 1, n.length, r.length, p || 0)),
          E(n, function(t) {
            O(t) && (t = t.dimsDef) && (i = Math.max(i, t.length))
          }),
          i),
        u = e.canOmitUnusedDimensions && 30 < l,
        h = r === t.dimensionsDefine,
        c = h ? wv(t) : xv(r),
        p = e.encodeDefine,
        d = N((p = !p && e.encodeDefaulter ? e.encodeDefaulter(t, l) : p)),
        f = new _g(l),
        g = 0;
      g < f.length;
      g++
    )
      f[g] = -1
    function y(t) {
      var e,
        n,
        i,
        o = f[t]
      return o < 0
        ? ((e = O((e = r[t])) ? e : { name: e }),
          (n = new fv()),
          null != (i = e.name) && null != c.get(i) && (n.name = n.displayName = i),
          null != e.type && (n.type = e.type),
          null != e.displayName && (n.displayName = e.displayName),
          (f[t] = s.length),
          (n.storeDimIndex = t),
          s.push(n),
          n)
        : s[o]
    }
    if (!u) for (g = 0; g < l; g++) y(g)
    d.each(function(t, n) {
      var i,
        t = Sr(t).slice()
      1 === t.length && !F(t[0]) && t[0] < 0
        ? d.set(n, !1)
        : ((i = d.set(n, [])),
          E(t, function(t, e) {
            t = F(t) ? c.get(t) : t
            null != t && t < l && v(y((i[e] = t)), n, e)
          }))
    })
    var m = 0
    function v(t, e, n) {
      null != nd.get(e) ? (t.otherDims[e] = n) : ((t.coordDim = e), (t.coordDimIndex = n), a.set(e, !0))
    }
    E(o, function(t) {
      F(t)
        ? ((r = t), (o = {}))
        : ((r = (o = t).name),
          (t = o.ordinalMeta),
          (o.ordinalMeta = null),
          ((o = P({}, o)).ordinalMeta = t),
          (n = o.dimsDef),
          (i = o.otherDims),
          (o.name = o.coordDim = o.coordDimIndex = o.dimsDef = o.otherDims = null))
      var n,
        i,
        o,
        r,
        e = d.get(r)
      if (!1 !== e) {
        if (!(e = Sr(e)).length)
          for (var a = 0; a < ((n && n.length) || 1); a++) {
            for (; m < l && null != y(m).coordDim; ) m++
            m < l && e.push(m++)
          }
        E(e, function(t, e) {
          t = y(t)
          h && null != o.type && (t.type = o.type),
            v(z(t, o), r, e),
            null == t.name &&
              n &&
              (O((e = n[e])) || (e = { name: e }), (t.name = t.displayName = e.name), (t.defaultTooltip = e.defaultTooltip)),
            i && z(t.otherDims, i)
        })
      }
    })
    var _ = e.generateCoord,
      x = null != (w = e.generateCoordCount),
      w = _ ? w || 1 : 0,
      b = _ || 'value'
    function S(t) {
      null == t.name && (t.name = t.coordDim)
    }
    if (u)
      E(s, function(t) {
        S(t)
      }),
        s.sort(function(t, e) {
          return t.storeDimIndex - e.storeDimIndex
        })
    else
      for (var M = 0; M < l; M++) {
        var T = y(M)
        null == T.coordDim &&
          ((T.coordDim = (function(t, e, n) {
            if (n || e.hasKey(t)) {
              for (var i = 0; e.hasKey(t + i); ) i++
              t += i
            }
            return e.set(t, !0), t
          })(b, a, x)),
          (T.coordDimIndex = 0),
          (!_ || w <= 0) && (T.isExtraCoord = !0),
          w--),
          S(T),
          null != T.type ||
            (yd(t, M) !== cd.Must && (!T.isExtraCoord || (null == T.otherDims.itemName && null == T.otherDims.seriesName))) ||
            (T.type = 'ordinal')
      }
    for (var I = s, C = N(), A = 0; A < I.length; A++) {
      var D = I[A],
        k = D.name,
        L = C.get(k) || 0
      0 < L && (D.name = k + (L - 1)), L++, C.set(k, L)
    }
    return new mv({ source: t, dimensions: s, fullDimensionCount: l, dimensionOmitted: u })
  }
  var Ev = function(t) {
    ;(this.coordSysDims = []), (this.axisMap = N()), (this.categoryAxisMap = N()), (this.coordSysName = t)
  }
  var zv = {
    cartesian2d: function(t, e, n, i) {
      var o = t.getReferringComponents('xAxis', Vr).models[0],
        t = t.getReferringComponents('yAxis', Vr).models[0]
      ;(e.coordSysDims = ['x', 'y']),
        n.set('x', o),
        n.set('y', t),
        Bv(o) && (i.set('x', o), (e.firstCategoryDimIndex = 0)),
        Bv(t) && (i.set('y', t), null == e.firstCategoryDimIndex) && (e.firstCategoryDimIndex = 1)
    },
    singleAxis: function(t, e, n, i) {
      t = t.getReferringComponents('singleAxis', Vr).models[0]
      ;(e.coordSysDims = ['single']), n.set('single', t), Bv(t) && (i.set('single', t), (e.firstCategoryDimIndex = 0))
    },
    polar: function(t, e, n, i) {
      var t = t.getReferringComponents('polar', Vr).models[0],
        o = t.findAxisModel('radiusAxis'),
        t = t.findAxisModel('angleAxis')
      ;(e.coordSysDims = ['radius', 'angle']),
        n.set('radius', o),
        n.set('angle', t),
        Bv(o) && (i.set('radius', o), (e.firstCategoryDimIndex = 0)),
        Bv(t) && (i.set('angle', t), null == e.firstCategoryDimIndex) && (e.firstCategoryDimIndex = 1)
    },
    geo: function(t, e, n, i) {
      e.coordSysDims = ['lng', 'lat']
    },
    parallel: function(t, i, o, r) {
      var a = t.ecModel,
        t = a.getComponent('parallel', t.get('parallelIndex')),
        s = (i.coordSysDims = t.dimensions.slice())
      E(t.parallelAxisIndex, function(t, e) {
        var t = a.getComponent('parallelAxis', t),
          n = s[e]
        o.set(n, t), Bv(t) && (r.set(n, t), null == i.firstCategoryDimIndex) && (i.firstCategoryDimIndex = e)
      })
    },
  }
  function Bv(t) {
    return 'category' === t.get('type')
  }
  function Vv(t, e, n) {
    var i,
      o,
      r,
      a,
      s,
      l,
      u,
      h,
      c,
      p = (n = n || {}).byIndex,
      d = n.stackedCoordDimension,
      f = (_v(e.schema) ? ((o = e.schema), (i = o.dimensions), (r = e.store)) : (i = e), !(!t || !t.get('stack')))
    return (
      E(i, function(t, e) {
        F(t) && (i[e] = t = { name: t }),
          f &&
            !t.isExtraCoord &&
            (p || a || !t.ordinalMeta || (a = t), s || 'ordinal' === t.type || 'time' === t.type || (d && d !== t.coordDim) || (s = t))
      }),
      !s || p || a || (p = !0),
      s &&
        ((l = '__\0ecstackresult_' + t.id),
        (u = '__\0ecstackedover_' + t.id),
        a && (a.createInvertedIndices = !0),
        (h = s.coordDim),
        (n = s.type),
        (c = 0),
        E(i, function(t) {
          t.coordDim === h && c++
        }),
        (e = { name: l, coordDim: h, coordDimIndex: c, type: n, isExtraCoord: !0, isCalculationCoord: !0, storeDimIndex: i.length }),
        (t = {
          name: u,
          coordDim: u,
          coordDimIndex: c + 1,
          type: n,
          isExtraCoord: !0,
          isCalculationCoord: !0,
          storeDimIndex: i.length + 1,
        }),
        o
          ? (r && ((e.storeDimIndex = r.ensureCalculationDimension(u, n)), (t.storeDimIndex = r.ensureCalculationDimension(l, n))),
            o.appendCalculationDimension(e),
            o.appendCalculationDimension(t))
          : (i.push(e), i.push(t))),
      {
        stackedDimension: s && s.name,
        stackedByDimension: a && a.name,
        isStackedByIndex: p,
        stackedOverDimension: u,
        stackResultDimension: l,
      }
    )
  }
  function Fv(t, e) {
    return !!e && e === t.getCalculationInfo('stackedDimension')
  }
  function Hv(t, e) {
    return Fv(t, e) ? t.getCalculationInfo('stackResultDimension') : e
  }
  function Gv(t, e, n) {
    n = n || {}
    var i,
      o,
      r,
      a,
      s,
      l,
      u = e.getSourceManager(),
      h = !1,
      t =
        (t ? ((h = !0), (i = df(t))) : (h = (i = u.getSource()).sourceFormat === id),
        (function(t) {
          var e = t.get('coordinateSystem'),
            n = new Ev(e)
          if ((e = zv[e])) return e(t, n, n.axisMap, n.categoryAxisMap), n
        })(e)),
      c =
        ((o = t),
        (c = (c = e).get('coordinateSystem')),
        (c = Ed.get(c)),
        (p = (p =
          o && o.coordSysDims
            ? B(o.coordSysDims, function(t) {
                var e = { name: t },
                  t = o.axisMap.get(t)
                return t && ((t = t.get('type')), (e.type = 'category' === (t = t) ? 'ordinal' : 'time' === t ? 'time' : 'float')), e
              })
            : p) ||
          (c && (c.getDimensionsInfo ? c.getDimensionsInfo() : c.dimensions.slice())) || ['x', 'y'])),
      p = n.useEncodeDefaulter,
      p = A(p) ? p : p ? M(dd, c, e) : null,
      c = {
        coordDimensions: c,
        generateCoord: n.generateCoord,
        encodeDefine: e.getEncode(),
        encodeDefaulter: p,
        canOmitUnusedDimensions: !h,
      },
      p = Nv(i, c),
      d =
        ((c = p.dimensions),
        (r = n.createInvertedIndices),
        (a = t) &&
          E(c, function(t, e) {
            var n = t.coordDim,
              n = a.categoryAxisMap.get(n)
            n && (null == s && (s = e), (t.ordinalMeta = n.getOrdinalMeta()), r) && (t.createInvertedIndices = !0),
              null != t.otherDims.itemName && (l = !0)
          }),
        l || null == s || (c[s].otherDims.itemName = 0),
        s),
      n = h ? null : u.getSharedDataStore(p),
      t = Vv(e, { schema: p, store: n }),
      c = new Rv(p, e),
      p =
        (c.setCalculationInfo(t),
        null == d ||
        (u = i).sourceFormat !== id ||
        V(
          Ir(
            (function(t) {
              var e = 0
              for (; e < t.length && null == t[e]; ) e++
              return t[e]
            })(u.data || [])
          )
        )
          ? null
          : function(t, e, n, i) {
              return i === d ? n : this.defaultDimValueGetter(t, e, n, i)
            })
    return (c.hasItemOption = !1), c.initData(h ? i : n, null, p), c
  }
  ;(Uv.prototype.getSetting = function(t) {
    return this._setting[t]
  }),
    (Uv.prototype.unionExtent = function(t) {
      var e = this._extent
      t[0] < e[0] && (e[0] = t[0]), t[1] > e[1] && (e[1] = t[1])
    }),
    (Uv.prototype.unionExtentFromData = function(t, e) {
      this.unionExtent(t.getApproximateExtent(e))
    }),
    (Uv.prototype.getExtent = function() {
      return this._extent.slice()
    }),
    (Uv.prototype.setExtent = function(t, e) {
      var n = this._extent
      isNaN(t) || (n[0] = t), isNaN(e) || (n[1] = e)
    }),
    (Uv.prototype.isInExtentRange = function(t) {
      return this._extent[0] <= t && this._extent[1] >= t
    }),
    (Uv.prototype.isBlank = function() {
      return this._isBlank
    }),
    (Uv.prototype.setBlank = function(t) {
      this._isBlank = t
    })
  var Wv = Uv
  function Uv(t) {
    ;(this._setting = t || {}), (this._extent = [1 / 0, -1 / 0])
  }
  Jr(Wv)
  var Yv = 0,
    Xv =
      ((Zv.createByAxisModel = function(t) {
        var t = t.option,
          e = t.data,
          e = e && B(e, qv)
        return new Zv({ categories: e, needCollect: !e, deduplication: !1 !== t.dedplication })
      }),
      (Zv.prototype.getOrdinal = function(t) {
        return this._getOrCreateMap().get(t)
      }),
      (Zv.prototype.parseAndCollect = function(t) {
        var e,
          n,
          i = this._needCollect
        return F(t) || i
          ? (i && !this._deduplication
              ? ((n = this.categories.length), (this.categories[n] = t))
              : null == (n = (e = this._getOrCreateMap()).get(t)) &&
                (i ? ((n = this.categories.length), (this.categories[n] = t), e.set(t, n)) : (n = NaN)),
            n)
          : t
      }),
      (Zv.prototype._getOrCreateMap = function() {
        return this._map || (this._map = N(this.categories))
      }),
      Zv)
  function Zv(t) {
    ;(this.categories = t.categories || []), (this._needCollect = t.needCollect), (this._deduplication = t.deduplication), (this.uid = ++Yv)
  }
  function qv(t) {
    return O(t) && null != t.value ? t.value : t + ''
  }
  function jv(t) {
    return 'interval' === t.type || 'log' === t.type
  }
  function Kv(t, e, n, i) {
    var o = {},
      r = t[1] - t[0],
      r = (o.interval = yr(r / e, !0)),
      e = (null != n && r < n && (r = o.interval = n), null != i && i < r && (r = o.interval = i), (o.intervalPrecision = Qv(r))),
      n = (o.niceTickExtent = [or(Math.ceil(t[0] / r) * r, e), or(Math.floor(t[1] / r) * r, e)])
    return (
      (i = n),
      (r = t),
      isFinite(i[0]) || (i[0] = r[0]),
      isFinite(i[1]) || (i[1] = r[1]),
      Jv(i, 0, r),
      Jv(i, 1, r),
      i[0] > i[1] && (i[0] = i[1]),
      o
    )
  }
  function $v(t) {
    var e = Math.pow(10, gr(t)),
      t = t / e
    return t ? (2 === t ? (t = 3) : 3 === t ? (t = 5) : (t *= 2)) : (t = 1), or(t * e)
  }
  function Qv(t) {
    return ar(t) + 2
  }
  function Jv(t, e, n) {
    t[e] = Math.max(Math.min(t[e], n[1]), n[0])
  }
  function t_(t, e) {
    return t >= e[0] && t <= e[1]
  }
  function e_(t, e) {
    return e[1] === e[0] ? 0.5 : (t - e[0]) / (e[1] - e[0])
  }
  function n_(t, e) {
    return t * (e[1] - e[0]) + e[0]
  }
  u(r_, (i_ = Wv)),
    (r_.prototype.parse = function(t) {
      return null == t ? NaN : F(t) ? this._ordinalMeta.getOrdinal(t) : Math.round(t)
    }),
    (r_.prototype.contain = function(t) {
      return t_((t = this.parse(t)), this._extent) && null != this._ordinalMeta.categories[t]
    }),
    (r_.prototype.normalize = function(t) {
      return e_((t = this._getTickNumber(this.parse(t))), this._extent)
    }),
    (r_.prototype.scale = function(t) {
      return (t = Math.round(n_(t, this._extent))), this.getRawOrdinalNumber(t)
    }),
    (r_.prototype.getTicks = function() {
      for (var t = [], e = this._extent, n = e[0]; n <= e[1]; ) t.push({ value: n }), n++
      return t
    }),
    (r_.prototype.getMinorTicks = function(t) {}),
    (r_.prototype.setSortInfo = function(t) {
      if (null == t) this._ordinalNumbersByTick = this._ticksByOrdinalNumber = null
      else {
        for (
          var e = t.ordinalNumbers,
            n = (this._ordinalNumbersByTick = []),
            i = (this._ticksByOrdinalNumber = []),
            o = 0,
            r = this._ordinalMeta.categories.length,
            a = Math.min(r, e.length);
          o < a;
          ++o
        ) {
          var s = e[o]
          i[(n[o] = s)] = o
        }
        for (var l = 0; o < r; ++o) {
          for (; null != i[l]; ) l++
          n.push(l), (i[l] = o)
        }
      }
    }),
    (r_.prototype._getTickNumber = function(t) {
      var e = this._ticksByOrdinalNumber
      return e && 0 <= t && t < e.length ? e[t] : t
    }),
    (r_.prototype.getRawOrdinalNumber = function(t) {
      var e = this._ordinalNumbersByTick
      return e && 0 <= t && t < e.length ? e[t] : t
    }),
    (r_.prototype.getLabel = function(t) {
      if (!this.isBlank()) return (t = this.getRawOrdinalNumber(t.value)), null == (t = this._ordinalMeta.categories[t]) ? '' : t + ''
    }),
    (r_.prototype.count = function() {
      return this._extent[1] - this._extent[0] + 1
    }),
    (r_.prototype.unionExtentFromData = function(t, e) {
      this.unionExtent(t.getApproximateExtent(e))
    }),
    (r_.prototype.isInExtentRange = function(t) {
      return (t = this._getTickNumber(t)), this._extent[0] <= t && this._extent[1] >= t
    }),
    (r_.prototype.getOrdinalMeta = function() {
      return this._ordinalMeta
    }),
    (r_.prototype.calcNiceTicks = function() {}),
    (r_.prototype.calcNiceExtent = function() {}),
    (r_.type = 'ordinal')
  var i_,
    o_ = r_
  function r_(t) {
    var t = i_.call(this, t) || this,
      e = ((t.type = 'ordinal'), t.getSetting('ordinalMeta'))
    return (
      V((e = e || new Xv({}))) &&
        (e = new Xv({
          categories: B(e, function(t) {
            return O(t) ? t.value : t
          }),
        })),
      (t._ordinalMeta = e),
      (t._extent = t.getSetting('extent') || [0, e.categories.length - 1]),
      t
    )
  }
  Wv.registerClass(o_)
  var a_,
    s_ = or,
    l_ =
      (u(u_, (a_ = Wv)),
      (u_.prototype.parse = function(t) {
        return t
      }),
      (u_.prototype.contain = function(t) {
        return t_(t, this._extent)
      }),
      (u_.prototype.normalize = function(t) {
        return e_(t, this._extent)
      }),
      (u_.prototype.scale = function(t) {
        return n_(t, this._extent)
      }),
      (u_.prototype.setExtent = function(t, e) {
        var n = this._extent
        isNaN(t) || (n[0] = parseFloat(t)), isNaN(e) || (n[1] = parseFloat(e))
      }),
      (u_.prototype.unionExtent = function(t) {
        var e = this._extent
        t[0] < e[0] && (e[0] = t[0]), t[1] > e[1] && (e[1] = t[1]), this.setExtent(e[0], e[1])
      }),
      (u_.prototype.getInterval = function() {
        return this._interval
      }),
      (u_.prototype.setInterval = function(t) {
        ;(this._interval = t), (this._niceExtent = this._extent.slice()), (this._intervalPrecision = Qv(t))
      }),
      (u_.prototype.getTicks = function(t) {
        var e = this._interval,
          n = this._extent,
          i = this._niceExtent,
          o = this._intervalPrecision,
          r = []
        if (e) {
          n[0] < i[0] && r.push(t ? { value: s_(i[0] - e, o) } : { value: n[0] })
          for (var a = i[0]; a <= i[1] && (r.push({ value: a }), (a = s_(a + e, o)) !== r[r.length - 1].value); )
            if (1e4 < r.length) return []
          var s = r.length ? r[r.length - 1].value : i[1]
          n[1] > s && r.push(t ? { value: s_(s + e, o) } : { value: n[1] })
        }
        return r
      }),
      (u_.prototype.getMinorTicks = function(t) {
        for (var e = this.getTicks(!0), n = [], i = this.getExtent(), o = 1; o < e.length; o++) {
          for (var r = e[o], a = e[o - 1], s = 0, l = [], u = (r.value - a.value) / t; s < t - 1; ) {
            var h = s_(a.value + (s + 1) * u)
            h > i[0] && h < i[1] && l.push(h), s++
          }
          n.push(l)
        }
        return n
      }),
      (u_.prototype.getLabel = function(t, e) {
        return null == t
          ? ''
          : (null == (e = e && e.precision) ? (e = ar(t.value) || 0) : 'auto' === e && (e = this._intervalPrecision),
            Dp(s_(t.value, e, !0)))
      }),
      (u_.prototype.calcNiceTicks = function(t, e, n) {
        t = t || 5
        var i = this._extent,
          o = i[1] - i[0]
        isFinite(o) &&
          (o < 0 && i.reverse(),
          (o = Kv(i, t, e, n)),
          (this._intervalPrecision = o.intervalPrecision),
          (this._interval = o.interval),
          (this._niceExtent = o.niceTickExtent))
      }),
      (u_.prototype.calcNiceExtent = function(t) {
        var e = this._extent,
          n =
            (e[0] === e[1] && (0 !== e[0] ? ((n = Math.abs(e[0])), t.fixMax || (e[1] += n / 2), (e[0] -= n / 2)) : (e[1] = 1)),
            e[1] - e[0]),
          n = (isFinite(n) || ((e[0] = 0), (e[1] = 1)), this.calcNiceTicks(t.splitNumber, t.minInterval, t.maxInterval), this._interval)
        t.fixMin || (e[0] = s_(Math.floor(e[0] / n) * n)), t.fixMax || (e[1] = s_(Math.ceil(e[1] / n) * n))
      }),
      (u_.prototype.setNiceExtent = function(t, e) {
        this._niceExtent = [t, e]
      }),
      (u_.type = 'interval'),
      u_)
  function u_() {
    var t = (null !== a_ && a_.apply(this, arguments)) || this
    return (t.type = 'interval'), (t._interval = 0), (t._intervalPrecision = 2), t
  }
  Wv.registerClass(l_)
  var h_ = 'undefined' != typeof Float32Array,
    c_ = h_ ? Float32Array : Array
  function p_(t) {
    return V(t) ? (h_ ? new Float32Array(t) : t) : new c_(t)
  }
  var d_ = '__ec_stack_'
  function f_(t) {
    return t.get('stack') || d_ + t.seriesIndex
  }
  function g_(t) {
    return t.dim + t.index
  }
  function y_(t, e) {
    var n = []
    return (
      e.eachSeriesByType(t, function(t) {
        x_(t) && n.push(t)
      }),
      n
    )
  }
  function m_(t) {
    var a,
      d,
      l = (function(t) {
        var e,
          l = {},
          n =
            (E(t, function(t) {
              var e = t.coordinateSystem.getBaseAxis()
              if ('time' === e.type || 'value' === e.type)
                for (
                  var t = t.getData(),
                    n = e.dim + '_' + e.index,
                    i = t.getDimensionIndex(t.mapDimension(e.dim)),
                    o = t.getStore(),
                    r = 0,
                    a = o.count();
                  r < a;
                  ++r
                ) {
                  var s = o.get(i, r)
                  l[n] ? l[n].push(s) : (l[n] = [s])
                }
            }),
            {})
        for (e in l)
          if (l.hasOwnProperty(e)) {
            var i = l[e]
            if (i) {
              i.sort(function(t, e) {
                return t - e
              })
              for (var o = null, r = 1; r < i.length; ++r) {
                var a = i[r] - i[r - 1]
                0 < a && (o = null === o ? a : Math.min(o, a))
              }
              n[e] = o
            }
          }
        return n
      })(t),
      u = []
    return (
      E(t, function(t) {
        var e,
          n = t.coordinateSystem.getBaseAxis(),
          i = n.getExtent(),
          o =
            ((e =
              'category' === n.type
                ? n.getBandWidth()
                : 'value' === n.type || 'time' === n.type
                ? ((e = n.dim + '_' + n.index),
                  (e = l[e]),
                  (o = Math.abs(i[1] - i[0])),
                  (r = n.scale.getExtent()),
                  (r = Math.abs(r[1] - r[0])),
                  e ? (o / r) * e : o)
                : ((r = t.getData()), Math.abs(i[1] - i[0]) / r.count())),
            W(t.get('barWidth'), e)),
          i = W(t.get('barMaxWidth'), e),
          r = W(t.get('barMinWidth') || (w_(t) ? 0.5 : 1), e),
          a = t.get('barGap'),
          s = t.get('barCategoryGap')
        u.push({ bandWidth: e, barWidth: o, barMaxWidth: i, barMinWidth: r, barGap: a, barCategoryGap: s, axisKey: g_(n), stackId: f_(t) })
      }),
      (a = {}),
      E(u, function(t, e) {
        var n = t.axisKey,
          i = t.bandWidth,
          i = a[n] || { bandWidth: i, remainedWidth: i, autoWidthCount: 0, categoryGap: null, gap: '20%', stacks: {} },
          o = i.stacks,
          n = ((a[n] = i), t.stackId),
          r = (o[n] || i.autoWidthCount++, (o[n] = o[n] || { width: 0, maxWidth: 0 }), t.barWidth),
          r = (r && !o[n].width && ((o[n].width = r), (r = Math.min(i.remainedWidth, r)), (i.remainedWidth -= r)), t.barMaxWidth),
          r = (r && (o[n].maxWidth = r), t.barMinWidth),
          o = (r && (o[n].minWidth = r), t.barGap),
          n = (null != o && (i.gap = o), t.barCategoryGap)
        null != n && (i.categoryGap = n)
      }),
      (d = {}),
      E(a, function(t, n) {
        d[n] = {}
        var i,
          e = t.stacks,
          o = t.bandWidth,
          r = t.categoryGap,
          a = (null == r && ((a = ct(e).length), (r = Math.max(35 - 4 * a, 15) + '%')), W(r, o)),
          s = W(t.gap, 1),
          l = t.remainedWidth,
          u = t.autoWidthCount,
          h = (l - a) / (u + (u - 1) * s),
          h = Math.max(h, 0),
          c =
            (E(e, function(t) {
              var e,
                n = t.maxWidth,
                i = t.minWidth
              t.width
                ? ((e = t.width), n && (e = Math.min(e, n)), i && (e = Math.max(e, i)), (t.width = e), (l -= e + s * e), u--)
                : ((e = h), n && n < e && (e = Math.min(n, l)), (e = i && e < i ? i : e) !== h && ((t.width = e), (l -= e + s * e), u--))
            }),
            (h = (l - a) / (u + (u - 1) * s)),
            (h = Math.max(h, 0)),
            0),
          p =
            (E(e, function(t, e) {
              t.width || (t.width = h), (c += (i = t).width * (1 + s))
            }),
            i && (c -= i.width * s),
            -c / 2)
        E(e, function(t, e) {
          ;(d[n][e] = d[n][e] || { bandWidth: o, offset: p, width: t.width }), (p += t.width * (1 + s))
        })
      }),
      d
    )
  }
  function v_(t, e) {
    var t = y_(t, e),
      o = m_(t)
    E(t, function(t) {
      var e = t.getData(),
        n = t.coordinateSystem.getBaseAxis(),
        t = f_(t),
        n = o[g_(n)][t],
        t = n.offset,
        i = n.width
      e.setLayout({ bandWidth: n.bandWidth, offset: t, size: i })
    })
  }
  function __(t) {
    return {
      seriesType: t,
      plan: sy(),
      reset: function(t) {
        var e, x, n, w, b, S, i, o, M, T, I, C, A, D, k, L
        if (x_(t))
          return (
            (e = t.getData()),
            (i = (x = t.coordinateSystem).getBaseAxis()),
            (n = x.getOtherAxis(i)),
            (w = e.getDimensionIndex(e.mapDimension(n.dim))),
            (b = e.getDimensionIndex(e.mapDimension(i.dim))),
            (S = t.get('showBackground', !0)),
            (i = e.mapDimension(n.dim)),
            (o = e.getCalculationInfo('stackResultDimension')),
            (M = Fv(e, i) && !!e.getCalculationInfo('stackedOnSeries')),
            (T = n.isHorizontal()),
            (I = (function(t) {
              var e = t.model.get('startValue')
              e = e || 0
              return t.toGlobalCoord(t.dataToCoord('log' !== t.type || 0 < e ? e : 1))
            })(n)),
            (C = w_(t)),
            (A = t.get('barMinHeight') || 0),
            (D = o && e.getDimensionIndex(o)),
            (k = e.getLayout('size')),
            (L = e.getLayout('offset')),
            {
              progress: function(t, e) {
                for (
                  var n,
                    i = t.count,
                    o = C && p_(3 * i),
                    r = C && S && p_(3 * i),
                    a = C && p_(i),
                    s = x.master.getRect(),
                    l = T ? s.width : s.height,
                    u = e.getStore(),
                    h = 0;
                  null != (n = t.next());

                ) {
                  var c,
                    p = u.get(M ? D : w, n),
                    d = u.get(b, n),
                    f = I,
                    g = void 0,
                    y = (M && (g = +p - u.get(w, n)), void 0),
                    m = void 0,
                    v = void 0,
                    _ = void 0
                  T
                    ? ((c = x.dataToPoint([p, d])),
                      (y = f = M ? x.dataToPoint([g, d])[0] : f),
                      (m = c[1] + L),
                      (v = c[0] - f),
                      (_ = k),
                      Math.abs(v) < A && (v = (v < 0 ? -1 : 1) * A))
                    : ((c = x.dataToPoint([d, p])),
                      M && (f = x.dataToPoint([d, g])[1]),
                      (y = c[0] + L),
                      (m = f),
                      (v = k),
                      (_ = c[1] - f),
                      Math.abs(_) < A && (_ = (_ <= 0 ? -1 : 1) * A)),
                    C
                      ? ((o[h] = y),
                        (o[h + 1] = m),
                        (o[h + 2] = T ? v : _),
                        r && ((r[h] = T ? s.x : y), (r[h + 1] = T ? m : s.y), (r[h + 2] = l)),
                        (a[n] = n))
                      : e.setItemLayout(n, { x: y, y: m, width: v, height: _ }),
                    (h += 3)
                }
                C && e.setLayout({ largePoints: o, largeDataIndices: a, largeBackgroundPoints: r, valueAxisHorizontal: T })
              },
            }
          )
      },
    }
  }
  function x_(t) {
    return t.coordinateSystem && 'cartesian2d' === t.coordinateSystem.type
  }
  function w_(t) {
    return t.pipelineContext && t.pipelineContext.large
  }
  u(M_, (b_ = l_)),
    (M_.prototype.getLabel = function(t) {
      var e = this.getSetting('useUTC')
      return dp(
        t.value,
        lp[
          (function(t) {
            switch (t) {
              case 'year':
              case 'month':
                return 'day'
              case 'millisecond':
                return 'millisecond'
              default:
                return 'second'
            }
          })(pp(this._minLevelUnit))
        ] || lp.second,
        e,
        this.getSetting('locale')
      )
    }),
    (M_.prototype.getFormattedLabel = function(t, e, n) {
      var i = this.getSetting('useUTC'),
        o = this.getSetting('locale'),
        r = null
      if (F(n)) r = n
      else if (A(n)) r = n(t.value, e, { level: t.level })
      else {
        var a = P({}, ap)
        if (0 < t.level) for (var s = 0; s < up.length; ++s) a[up[s]] = '{primary|' + a[up[s]] + '}'
        var l = n ? (!1 === n.inherit ? n : z(n, a)) : a,
          u = fp(t.value, i)
        if (l[u]) r = l[u]
        else if (l.inherit) {
          for (s = hp.indexOf(u) - 1; 0 <= s; --s)
            if (l[u]) {
              r = l[u]
              break
            }
          r = r || a.none
        }
        V(r) && ((e = null == t.level ? 0 : 0 <= t.level ? t.level : r.length + t.level), (r = r[(e = Math.min(e, r.length - 1))]))
      }
      return dp(new Date(t.value), r, i, o)
    }),
    (M_.prototype.getTicks = function() {
      var t = this._interval,
        e = this._extent,
        n = []
      return (
        t &&
          (n.push({ value: e[0], level: 0 }),
          (t = this.getSetting('useUTC')),
          (t = (function(t, b, S, M) {
            var e = hp,
              n = 0
            function i(t, e, n) {
              var i = [],
                o = !e.length
              if (
                !(function(t, e, n, i) {
                  function o(t) {
                    return gp(c, t, i) === gp(p, t, i)
                  }
                  function r() {
                    return o('year')
                  }
                  function a() {
                    return r() && o('month')
                  }
                  function s() {
                    return a() && o('day')
                  }
                  function l() {
                    return s() && o('hour')
                  }
                  function u() {
                    return l() && o('minute')
                  }
                  function h() {
                    return u() && o('second')
                  }
                  var c = dr(e),
                    p = dr(n)
                  switch (t) {
                    case 'year':
                      return r()
                    case 'month':
                      return a()
                    case 'day':
                      return s()
                    case 'hour':
                      return l()
                    case 'minute':
                      return u()
                    case 'second':
                      return h()
                    case 'millisecond':
                      return h() && o('millisecond')
                  }
                })(pp(t), M[0], M[1], S)
              ) {
                o &&
                  (e = [
                    {
                      value: (function(t, e, n) {
                        var i = new Date(t)
                        switch (pp(e)) {
                          case 'year':
                          case 'month':
                            i[Sp(n)](0)
                          case 'day':
                            i[Mp(n)](1)
                          case 'hour':
                            i[Tp(n)](0)
                          case 'minute':
                            i[Ip(n)](0)
                          case 'second':
                            i[Cp(n)](0), i[Ap(n)](0)
                        }
                        return i.getTime()
                      })(new Date(M[0]), t, S),
                    },
                    { value: M[1] },
                  ])
                for (var r, a, s = 0; s < e.length - 1; s++) {
                  var l = e[s].value,
                    u = e[s + 1].value
                  if (l !== u) {
                    var h = void 0,
                      c = void 0,
                      p = void 0
                    switch (t) {
                      case 'year':
                        ;(h = Math.max(1, Math.round(b / rp / 365))), (c = yp(S)), (p = S ? 'setUTCFullYear' : 'setFullYear')
                        break
                      case 'half-year':
                      case 'quarter':
                      case 'month':
                        ;(a = b), (h = 6 < (a /= 30 * rp) ? 6 : 3 < a ? 3 : 2 < a ? 2 : 1), (c = mp(S)), (p = Sp(S))
                        break
                      case 'week':
                      case 'half-week':
                      case 'day':
                        ;(a = b), (h = 16 < (a /= rp) ? 16 : 7.5 < a ? 7 : 3.5 < a ? 4 : 1.5 < a ? 2 : 1), (c = vp(S)), (p = Mp(S)), 0
                        break
                      case 'half-day':
                      case 'quarter-day':
                      case 'hour':
                        ;(r = b), (h = 12 < (r /= op) ? 12 : 6 < r ? 6 : 3.5 < r ? 4 : 2 < r ? 2 : 1), (c = _p(S)), (p = Tp(S))
                        break
                      case 'minute':
                        ;(h = I_(b, !0)), (c = xp(S)), (p = Ip(S))
                        break
                      case 'second':
                        ;(h = I_(b, !1)), (c = wp(S)), (p = Cp(S))
                        break
                      case 'millisecond':
                        ;(h = yr(b, !0)), (c = bp(S)), (p = Ap(S))
                    }
                    w = x = _ = v = m = y = g = f = d = void 0
                    for (var d = h, f = l, g = u, y = c, m = p, v = i, _ = new Date(f), x = f, w = _[y](); x < g && x <= M[1]; )
                      v.push({ value: x }), _[m]((w += d)), (x = _.getTime())
                    v.push({ value: x, notAdd: !0 }), 'year' === t && 1 < n.length && 0 === s && n.unshift({ value: n[0].value - h })
                  }
                }
                for (s = 0; s < i.length; s++) n.push(i[s])
              }
            }
            for (var o = [], r = [], a = 0, s = 0, l = 0; l < e.length && n++ < 1e4; ++l) {
              var u = pp(e[l])
              if (
                (function(t) {
                  return t === pp(t)
                })(e[l])
              ) {
                i(e[l], o[o.length - 1] || [], r)
                var h = e[l + 1] ? pp(e[l + 1]) : null
                if (u !== h) {
                  if (r.length) {
                    ;(s = a),
                      r.sort(function(t, e) {
                        return t.value - e.value
                      })
                    for (var c = [], p = 0; p < r.length; ++p) {
                      var d = r[p].value
                      ;(0 !== p && r[p - 1].value === d) || (c.push(r[p]), d >= M[0] && d <= M[1] && a++)
                    }
                    u = (M[1] - M[0]) / b
                    if (1.5 * u < a && u / 1.5 < s) break
                    if ((o.push(c), u < a || t === e[l])) break
                  }
                  r = []
                }
              }
            }
            for (
              var f = ht(
                  B(o, function(t) {
                    return ht(t, function(t) {
                      return t.value >= M[0] && t.value <= M[1] && !t.notAdd
                    })
                  }),
                  function(t) {
                    return 0 < t.length
                  }
                ),
                g = [],
                y = f.length - 1,
                l = 0;
              l < f.length;
              ++l
            )
              for (var m = f[l], v = 0; v < m.length; ++v) g.push({ value: m[v].value, level: y - l })
            g.sort(function(t, e) {
              return t.value - e.value
            })
            for (var _ = [], l = 0; l < g.length; ++l) (0 !== l && g[l].value === g[l - 1].value) || _.push(g[l])
            return _
          })(this._minLevelUnit, this._approxInterval, t, e)),
          (n = n.concat(t)).push({ value: e[1], level: 0 })),
        n
      )
    }),
    (M_.prototype.calcNiceExtent = function(t) {
      var e,
        n = this._extent
      n[0] === n[1] && ((n[0] -= rp), (n[1] += rp)),
        n[1] === -1 / 0 &&
          n[0] === 1 / 0 &&
          ((e = new Date()), (n[1] = +new Date(e.getFullYear(), e.getMonth(), e.getDate())), (n[0] = n[1] - rp)),
        this.calcNiceTicks(t.splitNumber, t.minInterval, t.maxInterval)
    }),
    (M_.prototype.calcNiceTicks = function(t, e, n) {
      var i = this._extent,
        i = i[1] - i[0],
        i =
          ((this._approxInterval = i / (t = t || 10)),
          null != e && this._approxInterval < e && (this._approxInterval = e),
          null != n && this._approxInterval > n && (this._approxInterval = n),
          T_.length),
        t = Math.min(
          (function(t, e, n, i) {
            for (; n < i; ) {
              var o = (n + i) >>> 1
              t[o][1] < e ? (n = 1 + o) : (i = o)
            }
            return n
          })(T_, this._approxInterval, 0, i),
          i - 1
        )
      ;(this._interval = T_[t][1]), (this._minLevelUnit = T_[Math.max(t - 1, 0)][0])
    }),
    (M_.prototype.parse = function(t) {
      return H(t) ? t : +dr(t)
    }),
    (M_.prototype.contain = function(t) {
      return t_(this.parse(t), this._extent)
    }),
    (M_.prototype.normalize = function(t) {
      return e_(this.parse(t), this._extent)
    }),
    (M_.prototype.scale = function(t) {
      return n_(t, this._extent)
    }),
    (M_.type = 'time')
  var b_,
    S_ = M_
  function M_(t) {
    t = b_.call(this, t) || this
    return (t.type = 'time'), t
  }
  var T_ = [
    ['second', np],
    ['minute', ip],
    ['hour', op],
    ['quarter-day', 6 * op],
    ['half-day', 12 * op],
    ['day', 1.2 * rp],
    ['half-week', 3.5 * rp],
    ['week', 7 * rp],
    ['month', 31 * rp],
    ['quarter', 95 * rp],
    ['half-year', Kr / 2],
    ['year', Kr],
  ]
  function I_(t, e) {
    return 30 < (t /= e ? ip : np) ? 30 : 20 < t ? 20 : 15 < t ? 15 : 10 < t ? 10 : 5 < t ? 5 : 2 < t ? 2 : 1
  }
  Wv.registerClass(S_)
  var C_,
    A_ = Wv.prototype,
    D_ = l_.prototype,
    k_ = or,
    L_ = Math.floor,
    P_ = Math.ceil,
    O_ = Math.pow,
    R_ = Math.log,
    N_ =
      (u(E_, (C_ = Wv)),
      (E_.prototype.getTicks = function(t) {
        var e = this._originalScale,
          n = this._extent,
          i = e.getExtent()
        return B(
          D_.getTicks.call(this, t),
          function(t) {
            var t = t.value,
              e = or(O_(this.base, t)),
              e = t === n[0] && this._fixMin ? z_(e, i[0]) : e
            return { value: t === n[1] && this._fixMax ? z_(e, i[1]) : e }
          },
          this
        )
      }),
      (E_.prototype.setExtent = function(t, e) {
        var n = R_(this.base)
        ;(t = R_(Math.max(0, t)) / n), (e = R_(Math.max(0, e)) / n), D_.setExtent.call(this, t, e)
      }),
      (E_.prototype.getExtent = function() {
        var t = this.base,
          e = A_.getExtent.call(this)
        ;(e[0] = O_(t, e[0])), (e[1] = O_(t, e[1]))
        t = this._originalScale.getExtent()
        return this._fixMin && (e[0] = z_(e[0], t[0])), this._fixMax && (e[1] = z_(e[1], t[1])), e
      }),
      (E_.prototype.unionExtent = function(t) {
        this._originalScale.unionExtent(t)
        var e = this.base
        ;(t[0] = R_(t[0]) / R_(e)), (t[1] = R_(t[1]) / R_(e)), A_.unionExtent.call(this, t)
      }),
      (E_.prototype.unionExtentFromData = function(t, e) {
        this.unionExtent(t.getApproximateExtent(e))
      }),
      (E_.prototype.calcNiceTicks = function(t) {
        t = t || 10
        var e = this._extent,
          n = e[1] - e[0]
        if (!(n == 1 / 0 || n <= 0)) {
          var i = fr(n)
          for ((t / n) * i <= 0.5 && (i *= 10); !isNaN(i) && Math.abs(i) < 1 && 0 < Math.abs(i); ) i *= 10
          t = [or(P_(e[0] / i) * i), or(L_(e[1] / i) * i)]
          ;(this._interval = i), (this._niceExtent = t)
        }
      }),
      (E_.prototype.calcNiceExtent = function(t) {
        D_.calcNiceExtent.call(this, t), (this._fixMin = t.fixMin), (this._fixMax = t.fixMax)
      }),
      (E_.prototype.parse = function(t) {
        return t
      }),
      (E_.prototype.contain = function(t) {
        return t_((t = R_(t) / R_(this.base)), this._extent)
      }),
      (E_.prototype.normalize = function(t) {
        return e_((t = R_(t) / R_(this.base)), this._extent)
      }),
      (E_.prototype.scale = function(t) {
        return (t = n_(t, this._extent)), O_(this.base, t)
      }),
      (E_.type = 'log'),
      E_)
  function E_() {
    var t = (null !== C_ && C_.apply(this, arguments)) || this
    return (t.type = 'log'), (t.base = 10), (t._originalScale = new l_()), (t._interval = 0), t
  }
  im = N_.prototype
  function z_(t, e) {
    return k_(t, ar(e))
  }
  ;(im.getMinorTicks = D_.getMinorTicks), (im.getLabel = D_.getLabel), Wv.registerClass(N_)
  ;(V_.prototype._prepareParams = function(t, e, n) {
    n[1] < n[0] && (n = [NaN, NaN]), (this._dataMin = n[0]), (this._dataMax = n[1])
    var i = (this._isOrdinal = 'ordinal' === t.type),
      o = ((this._needCrossZero = 'interval' === t.type && e.getNeedCrossZero && e.getNeedCrossZero()), e.get('min', !0)),
      o = (null == o && (o = e.get('startValue', !0)), (this._modelMinRaw = o)),
      o =
        (A(o) ? (this._modelMinNum = W_(t, o({ min: n[0], max: n[1] }))) : 'dataMin' !== o && (this._modelMinNum = W_(t, o)),
        (this._modelMaxRaw = e.get('max', !0)))
    A(o) ? (this._modelMaxNum = W_(t, o({ min: n[0], max: n[1] }))) : 'dataMax' !== o && (this._modelMaxNum = W_(t, o)),
      i
        ? (this._axisDataLen = e.getCategories().length)
        : 'boolean' == typeof (t = V((n = e.get('boundaryGap'))) ? n : [n || 0, n || 0])[0] || 'boolean' == typeof t[1]
        ? (this._boundaryGapInner = [0, 0])
        : (this._boundaryGapInner = [Lo(t[0], 1), Lo(t[1], 1)])
  }),
    (V_.prototype.calculate = function() {
      var t = this._isOrdinal,
        e = this._dataMin,
        n = this._dataMax,
        i = this._axisDataLen,
        o = this._boundaryGapInner,
        r = t ? null : n - e || Math.abs(e),
        a = 'dataMin' === this._modelMinRaw ? e : this._modelMinNum,
        s = 'dataMax' === this._modelMaxRaw ? n : this._modelMaxNum,
        l = null != a,
        u = null != s,
        e =
          (null == a && (a = t ? (i ? 0 : NaN) : e - o[0] * r),
          null == s && (s = t ? (i ? i - 1 : NaN) : n + o[1] * r),
          (null != a && isFinite(a)) || (a = NaN),
          (null != s && isFinite(s)) || (s = NaN),
          _t(a) || _t(s) || (t && !i)),
        n = (this._needCrossZero && (a = 0 < a && 0 < s && !l ? 0 : a) < 0 && s < 0 && !u && (s = 0), this._determinedMin),
        o = this._determinedMax
      return null != n && ((a = n), (l = !0)), null != o && ((s = o), (u = !0)), { min: a, max: s, minFixed: l, maxFixed: u, isBlank: e }
    }),
    (V_.prototype.modifyDataMinMax = function(t, e) {
      this[H_[t]] = e
    }),
    (V_.prototype.setDeterminedMinMax = function(t, e) {
      this[F_[t]] = e
    }),
    (V_.prototype.freeze = function() {
      this.frozen = !0
    })
  var B_ = V_
  function V_(t, e, n) {
    this._prepareParams(t, e, n)
  }
  var F_ = { min: '_determinedMin', max: '_determinedMax' },
    H_ = { min: '_dataMin', max: '_dataMax' }
  function G_(t, e, n) {
    var i = t.rawExtentInfo
    return i || ((i = new B_(t, e, n)), (t.rawExtentInfo = i)), i
  }
  function W_(t, e) {
    return null == e ? null : _t(e) ? NaN : t.parse(e)
  }
  function U_(t, e) {
    var n,
      i,
      o,
      r,
      a,
      s,
      l = t.type,
      u = G_(t, e, t.getExtent()).calculate(),
      t = (t.setBlank(u.isBlank), u.min),
      h = u.max,
      c = e.ecModel
    return (
      c &&
        'time' === l &&
        ((l = y_('bar', c)),
        (n = !1),
        E(l, function(t) {
          n = n || t.getBaseAxis() === e.axis
        }),
        n) &&
        ((c = m_(l)),
        (l = t),
        (i = h),
        (c = c),
        (s = (o = e).axis.getExtent()),
        (s = Math.abs(s[1] - s[0])),
        void 0 !==
          (c = (function(t, e, n) {
            if (t && e) return null != (t = t[g_(e)]) && null != n ? t[f_(n)] : t
          })(c, o.axis)) &&
          ((r = 1 / 0),
          E(c, function(t) {
            r = Math.min(t.offset, r)
          }),
          (a = -1 / 0),
          E(c, function(t) {
            a = Math.max(t.offset + t.width, a)
          }),
          (r = Math.abs(r)),
          (a = Math.abs(a)),
          (i += (a / (o = r + a)) * (s = (c = i - l) / (1 - (r + a) / s) - c)),
          (l -= (r / o) * s)),
        (t = (c = { min: l, max: i }).min),
        (h = c.max)),
      { extent: [t, h], fixMin: u.minFixed, fixMax: u.maxFixed }
    )
  }
  function Y_(t, e) {
    var n = U_(t, e),
      i = n.extent,
      o = e.get('splitNumber'),
      r = (t instanceof N_ && (t.base = e.get('logBase')), t.type),
      a = e.get('interval'),
      r = 'interval' === r || 'time' === r
    t.setExtent(i[0], i[1]),
      t.calcNiceExtent({
        splitNumber: o,
        fixMin: n.fixMin,
        fixMax: n.fixMax,
        minInterval: r ? e.get('minInterval') : null,
        maxInterval: r ? e.get('maxInterval') : null,
      }),
      null != a && t.setInterval && t.setInterval(a)
  }
  function X_(t, e) {
    if ((e = e || t.get('type')))
      switch (e) {
        case 'category':
          return new o_({ ordinalMeta: t.getOrdinalMeta ? t.getOrdinalMeta() : t.getCategories(), extent: [1 / 0, -1 / 0] })
        case 'time':
          return new S_({ locale: t.ecModel.getLocaleModel(), useUTC: t.ecModel.get('useUTC') })
        default:
          return new (Wv.getClass(e) || l_)()
      }
  }
  function Z_(n) {
    var i,
      e,
      o,
      t = n.getLabelModel().get('formatter'),
      r = 'category' === n.type ? n.scale.getExtent()[0] : null
    return 'time' === n.scale.type
      ? ((o = t),
        function(t, e) {
          return n.scale.getFormattedLabel(t, e, o)
        })
      : F(t)
      ? ((e = t),
        function(t) {
          t = n.scale.getLabel(t)
          return e.replace('{value}', null != t ? t : '')
        })
      : A(t)
      ? ((i = t),
        function(t, e) {
          return null != r && (e = t.value - r), i(q_(n, t), e, null != t.level ? { level: t.level } : null)
        })
      : function(t) {
          return n.scale.getLabel(t)
        }
  }
  function q_(t, e) {
    return 'category' === t.type ? t.scale.getLabel(e) : e.value
  }
  function j_(t) {
    var e = t.model,
      n = t.scale
    if (e.get(['axisLabel', 'show']) && !n.isBlank()) {
      var i,
        o,
        r = n.getExtent(),
        a = n instanceof o_ ? n.count() : (i = n.getTicks()).length,
        s = t.getLabelModel(),
        l = Z_(t),
        u = 1
      40 < a && (u = Math.ceil(a / 40))
      for (var h, c, p, d = 0; d < a; d += u) {
        var f = l(i ? i[d] : { value: r[0] + d }, d),
          f = s.getTextRect(f),
          g =
            ((f = f),
            (h = s.get('rotate') || 0),
            (c = p = g = c = void 0),
            (h = (h * Math.PI) / 180),
            (c = f.width),
            (g = f.height),
            (p = c * Math.abs(Math.cos(h)) + Math.abs(g * Math.sin(h))),
            (c = c * Math.abs(Math.sin(h)) + Math.abs(g * Math.cos(h))),
            new Y(f.x, f.y, p, c))
        o ? o.union(g) : (o = g)
      }
      return o
    }
  }
  function K_(t) {
    t = t.get('interval')
    return null == t ? 'auto' : t
  }
  function $_(t) {
    return 'category' === t.type && 0 === K_(t.getLabelModel())
  }
  function Q_(e, t) {
    var n = {}
    return (
      E(e.mapDimensionsAll(t), function(t) {
        n[Hv(e, t)] = !0
      }),
      ct(n)
    )
  }
  ;(t1.prototype.getNeedCrossZero = function() {
    return !this.option.scale
  }),
    (t1.prototype.getCoordSysModel = function() {})
  var J_ = t1
  function t1() {}
  var sm = Object.freeze({
      __proto__: null,
      createDimensions: function(t, e) {
        return Nv(t, e).dimensions
      },
      createList: function(t) {
        return Gv(null, t)
      },
      createScale: function(t, e) {
        var n = e
        return (e = X_((n = e instanceof Uc ? n : new Uc(e)))).setExtent(t[0], t[1]), Y_(e, n), e
      },
      createSymbol: dm,
      createTextStyle: function(t, e) {
        return bc(t, null, null, 'normal' !== (e = e || {}).state)
      },
      dataStack: { isDimensionStacked: Fv, enableDataStack: Vv, getStackedDimension: Hv },
      enableHoverEmphasis: Gl,
      getECData: D,
      getLayoutRect: Up,
      mixinAxisModelCommonMethods: function(t) {
        st(t, J_)
      },
    }),
    e1 = [],
    n1 = {
      registerPreprocessor: X0,
      registerProcessor: Z0,
      registerPostInit: q0,
      registerPostUpdate: j0,
      registerUpdateLifecycle: K0,
      registerAction: $0,
      registerCoordinateSystem: Q0,
      registerLayout: J0,
      registerVisual: tv,
      registerTransform: rv,
      registerLoading: iv,
      registerMap: ov,
      registerImpl: function(t, e) {
        Zm[t] = e
      },
      PRIORITY: am,
      ComponentModel: g,
      ComponentView: ry,
      SeriesModel: $g,
      ChartView: hy,
      registerComponentModel: function(t) {
        g.registerClass(t)
      },
      registerComponentView: function(t) {
        ry.registerClass(t)
      },
      registerSeriesModel: function(t) {
        $g.registerClass(t)
      },
      registerChartView: function(t) {
        hy.registerClass(t)
      },
      registerSubTypeDefaulter: function(t, e) {
        g.registerSubTypeDefaulter(t, e)
      },
      registerPainter: function(t, e) {
        Jo(t, e)
      },
    }
  function i1(t) {
    V(t)
      ? E(t, function(t) {
          i1(t)
        })
      : 0 <= C(e1, t) || (e1.push(t), (t = A(t) ? { install: t } : t).install(n1))
  }
  var o1 = 1e-8
  function r1(t, e) {
    return Math.abs(t - e) < o1
  }
  function a1(t, e, n) {
    var i = 0,
      o = t[0]
    if (o) {
      for (var r = 1; r < t.length; r++) {
        var a = t[r]
        ;(i += ss(o[0], o[1], a[0], a[1], e, n)), (o = a)
      }
      var s = t[0]
      return (r1(o[0], s[0]) && r1(o[1], s[1])) || (i += ss(o[0], o[1], s[0], s[1], e, n)), 0 !== i
    }
  }
  var s1 = []
  function l1(t, e) {
    for (var n = 0; n < t.length; n++) te(t[n], t[n], e)
  }
  function u1(t, e, n, i) {
    for (var o = 0; o < t.length; o++) {
      var r = t[o]
      ;(r = i ? i.project(r) : r) && isFinite(r[0]) && isFinite(r[1]) && (ee(e, e, r), ne(n, n, r))
    }
  }
  ;(h1.prototype.setCenter = function(t) {
    this._center = t
  }),
    (h1.prototype.getCenter = function() {
      return this._center || (this._center = this.calcCenter())
    })
  lm = h1
  function h1(t) {
    this.name = t
  }
  var c1,
    p1,
    d1 = function(t, e) {
      ;(this.type = 'polygon'), (this.exterior = t), (this.interiors = e)
    },
    f1 = function(t) {
      ;(this.type = 'linestring'), (this.points = t)
    },
    g1 =
      (u(y1, (c1 = lm)),
      (y1.prototype.calcCenter = function() {
        for (var t, e = this.geometries, n = 0, i = 0; i < e.length; i++) {
          var o = e[i],
            r = o.exterior,
            r = r && r.length
          n < r && ((t = o), (n = r))
        }
        if (t) {
          for (var a = t.exterior, s = 0, l = 0, u = 0, h = a.length, c = a[h - 1][0], p = a[h - 1][1], d = 0; d < h; d++) {
            var f = a[d][0],
              g = a[d][1],
              y = c * g - f * p
            ;(s += y), (l += (c + f) * y), (u += (p + g) * y), (c = f), (p = g)
          }
          return s ? [l / s / 3, u / s / 3, s] : [a[0][0] || 0, a[0][1] || 0]
        }
        var m = this.getBoundingRect()
        return [m.x + m.width / 2, m.y + m.height / 2]
      }),
      (y1.prototype.getBoundingRect = function(e) {
        var n,
          i,
          t = this._rect
        return (
          (t && !e) ||
            ((n = [1 / 0, 1 / 0]),
            (i = [-1 / 0, -1 / 0]),
            E(this.geometries, function(t) {
              'polygon' === t.type
                ? u1(t.exterior, n, i, e)
                : E(t.points, function(t) {
                    u1(t, n, i, e)
                  })
            }),
            (isFinite(n[0]) && isFinite(n[1]) && isFinite(i[0]) && isFinite(i[1])) || (n[0] = n[1] = i[0] = i[1] = 0),
            (t = new Y(n[0], n[1], i[0] - n[0], i[1] - n[1])),
            e) ||
            (this._rect = t),
          t
        )
      }),
      (y1.prototype.contain = function(t) {
        var e = this.getBoundingRect(),
          n = this.geometries
        if (e.contain(t[0], t[1]))
          t: for (var i = 0, o = n.length; i < o; i++) {
            var r = n[i]
            if ('polygon' === r.type) {
              var a = r.exterior,
                s = r.interiors
              if (a1(a, t[0], t[1])) {
                for (var l = 0; l < (s ? s.length : 0); l++) if (a1(s[l], t[0], t[1])) continue t
                return !0
              }
            }
          }
        return !1
      }),
      (y1.prototype.transformTo = function(t, e, n, i) {
        for (
          var o = this.getBoundingRect(),
            r = o.width / o.height,
            r = (n ? (i = i || n / r) : (n = r * i), new Y(t, e, n, i)),
            a = o.calculateTransform(r),
            s = this.geometries,
            l = 0;
          l < s.length;
          l++
        ) {
          var u = s[l]
          'polygon' === u.type
            ? (l1(u.exterior, a),
              E(u.interiors, function(t) {
                l1(t, a)
              }))
            : E(u.points, function(t) {
                l1(t, a)
              })
        }
        ;(o = this._rect).copy(r), (this._center = [o.x + o.width / 2, o.y + o.height / 2])
      }),
      (y1.prototype.cloneShallow = function(t) {
        t = new y1((t = null == t ? this.name : t), this.geometries, this._center)
        return (t._rect = this._rect), (t.transformTo = null), t
      }),
      y1)
  function y1(t, e, n) {
    t = c1.call(this, t) || this
    return (t.type = 'geoJSON'), (t.geometries = e), (t._center = n && [n[0], n[1]]), t
  }
  function m1(t, e) {
    t = p1.call(this, t) || this
    return (t.type = 'geoSVG'), (t._elOnlyForCalculate = e), t
  }
  function v1(t, e, n) {
    for (var i = 0; i < t.length; i++) t[i] = _1(t[i], e[i], n)
  }
  function _1(t, e, n) {
    for (var i = [], o = e[0], r = e[1], a = 0; a < t.length; a += 2) {
      var s = ((s = t.charCodeAt(a) - 64) >> 1) ^ -(1 & s),
        l = ((l = t.charCodeAt(a + 1) - 64) >> 1) ^ -(1 & l)
      i.push([(o = s += o) / n, (r = l += r) / n])
    }
    return i
  }
  function x1(t, r) {
    var e, n, o
    return B(
      ht(
        (t = (e = t).UTF8Encoding
          ? (null == (o = (n = e).UTF8Scale) && (o = 1024),
            E(n.features, function(t) {
              var e = t.geometry,
                n = e.encodeOffsets,
                i = e.coordinates
              if (n)
                switch (e.type) {
                  case 'LineString':
                    e.coordinates = _1(i, n, o)
                    break
                  case 'Polygon':
                  case 'MultiLineString':
                    v1(i, n, o)
                    break
                  case 'MultiPolygon':
                    E(i, function(t, e) {
                      return v1(t, n[e], o)
                    })
                }
            }),
            (n.UTF8Encoding = !1),
            n)
          : e).features,
        function(t) {
          return t.geometry && t.properties && 0 < t.geometry.coordinates.length
        }
      ),
      function(t) {
        var e = t.properties,
          n = t.geometry,
          i = []
        switch (n.type) {
          case 'Polygon':
            var o = n.coordinates
            i.push(new d1(o[0], o.slice(1)))
            break
          case 'MultiPolygon':
            E(n.coordinates, function(t) {
              t[0] && i.push(new d1(t[0], t.slice(1)))
            })
            break
          case 'LineString':
            i.push(new f1([n.coordinates]))
            break
          case 'MultiLineString':
            i.push(new f1(n.coordinates))
        }
        t = new g1(e[r || 'name'], i, e.cp)
        return (t.properties = e), t
      }
    )
  }
  u(m1, (p1 = lm)),
    (m1.prototype.calcCenter = function() {
      for (
        var t = this._elOnlyForCalculate, e = t.getBoundingRect(), e = [e.x + e.width / 2, e.y + e.height / 2], n = Oe(s1), i = t;
        i && !i.isGeoSVGGraphicRoot;

      )
        Ne(n, i.getLocalTransform(), n), (i = i.parent)
      return Ve(n, n), te(e, e, n), e
    })
  var zc = Object.freeze({
      __proto__: null,
      MAX_SAFE_INTEGER: 9007199254740991,
      asc: rr,
      getPercentWithPrecision: function(t, e, n) {
        return (t[e] && ur(t, n)[e]) || 0
      },
      getPixelPrecision: lr,
      getPrecision: ar,
      getPrecisionSafe: sr,
      isNumeric: vr,
      isRadianAroundZero: cr,
      linearMap: ir,
      nice: yr,
      numericToNumber: mr,
      parseDate: dr,
      quantile: function(t, e) {
        var e = (t.length - 1) * e + 1,
          n = Math.floor(e),
          i = +t[n - 1]
        return (e = e - n) ? i + e * (t[n] - i) : i
      },
      quantity: fr,
      quantityExponent: gr,
      reformIntervals: function(t) {
        t.sort(function(t, e) {
          return (function t(e, n, i) {
            return (
              e.interval[i] < n.interval[i] ||
              (e.interval[i] === n.interval[i] && (e.close[i] - n.close[i] == (i ? -1 : 1) || (!i && t(e, n, 1))))
            )
          })(t, e, 0)
            ? -1
            : 1
        })
        for (var e = -1 / 0, n = 1, i = 0; i < t.length; ) {
          for (var o = t[i].interval, r = t[i].close, a = 0; a < 2; a++)
            o[a] <= e && ((o[a] = e), (r[a] = a ? 1 : 1 - n)), (e = o[a]), (n = r[a])
          o[0] === o[1] && r[0] * r[1] != 1 ? t.splice(i, 1) : i++
        }
        return t
      },
      remRadian: hr,
      round: or,
    }),
    na = Object.freeze({ __proto__: null, format: dp, parse: dr }),
    Hc = Object.freeze({
      __proto__: null,
      Arc: dh,
      BezierCurve: uh,
      BoundingRect: Y,
      Circle: vu,
      CompoundPath: yh,
      Ellipse: bu,
      Group: Yo,
      Image: Cs,
      IncrementalDisplayable: e,
      Line: ih,
      LinearGradient: wh,
      Polygon: qu,
      Polyline: Qu,
      RadialGradient: vh,
      Rect: Es,
      Ring: Wu,
      Sector: Vu,
      Text: Hs,
      clipPointsByRect: uc,
      clipRectByRect: hc,
      createIcon: cc,
      extendPath: qh,
      extendShape: Xh,
      getShapeClass: Kh,
      getTransform: oc,
      initProps: zh,
      makeImage: Qh,
      makePath: $h,
      mergePath: tc,
      registerShape: jh,
      resizePath: ec,
      updateProps: Eh,
    }),
    Vc = Object.freeze({
      __proto__: null,
      addCommas: Dp,
      capitalFirst: function(t) {
        return t && t.charAt(0).toUpperCase() + t.substr(1)
      },
      encodeHTML: ve,
      formatTime: function(t, e, n) {
        ;('week' !== t && 'month' !== t && 'quarter' !== t && 'half-year' !== t && 'year' !== t) || (t = 'MM-dd\nyyyy')
        var i = (e = dr(e))[(n = n ? 'getUTC' : 'get') + 'FullYear'](),
          o = e[n + 'Month']() + 1,
          r = e[n + 'Date'](),
          a = e[n + 'Hours'](),
          s = e[n + 'Minutes'](),
          l = e[n + 'Seconds'](),
          e = e[n + 'Milliseconds']()
        return (t = t
          .replace('MM', cp(o, 2))
          .replace('M', o)
          .replace('yyyy', i)
          .replace('yy', cp((i % 100) + '', 2))
          .replace('dd', cp(r, 2))
          .replace('d', r)
          .replace('hh', cp(a, 2))
          .replace('h', a)
          .replace('mm', cp(s, 2))
          .replace('m', s)
          .replace('ss', cp(l, 2))
          .replace('s', l)
          .replace('SSS', cp(e, 3)))
      },
      formatTpl: Np,
      getTextRect: function(t, e, n, i, o, r, a, s) {
        return new Hs({
          style: { text: t, font: e, align: n, verticalAlign: i, padding: o, rich: r, overflow: a ? 'truncate' : null, lineHeight: s },
        }).getBoundingRect()
      },
      getTooltipMarker: Ep,
      normalizeCssArray: Lp,
      toCamelCase: kp,
      truncateText: function(t, e, n, i, o) {
        var r = {}
        return ua(r, t, e, n, i, o), r.text
      },
    }),
    Nc = Object.freeze({
      __proto__: null,
      bind: S,
      clone: y,
      curry: M,
      defaults: z,
      each: E,
      extend: P,
      filter: ht,
      indexOf: C,
      inherits: at,
      isArray: V,
      isFunction: A,
      isObject: O,
      isString: F,
      map: B,
      merge: d,
      reduce: ut,
    }),
    w1 = Nr()
  function b1(e, t) {
    t = B(t, function(t) {
      return e.scale.parse(t)
    })
    return 'time' === e.type && 0 < t.length && (t.sort(), t.unshift(t[0]), t.push(t[t.length - 1])), t
  }
  function S1(n) {
    var i,
      e,
      o,
      r,
      t,
      a,
      s = n.getLabelModel().get('customValues')
    return s
      ? ((i = Z_(n)),
        (e = n.scale.getExtent()),
        {
          labels: B(
            ht(b1(n, s), function(t) {
              return t >= e[0] && t <= e[1]
            }),
            function(t) {
              var e = { value: t }
              return { formattedLabel: i(e), rawLabel: n.scale.getLabel(e), tickValue: t }
            }
          ),
        })
      : 'category' === n.type
      ? ((t = (s = n).getLabelModel()),
        (a = T1(s, t)),
        !t.get('show') || s.scale.isBlank() ? { labels: [], labelCategoryInterval: a.labelCategoryInterval } : a)
      : ((t = (o = n).scale.getTicks()),
        (r = Z_(o)),
        {
          labels: B(t, function(t, e) {
            return { level: t.level, formattedLabel: r(t, e), rawLabel: o.scale.getLabel(t), tickValue: t.value }
          }),
        })
  }
  function M1(t, e) {
    var n,
      i,
      o,
      r,
      a,
      s,
      l = t.getTickModel().get('customValues')
    return l
      ? ((n = t.scale.getExtent()),
        {
          ticks: ht(b1(t, l), function(t) {
            return t >= n[0] && t <= n[1]
          }),
        })
      : 'category' === t.type
      ? ((l = e),
        (r = I1((e = t), 'ticks')),
        (a = K_(l)),
        (s = C1(r, a)) ||
          ((l.get('show') && !e.scale.isBlank()) || (i = []),
          (i = A(a)
            ? k1(e, a, !0)
            : 'auto' === a
            ? ((s = T1(e, e.getLabelModel())),
              (o = s.labelCategoryInterval),
              B(s.labels, function(t) {
                return t.tickValue
              }))
            : D1(e, (o = a), !0)),
          A1(r, a, { ticks: i, tickCategoryInterval: o })))
      : {
          ticks: B(t.scale.getTicks(), function(t) {
            return t.value
          }),
        }
  }
  function T1(t, e) {
    var n,
      i = I1(t, 'labels'),
      e = K_(e),
      o = C1(i, e)
    return (
      o ||
      A1(i, e, {
        labels: A(e)
          ? k1(t, e)
          : D1(
              t,
              (n = 'auto' === e ? (null != (i = w1((o = t)).autoInterval) ? i : (w1(o).autoInterval = o.calculateCategoryInterval())) : e)
            ),
        labelCategoryInterval: n,
      })
    )
  }
  function I1(t, e) {
    return w1(t)[e] || (w1(t)[e] = [])
  }
  function C1(t, e) {
    for (var n = 0; n < t.length; n++) if (t[n].key === e) return t[n].value
  }
  function A1(t, e, n) {
    return t.push({ key: e, value: n }), n
  }
  function D1(t, e, n) {
    for (
      var i = Z_(t),
        o = t.scale,
        r = o.getExtent(),
        a = t.getLabelModel(),
        s = [],
        l = Math.max((e || 0) + 1, 1),
        e = r[0],
        u = o.count(),
        u = (0 !== e && 1 < l && 2 < u / l && (e = Math.round(Math.ceil(e / l) * l)), $_(t)),
        t = a.get('showMinLabel') || u,
        a = a.get('showMaxLabel') || u,
        h = (t && e !== r[0] && c(r[0]), e);
      h <= r[1];
      h += l
    )
      c(h)
    function c(t) {
      var e = { value: t }
      s.push(n ? t : { formattedLabel: i(e), rawLabel: o.getLabel(e), tickValue: t })
    }
    return a && h - l !== r[1] && c(r[1]), s
  }
  function k1(t, i, o) {
    var r = t.scale,
      a = Z_(t),
      s = []
    return (
      E(r.getTicks(), function(t) {
        var e = r.getLabel(t),
          n = t.value
        i(t.value, e) && s.push(o ? n : { formattedLabel: a(t), rawLabel: e, tickValue: n })
      }),
      s
    )
  }
  var L1 = [0, 1],
    sp =
      ((P1.prototype.contain = function(t) {
        var e = this._extent,
          n = Math.min(e[0], e[1]),
          e = Math.max(e[0], e[1])
        return n <= t && t <= e
      }),
      (P1.prototype.containData = function(t) {
        return this.scale.contain(t)
      }),
      (P1.prototype.getExtent = function() {
        return this._extent.slice()
      }),
      (P1.prototype.getPixelPrecision = function(t) {
        return lr(t || this.scale.getExtent(), this._extent)
      }),
      (P1.prototype.setExtent = function(t, e) {
        var n = this._extent
        ;(n[0] = t), (n[1] = e)
      }),
      (P1.prototype.dataToCoord = function(t, e) {
        var n = this._extent,
          i = this.scale
        return (t = i.normalize(t)), this.onBand && 'ordinal' === i.type && O1((n = n.slice()), i.count()), ir(t, L1, n, e)
      }),
      (P1.prototype.coordToData = function(t, e) {
        var n = this._extent,
          i = this.scale,
          i = (this.onBand && 'ordinal' === i.type && O1((n = n.slice()), i.count()), ir(t, n, L1, e))
        return this.scale.scale(i)
      }),
      (P1.prototype.pointToData = function(t, e) {}),
      (P1.prototype.getTicksCoords = function(t) {
        var e,
          n,
          i,
          o,
          r,
          a,
          s,
          l = (t = t || {}).tickModel || this.getTickModel(),
          u = B(
            M1(this, l).ticks,
            function(t) {
              return { coord: this.dataToCoord('ordinal' === this.scale.type ? this.scale.getRawOrdinalNumber(t) : t), tickValue: t }
            },
            this
          ),
          l = l.get('alignWithLabel')
        function h(t, e) {
          return (t = or(t)), (e = or(e)), a ? e < t : t < e
        }
        return (
          (e = this),
          (n = u),
          (l = l),
          (t = t.clamp),
          (s = n.length),
          e.onBand &&
            !l &&
            s &&
            ((l = e.getExtent()),
            1 === s
              ? ((n[0].coord = l[0]), (i = n[1] = { coord: l[1], tickValue: n[0].tickValue }))
              : ((r = n[s - 1].tickValue - n[0].tickValue),
                (o = (n[s - 1].coord - n[0].coord) / r),
                E(n, function(t) {
                  t.coord -= o / 2
                }),
                (e = 1 + (r = e.scale.getExtent())[1] - n[s - 1].tickValue),
                (i = { coord: n[s - 1].coord + o * e, tickValue: r[1] + 1 }),
                n.push(i)),
            (a = l[0] > l[1]),
            h(n[0].coord, l[0]) && (t ? (n[0].coord = l[0]) : n.shift()),
            t && h(l[0], n[0].coord) && n.unshift({ coord: l[0] }),
            h(l[1], i.coord) && (t ? (i.coord = l[1]) : n.pop()),
            t) &&
            h(i.coord, l[1]) &&
            n.push({ coord: l[1] }),
          u
        )
      }),
      (P1.prototype.getMinorTicksCoords = function() {
        var t
        return 'ordinal' === this.scale.type
          ? []
          : ((t = this.model.getModel('minorTick').get('splitNumber')),
            B(
              this.scale.getMinorTicks((t = 0 < t && t < 100 ? t : 5)),
              function(t) {
                return B(
                  t,
                  function(t) {
                    return { coord: this.dataToCoord(t), tickValue: t }
                  },
                  this
                )
              },
              this
            ))
      }),
      (P1.prototype.getViewLabels = function() {
        return S1(this).labels
      }),
      (P1.prototype.getLabelModel = function() {
        return this.model.getModel('axisLabel')
      }),
      (P1.prototype.getTickModel = function() {
        return this.model.getModel('axisTick')
      }),
      (P1.prototype.getBandWidth = function() {
        var t = this._extent,
          e = this.scale.getExtent(),
          e = e[1] - e[0] + (this.onBand ? 1 : 0),
          t = (0 === e && (e = 1), Math.abs(t[1] - t[0]))
        return Math.abs(t) / e
      }),
      (P1.prototype.calculateCategoryInterval = function() {
        o = (n = d = this).getLabelModel()
        var t = {
            axisRotate: n.getRotate ? n.getRotate() : n.isHorizontal && !n.isHorizontal() ? 90 : 0,
            labelRotate: o.get('rotate') || 0,
            font: o.getFont(),
          },
          e = Z_(d),
          n = ((t.axisRotate - t.labelRotate) / 180) * Math.PI,
          i = (o = d.scale).getExtent(),
          o = o.count()
        if (i[1] - i[0] < 1) return 0
        for (
          var r = 1,
            a = (40 < o && (r = Math.max(1, Math.floor(o / 40))), i[0]),
            s = d.dataToCoord(a + 1) - d.dataToCoord(a),
            l = Math.abs(s * Math.cos(n)),
            s = Math.abs(s * Math.sin(n)),
            u = 0,
            h = 0;
          a <= i[1];
          a += r
        )
          var c = 1.3 * (p = Co(e({ value: a }), t.font, 'center', 'top')).width,
            p = 1.3 * p.height,
            u = Math.max(u, c, 7),
            h = Math.max(h, p, 7)
        var n = u / l,
          l = h / s,
          s = (isNaN(n) && (n = 1 / 0), isNaN(l) && (l = 1 / 0), Math.max(0, Math.floor(Math.min(n, l)))),
          n = w1(d.model),
          l = d.getExtent(),
          d = n.lastAutoInterval,
          f = n.lastTickCount
        return (
          null != d &&
          null != f &&
          Math.abs(d - s) <= 1 &&
          Math.abs(f - o) <= 1 &&
          s < d &&
          n.axisExtent0 === l[0] &&
          n.axisExtent1 === l[1]
            ? (s = d)
            : ((n.lastTickCount = o), (n.lastAutoInterval = s), (n.axisExtent0 = l[0]), (n.axisExtent1 = l[1])),
          s
        )
      }),
      P1)
  function P1(t, e, n) {
    ;(this.onBand = !1), (this.inverse = !1), (this.dim = t), (this.scale = e), (this._extent = n || [0, 0])
  }
  function O1(t, e) {
    e = (t[1] - t[0]) / e / 2
    ;(t[0] += e), (t[1] -= e)
  }
  var R1 = 2 * Math.PI,
    N1 = ns.CMD,
    E1 = ['top', 'right', 'bottom', 'left']
  function z1(t, e, n, i, o, r, a, s) {
    var l = o - t,
      u = r - e,
      n = n - t,
      i = i - e,
      h = Math.sqrt(n * n + i * i),
      l = (l * (n /= h) + u * (i /= h)) / h,
      u = (s && (l = Math.min(Math.max(l, 0), 1)), (a[0] = t + (l *= h) * n)),
      s = (a[1] = e + l * i)
    return Math.sqrt((u - o) * (u - o) + (s - r) * (s - r))
  }
  function B1(t, e, n, i, o, r, a) {
    n < 0 && ((t += n), (n = -n)), i < 0 && ((e += i), (i = -i))
    ;(n = t + n), (i = e + i), (t = a[0] = Math.min(Math.max(o, t), n)), (n = a[1] = Math.min(Math.max(r, e), i))
    return Math.sqrt((t - o) * (t - o) + (n - r) * (n - r))
  }
  var V1 = []
  function F1(t, e, n) {
    for (var i, o, r, a, s, l, u, h, c, p = 0, d = 0, f = 0, g = 0, y = 1 / 0, m = e.data, v = t.x, _ = t.y, x = 0; x < m.length; ) {
      var w = m[x++],
        b = (1 === x && ((f = p = m[x]), (g = d = m[x + 1])), y)
      switch (w) {
        case N1.M:
          ;(p = f = m[x++]), (d = g = m[x++])
          break
        case N1.L:
          ;(b = z1(p, d, m[x], m[x + 1], v, _, V1, !0)), (p = m[x++]), (d = m[x++])
          break
        case N1.C:
          ;(b = Wn(p, d, m[x++], m[x++], m[x++], m[x++], m[x], m[x + 1], v, _, V1)), (p = m[x++]), (d = m[x++])
          break
        case N1.Q:
          ;(b = qn(p, d, m[x++], m[x++], m[x], m[x + 1], v, _, V1)), (p = m[x++]), (d = m[x++])
          break
        case N1.A:
          var S = m[x++],
            M = m[x++],
            T = m[x++],
            I = m[x++],
            C = m[x++],
            A = m[x++],
            D = ((x += 1), !!(1 - m[x++])),
            k = Math.cos(C) * T + S,
            L = Math.sin(C) * I + M
          x <= 1 && ((f = k), (g = L)),
            (L = (k = C) + A),
            (D = D),
            (a = ((v - S) * (r = I)) / T + S),
            (s = _),
            (l = V1),
            (c = h = u = void 0),
            (a -= i = S),
            (s -= o = M),
            (u = Math.sqrt(a * a + s * s)),
            (h = (a /= u) * r + i),
            (c = (s /= u) * r + o),
            (b =
              Math.abs(k - L) % R1 < 1e-4 ||
              ((L = D ? ((D = k), (k = rs(L)), rs(D)) : ((k = rs(k)), rs(L))) < k && (L += R1),
              (D = Math.atan2(s, a)) < 0 && (D += R1),
              k <= D && D <= L) ||
              (k <= D + R1 && D + R1 <= L)
                ? ((l[0] = h), (l[1] = c), u - r)
                : (c = ((D = r * Math.cos(k) + i) - a) * (D - a) + ((h = r * Math.sin(k) + o) - s) * (h - s)) <
                  (i = ((u = r * Math.cos(L) + i) - a) * (u - a) + ((k = r * Math.sin(L) + o) - s) * (k - s))
                ? ((l[0] = D), (l[1] = h), Math.sqrt(c))
                : ((l[0] = u), (l[1] = k), Math.sqrt(i))),
            (p = Math.cos(C + A) * T + S),
            (d = Math.sin(C + A) * I + M)
          break
        case N1.R:
          b = B1((f = p = m[x++]), (g = d = m[x++]), m[x++], m[x++], v, _, V1)
          break
        case N1.Z:
          ;(b = z1(p, d, f, g, v, _, V1, !0)), (p = f), (d = g)
      }
      b < y && ((y = b), n.set(V1[0], V1[1]))
    }
    return y
  }
  var H1 = new G(),
    G1 = new G(),
    W1 = new G(),
    U1 = new G(),
    Y1 = new G()
  function X1(t, e) {
    if (t) {
      var n = t.getTextGuideLine(),
        i = t.getTextContent()
      if (i && n) {
        var o = t.textGuideLineConfig || {},
          r = [
            [0, 0],
            [0, 0],
            [0, 0],
          ],
          a = o.candidates || E1,
          s = i.getBoundingRect().clone(),
          l = (s.applyTransform(i.getComputedTransform()), 1 / 0),
          u = o.anchor,
          h = t.getComputedTransform(),
          c = h && Ve([], h),
          p = e.get('length2') || 0
        u && W1.copy(u)
        for (var d, f = 0; f < a.length; f++) {
          var g = a[f],
            y = ((b = w = x = _ = v = m = y = void 0), g),
            m = 0,
            v = s,
            _ = H1,
            x = U1,
            w = v.width,
            b = v.height
          switch (y) {
            case 'top':
              _.set(v.x + w / 2, v.y - m), x.set(0, -1)
              break
            case 'bottom':
              _.set(v.x + w / 2, v.y + b + m), x.set(0, 1)
              break
            case 'left':
              _.set(v.x - m, v.y + b / 2), x.set(-1, 0)
              break
            case 'right':
              _.set(v.x + w + m, v.y + b / 2), x.set(1, 0)
          }
          G.scaleAndAdd(G1, H1, U1, p), G1.transform(c)
          ;(g = t.getBoundingRect()),
            (g = u
              ? u.distance(G1)
              : t instanceof j
              ? F1(G1, t.path, W1)
              : ((y = W1), (d = B1((d = g).x, g.y, g.width, g.height, G1.x, G1.y, V1)), y.set(V1[0], V1[1]), d))
          g < l && ((l = g), G1.transform(h), W1.transform(h), W1.toArray(r[0]), G1.toArray(r[1]), H1.toArray(r[2]))
        }
        j1(r, e.get('minTurnAngle')), n.setShape({ points: r })
      }
    }
  }
  var Z1 = [],
    q1 = new G()
  function j1(t, e) {
    var n, i
    e <= 180 &&
      0 < e &&
      ((e = (e / 180) * Math.PI),
      H1.fromArray(t[0]),
      G1.fromArray(t[1]),
      W1.fromArray(t[2]),
      G.sub(U1, H1, G1),
      G.sub(Y1, W1, G1),
      (i = U1.len()),
      (n = Y1.len()),
      i < 0.001 ||
        n < 0.001 ||
        (U1.scale(1 / i),
        Y1.scale(1 / n),
        (i = U1.dot(Y1)),
        Math.cos(e) < i &&
          ((n = z1(G1.x, G1.y, W1.x, W1.y, H1.x, H1.y, Z1, !1)),
          q1.fromArray(Z1),
          q1.scaleAndAdd(Y1, n / Math.tan(Math.PI - e)),
          (i = W1.x !== G1.x ? (q1.x - G1.x) / (W1.x - G1.x) : (q1.y - G1.y) / (W1.y - G1.y)),
          isNaN(i) || (i < 0 ? G.copy(q1, G1) : 1 < i && G.copy(q1, W1), q1.toArray(t[1])))))
  }
  function K1(t, e, n, i) {
    var o = 'normal' === n,
      n = o ? t : t.ensureState(n),
      e = ((n.ignore = e), i.get('smooth')),
      e = (e && !0 === e && (e = 0.3), (n.shape = n.shape || {}), 0 < e && (n.shape.smooth = e), i.getModel('lineStyle').getLineStyle())
    o ? t.useStyle(e) : (n.style = e)
  }
  function $1(t, e) {
    var n = e.smooth,
      i = e.points
    if (i)
      if ((t.moveTo(i[0][0], i[0][1]), 0 < n && 3 <= i.length)) {
        var e = Kt(i[0], i[1]),
          o = Kt(i[1], i[2])
        e && o
          ? ((n = Math.min(e, o) * n),
            (e = Jt([], i[1], i[0], n / e)),
            (n = Jt([], i[1], i[2], n / o)),
            (o = Jt([], e, n, 0.5)),
            t.bezierCurveTo(e[0], e[1], e[0], e[1], o[0], o[1]),
            t.bezierCurveTo(n[0], n[1], n[0], n[1], i[2][0], i[2][1]))
          : (t.lineTo(i[1][0], i[1][1]), t.lineTo(i[2][0], i[2][1]))
      } else for (var r = 1; r < i.length; r++) t.lineTo(i[r][0], i[r][1])
  }
  function Q1(t, e, n) {
    var i = t.getTextGuideLine(),
      o = t.getTextContent()
    if (o) {
      for (var r = e.normal, a = r.get('show'), s = o.ignore, l = 0; l < ll.length; l++) {
        var u,
          h = ll[l],
          c = e[h],
          p = 'normal' === h
        c &&
          ((u = c.get('show')),
          (p ? s : R(o.states[h] && o.states[h].ignore, s)) || !R(u, a)
            ? ((u = p ? i : i && i.states[h]) && (u.ignore = !0), i && K1(i, !0, h, c))
            : (i ||
                ((i = new Qu()),
                t.setTextGuideLine(i),
                p || (!s && a) || K1(i, !0, 'normal', e.normal),
                t.stateProxy && (i.stateProxy = t.stateProxy)),
              K1(i, !1, h, c)))
      }
      i &&
        (z(i.style, n),
        (i.style.fill = null),
        (n = r.get('showAbove')),
        ((t.textGuideLineConfig = t.textGuideLineConfig || {}).showAbove = n || !1),
        (i.buildPath = $1))
    } else i && t.removeTextGuideLine()
  }
  function J1(t, e) {
    for (var n = { normal: t.getModel((e = e || 'labelLine')) }, i = 0; i < sl.length; i++) {
      var o = sl[i]
      n[o] = t.getModel([o, e])
    }
    return n
  }
  function tx(t) {
    for (var e = [], n = 0; n < t.length; n++) {
      var i,
        o,
        r,
        a,
        s,
        l,
        u = t[n]
      u.defaultAttr.ignore ||
        ((o = (i = u.label).getComputedTransform()),
        (r = i.getBoundingRect()),
        (a = !o || (o[1] < 1e-5 && o[2] < 1e-5)),
        (l = i.style.margin || 0),
        (s = r.clone()).applyTransform(o),
        (s.x -= l / 2),
        (s.y -= l / 2),
        (s.width += l),
        (s.height += l),
        (l = a ? new Dh(r, o) : null),
        e.push({
          label: i,
          labelLine: u.labelLine,
          rect: s,
          localRect: r,
          obb: l,
          priority: u.priority,
          defaultAttr: u.defaultAttr,
          layoutOption: u.computedLayoutOption,
          axisAligned: a,
          transform: o,
        }))
    }
    return e
  }
  function ex(s, l, u, t, e, n) {
    var h = s.length
    if (!(h < 2)) {
      s.sort(function(t, e) {
        return t.rect[l] - e.rect[l]
      })
      for (var i = 0, r = !1, o = 0, a = 0; a < h; a++) {
        var c,
          p = s[a],
          d = p.rect
        ;(c = d[l] - i) < 0 && ((d[l] -= c), (p.label[l] -= c), (r = !0)), (o += Math.max(-c, 0)), (i = d[l] + d[u])
      }
      0 < o && n && x(-o / h, 0, h)
      var f,
        g,
        y = s[0],
        m = s[h - 1]
      return v(), f < 0 && w(-f, 0.8), g < 0 && w(g, 0.8), v(), _(f, g, 1), _(g, f, -1), v(), f < 0 && b(-f), g < 0 && b(g), r
    }
    function v() {
      ;(f = y.rect[l] - t), (g = e - m.rect[l] - m.rect[u])
    }
    function _(t, e, n) {
      t < 0 && (0 < (e = Math.min(e, -t)) ? (x(e * n, 0, h), (e = e + t) < 0 && w(-e * n, 1)) : w(-t * n, 1))
    }
    function x(t, e, n) {
      0 !== t && (r = !0)
      for (var i = e; i < n; i++) {
        var o = s[i]
        ;(o.rect[l] += t), (o.label[l] += t)
      }
    }
    function w(t, e) {
      for (var n = [], i = 0, o = 1; o < h; o++) {
        var r = s[o - 1].rect,
          r = Math.max(s[o].rect[l] - r[l] - r[u], 0)
        n.push(r), (i += r)
      }
      if (i) {
        var a = Math.min(Math.abs(t) / i, e)
        if (0 < t) for (o = 0; o < h - 1; o++) x(n[o] * a, 0, o + 1)
        else for (o = h - 1; 0 < o; o--) x(-(n[o - 1] * a), o, h)
      }
    }
    function b(t) {
      for (var e = t < 0 ? -1 : 1, n = ((t = Math.abs(t)), Math.ceil(t / (h - 1))), i = 0; i < h - 1; i++)
        if ((0 < e ? x(n, 0, i + 1) : x(-n, h - i - 1, h), (t -= n) <= 0)) return
    }
  }
  function nx(t, e, n, i) {
    return ex(t, 'y', 'height', e, n, i)
  }
  function ix(t) {
    var e = [],
      n =
        (t.sort(function(t, e) {
          return e.priority - t.priority
        }),
        new Y(0, 0, 0, 0))
    function i(t) {
      var e
      t.ignore || (null == (e = t.ensureState('emphasis')).ignore && (e.ignore = !1)), (t.ignore = !0)
    }
    for (var o = 0; o < t.length; o++) {
      for (
        var r = t[o],
          a = r.axisAligned,
          s = r.localRect,
          l = r.transform,
          u = r.label,
          h = r.labelLine,
          c = (n.copy(r.rect), (n.width -= 0.1), (n.height -= 0.1), (n.x += 0.05), (n.y += 0.05), r.obb),
          p = !1,
          d = 0;
        d < e.length;
        d++
      ) {
        var f = e[d]
        if (n.intersect(f.rect)) {
          if (a && f.axisAligned) {
            p = !0
            break
          }
          if ((f.obb || (f.obb = new Dh(f.localRect, f.transform)), (c = c || new Dh(s, l)).intersect(f.obb))) {
            p = !0
            break
          }
        }
      }
      p ? (i(u), h && i(h)) : (u.attr('ignore', r.defaultAttr.ignore), h && h.attr('ignore', r.defaultAttr.labelGuideIgnore), e.push(r))
    }
  }
  function ox(t, e) {
    var n = t.label,
      e = e && e.getTextGuideLine()
    return {
      dataIndex: t.dataIndex,
      dataType: t.dataType,
      seriesIndex: t.seriesModel.seriesIndex,
      text: t.label.style.text,
      rect: t.hostRect,
      labelRect: t.rect,
      align: n.style.align,
      verticalAlign: n.style.verticalAlign,
      labelLinePoints: (function(t) {
        if (t) {
          for (var e = [], n = 0; n < t.length; n++) e.push(t[n].slice())
          return e
        }
      })(e && e.shape.points),
    }
  }
  var rx = ['align', 'verticalAlign', 'width', 'height', 'fontSize'],
    ax = new wo(),
    sx = Nr(),
    lx = Nr()
  function ux(t, e, n) {
    for (var i = 0; i < n.length; i++) {
      var o = n[i]
      null != e[o] && (t[o] = e[o])
    }
  }
  var hx = ['x', 'y', 'rotation'],
    cx =
      ((px.prototype.clearLabels = function() {
        ;(this._labelList = []), (this._chartViewList = [])
      }),
      (px.prototype._addLabel = function(t, e, n, i, o) {
        var r,
          a = i.style,
          s = i.__hostTarget.textConfig || {},
          l = i.getComputedTransform(),
          u = i.getBoundingRect().plain(),
          l =
            (Y.applyTransform(u, u, l),
            l ? ax.setLocalTransform(l) : ((ax.x = ax.y = ax.rotation = ax.originX = ax.originY = 0), (ax.scaleX = ax.scaleY = 1)),
            (ax.rotation = rs(ax.rotation)),
            i.__hostTarget),
          h =
            (l && ((r = l.getBoundingRect().plain()), (h = l.getComputedTransform()), Y.applyTransform(r, r, h)), r && l.getTextGuideLine())
        this._labelList.push({
          label: i,
          labelLine: h,
          seriesModel: n,
          dataIndex: t,
          dataType: e,
          layoutOption: o,
          computedLayoutOption: null,
          rect: u,
          hostRect: r,
          priority: r ? r.width * r.height : 0,
          defaultAttr: {
            ignore: i.ignore,
            labelGuideIgnore: h && h.ignore,
            x: ax.x,
            y: ax.y,
            scaleX: ax.scaleX,
            scaleY: ax.scaleY,
            rotation: ax.rotation,
            style: {
              x: a.x,
              y: a.y,
              align: a.align,
              verticalAlign: a.verticalAlign,
              width: a.width,
              height: a.height,
              fontSize: a.fontSize,
            },
            cursor: i.cursor,
            attachedPos: s.position,
            attachedRot: s.rotation,
          },
        })
      }),
      (px.prototype.addLabelsOfSeries = function(t) {
        var n = this,
          i = (this._chartViewList.push(t), t.__model),
          o = i.get('labelLayout')
        ;(A(o) || ct(o).length) &&
          t.group.traverse(function(t) {
            if (t.ignore) return !0
            var e = t.getTextContent(),
              t = D(t)
            e && !e.disableLabelLayout && n._addLabel(t.dataIndex, t.dataType, i, e, o)
          })
      }),
      (px.prototype.updateLayoutConfig = function(t) {
        var e = t.getWidth(),
          n = t.getHeight()
        for (var i = 0; i < this._labelList.length; i++) {
          var o = this._labelList[i],
            r = o.label,
            a = r.__hostTarget,
            s = o.defaultAttr,
            l = void 0,
            l = A(o.layoutOption) ? o.layoutOption(ox(o, a)) : o.layoutOption,
            u = ((o.computedLayoutOption = l = l || {}), Math.PI / 180),
            h =
              (a &&
                a.setTextConfig({
                  local: !1,
                  position: null != l.x || null != l.y ? null : s.attachedPos,
                  rotation: null != l.rotate ? l.rotate * u : s.attachedRot,
                  offset: [l.dx || 0, l.dy || 0],
                }),
              !1)
          null != l.x ? ((r.x = W(l.x, e)), r.setStyle('x', 0), (h = !0)) : ((r.x = s.x), r.setStyle('x', s.style.x)),
            null != l.y ? ((r.y = W(l.y, n)), r.setStyle('y', 0), (h = !0)) : ((r.y = s.y), r.setStyle('y', s.style.y)),
            l.labelLinePoints && (c = a.getTextGuideLine()) && (c.setShape({ points: l.labelLinePoints }), (h = !1)),
            (sx(r).needsUpdateLabelLine = h),
            (r.rotation = null != l.rotate ? l.rotate * u : s.rotation),
            (r.scaleX = s.scaleX),
            (r.scaleY = s.scaleY)
          for (var c, p = 0; p < rx.length; p++) {
            var d = rx[p]
            r.setStyle(d, (null != l[d] ? l : s.style)[d])
          }
          l.draggable
            ? ((r.draggable = !0),
              (r.cursor = 'move'),
              a &&
                ((c = o.seriesModel),
                null != o.dataIndex && (c = o.seriesModel.getData(o.dataType).getItemModel(o.dataIndex)),
                r.on(
                  'drag',
                  (function(t, e) {
                    return function() {
                      X1(t, e)
                    }
                  })(a, c.getModel('labelLine'))
                )))
            : (r.off('drag'), (r.cursor = s.cursor))
        }
      }),
      (px.prototype.layout = function(t) {
        var e,
          n = t.getWidth(),
          t = t.getHeight(),
          i = tx(this._labelList),
          o = ht(i, function(t) {
            return 'shiftX' === t.layoutOption.moveOverlap
          }),
          r = ht(i, function(t) {
            return 'shiftY' === t.layoutOption.moveOverlap
          })
        ex(o, 'x', 'width', 0, n, e),
          nx(r, 0, t),
          ix(
            ht(i, function(t) {
              return t.layoutOption.hideOverlap
            })
          )
      }),
      (px.prototype.processLabelsOverall = function() {
        var a = this
        E(this._chartViewList, function(t) {
          var i = t.__model,
            o = t.ignoreLabelLineUpdate,
            r = i.isAnimationEnabled()
          t.group.traverse(function(t) {
            if (t.ignore && !t.forceLabelAnimation) return !0
            var e = !o,
              n = t.getTextContent()
            ;(e = !e && n ? sx(n).needsUpdateLabelLine : e) && a._updateLabelLine(t, i), r && a._animateLabels(t, i)
          })
        })
      }),
      (px.prototype._updateLabelLine = function(t, e) {
        var n = t.getTextContent(),
          i = D(t),
          o = i.dataIndex
        n &&
          null != o &&
          ((e = (n = e.getData(i.dataType)).getItemModel(o)),
          (i = {}),
          (o = n.getItemVisual(o, 'style')) && ((n = n.getVisual('drawType')), (i.stroke = o[n])),
          (o = e.getModel('labelLine')),
          Q1(t, J1(e), i),
          X1(t, o))
      }),
      (px.prototype._animateLabels = function(t, e) {
        var n,
          i,
          o,
          r,
          a,
          s = t.getTextContent(),
          l = t.getTextGuideLine()
        !s ||
          (!t.forceLabelAnimation && (s.ignore || s.invisible || t.disableLabelAnimation || Bh(t))) ||
          ((r = (o = sx(s)).oldLayout),
          (n = (i = D(t)).dataIndex),
          (a = { x: s.x, y: s.y, rotation: s.rotation }),
          (i = e.getData(i.dataType)),
          r
            ? (s.attr(r),
              (t = t.prevStates) &&
                (0 <= C(t, 'select') && s.attr(o.oldLayoutSelect), 0 <= C(t, 'emphasis')) &&
                s.attr(o.oldLayoutEmphasis),
              Eh(s, a, e, n))
            : (s.attr(a),
              Ac(s).valueAnimation || ((t = R(s.style.opacity, 1)), (s.style.opacity = 0), zh(s, { style: { opacity: t } }, e, n))),
          (o.oldLayout = a),
          s.states.select && (ux((t = o.oldLayoutSelect = {}), a, hx), ux(t, s.states.select, hx)),
          s.states.emphasis && (ux((t = o.oldLayoutEmphasis = {}), a, hx), ux(t, s.states.emphasis, hx)),
          kc(s, n, i, e, e)),
          !l ||
            l.ignore ||
            l.invisible ||
            ((r = (o = lx(l)).oldLayout),
            (a = { points: l.shape.points }),
            r
              ? (l.attr({ shape: r }), Eh(l, { shape: a }, e))
              : (l.setShape(a), (l.style.strokePercent = 0), zh(l, { style: { strokePercent: 1 } }, e)),
            (o.oldLayout = a))
      }),
      px)
  function px() {
    ;(this._labelList = []), (this._chartViewList = [])
  }
  var dx = Nr()
  function fx(t) {
    t.registerUpdateLifecycle('series:beforeupdate', function(t, e, n) {
      ;(dx(e).labelManager || (dx(e).labelManager = new cx())).clearLabels()
    }),
      t.registerUpdateLifecycle('series:layoutlabels', function(t, e, n) {
        var i = dx(e).labelManager
        n.updatedSeries.forEach(function(t) {
          i.addLabelsOfSeries(e.getViewOfSeriesModel(t))
        }),
          i.updateLayoutConfig(e),
          i.layout(e),
          i.processLabelsOverall()
      })
  }
  function gx(t, e, n) {
    var i = U.createCanvas(),
      o = e.getWidth(),
      e = e.getHeight(),
      r = i.style
    return (
      r &&
        ((r.position = 'absolute'),
        (r.left = '0'),
        (r.top = '0'),
        (r.width = o + 'px'),
        (r.height = e + 'px'),
        i.setAttribute('data-zr-dom-id', t)),
      (i.width = o * n),
      (i.height = e * n),
      i
    )
  }
  i1(fx)
  u(vx, (yx = se)),
    (vx.prototype.getElementCount = function() {
      return this.__endIndex - this.__startIndex
    }),
    (vx.prototype.afterBrush = function() {
      ;(this.__prevStartIndex = this.__startIndex), (this.__prevEndIndex = this.__endIndex)
    }),
    (vx.prototype.initContext = function() {
      ;(this.ctx = this.dom.getContext('2d')), (this.ctx.dpr = this.dpr)
    }),
    (vx.prototype.setUnpainted = function() {
      this.__firstTimePaint = !0
    }),
    (vx.prototype.createBackBuffer = function() {
      var t = this.dpr
      ;(this.domBack = gx('back-' + this.id, this.painter, t)),
        (this.ctxBack = this.domBack.getContext('2d')),
        1 !== t && this.ctxBack.scale(t, t)
    }),
    (vx.prototype.createRepaintRects = function(t, e, n, i) {
      if (this.__firstTimePaint) return (this.__firstTimePaint = !1), null
      var l = [],
        u = this.maxRepaintRectCount,
        h = !1,
        c = new Y(0, 0, 0, 0)
      function o(t) {
        if (t.isFinite() && !t.isZero())
          if (0 === l.length) (e = new Y(0, 0, 0, 0)).copy(t), l.push(e)
          else {
            for (var e, n = !1, i = 1 / 0, o = 0, r = 0; r < l.length; ++r) {
              var a = l[r]
              if (a.intersect(t)) {
                var s = new Y(0, 0, 0, 0)
                s.copy(a), s.union(t), (l[r] = s), (n = !0)
                break
              }
              h &&
                (c.copy(t), c.union(a), (s = t.width * t.height), (a = a.width * a.height), (a = c.width * c.height - s - a) < i) &&
                ((i = a), (o = r))
            }
            h && (l[o].union(t), (n = !0)), n || ((e = new Y(0, 0, 0, 0)).copy(t), l.push(e)), (h = h || l.length >= u)
          }
      }
      for (var r, a = this.__startIndex; a < this.__endIndex; ++a)
        (s = t[a]) &&
          ((d = s.shouldBePainted(n, i, !0, !0)),
          (p = s.__isRendered && (s.__dirty & _n || !d) ? s.getPrevPaintRect() : null) && o(p),
          (r = d && (s.__dirty & _n || !s.__isRendered) ? s.getPaintRect() : null)) &&
          o(r)
      for (a = this.__prevStartIndex; a < this.__prevEndIndex; ++a) {
        var s,
          p,
          d = (s = e[a]) && s.shouldBePainted(n, i, !0, !0)
        !s || (d && s.__zr) || !s.__isRendered || ((p = s.getPrevPaintRect()) && o(p))
      }
      do {
        for (var f = !1, a = 0; a < l.length; )
          if (l[a].isZero()) l.splice(a, 1)
          else {
            for (var g = a + 1; g < l.length; ) l[a].intersect(l[g]) ? ((f = !0), l[a].union(l[g]), l.splice(g, 1)) : g++
            a++
          }
      } while (f)
      return (this._paintRects = l)
    }),
    (vx.prototype.debugGetPaintRects = function() {
      return (this._paintRects || []).slice()
    }),
    (vx.prototype.resize = function(t, e) {
      var n = this.dpr,
        i = this.dom,
        o = i.style,
        r = this.domBack
      o && ((o.width = t + 'px'), (o.height = e + 'px')),
        (i.width = t * n),
        (i.height = e * n),
        r && ((r.width = t * n), (r.height = e * n), 1 !== n) && this.ctxBack.scale(n, n)
    }),
    (vx.prototype.clear = function(t, r, e) {
      var n = this.dom,
        a = this.ctx,
        i = n.width,
        o = n.height,
        s = ((r = r || this.clearColor), this.motionBlur && !t),
        l = this.lastFrameAlpha,
        u = this.dpr,
        h = this,
        c =
          (s &&
            (this.domBack || this.createBackBuffer(),
            (this.ctxBack.globalCompositeOperation = 'copy'),
            this.ctxBack.drawImage(n, 0, 0, i / u, o / u)),
          this.domBack)
      function p(t, e, n, i) {
        var o
        a.clearRect(t, e, n, i),
          r &&
            'transparent' !== r &&
            ((o = void 0),
            yt(r)
              ? ((o =
                  ((r.global || (r.__width === n && r.__height === i)) && r.__canvasGradient) ||
                  mm(a, r, { x: 0, y: 0, width: n, height: i })),
                (r.__canvasGradient = o),
                (r.__width = n),
                (r.__height = i))
              : mt(r) &&
                ((r.scaleX = r.scaleX || u),
                (r.scaleY = r.scaleY || u),
                (o = Cm(a, r, {
                  dirty: function() {
                    h.setUnpainted(), h.painter.refresh()
                  },
                }))),
            a.save(),
            (a.fillStyle = o || r),
            a.fillRect(t, e, n, i),
            a.restore()),
          s && (a.save(), (a.globalAlpha = l), a.drawImage(c, t, e, n, i), a.restore())
      }
      !e || s
        ? p(0, 0, i, o)
        : e.length &&
          E(e, function(t) {
            p(t.x * u, t.y * u, t.width * u, t.height * u)
          })
    })
  var yx,
    mx = vx
  function vx(t, e, n) {
    var i,
      o = yx.call(this) || this,
      t =
        ((o.motionBlur = !1),
        (o.lastFrameAlpha = 0.7),
        (o.dpr = 1),
        (o.virtual = !1),
        (o.config = {}),
        (o.incremental = !1),
        (o.zlevel = 0),
        (o.maxRepaintRectCount = 5),
        (o.__dirty = !0),
        (o.__firstTimePaint = !0),
        (o.__used = !1),
        (o.__drawIndex = 0),
        (o.__startIndex = 0),
        (o.__endIndex = 0),
        (o.__prevStartIndex = null),
        (o.__prevEndIndex = null),
        (n = n || co),
        'string' == typeof t ? (i = gx(t, e, n)) : O(t) && (t = (i = t).id),
        (o.id = t),
        (o.dom = i).style)
    return (
      t &&
        (Et(i),
        (i.onselectstart = function() {
          return !1
        }),
        (t.padding = '0'),
        (t.margin = '0'),
        (t.borderWidth = '0')),
      (o.painter = e),
      (o.dpr = n),
      o
    )
  }
  var _x = 314159
  ;(c.prototype.getType = function() {
    return 'canvas'
  }),
    (c.prototype.isSingleCanvas = function() {
      return this._singleCanvas
    }),
    (c.prototype.getViewportRoot = function() {
      return this._domRoot
    }),
    (c.prototype.getViewportRootOffset = function() {
      var t = this.getViewportRoot()
      if (t) return { offsetLeft: t.offsetLeft || 0, offsetTop: t.offsetTop || 0 }
    }),
    (c.prototype.refresh = function(t) {
      var e = this.storage.getDisplayList(!0),
        n = this._prevDisplayList,
        i = this._zlevelList
      ;(this._redrawId = Math.random()), this._paintList(e, n, t, this._redrawId)
      for (var o = 0; o < i.length; o++) {
        var r,
          a = i[o],
          a = this._layers[a]
        !a.__builtin__ && a.refresh && ((r = 0 === o ? this._backgroundColor : null), a.refresh(r))
      }
      return this._opts.useDirtyRect && (this._prevDisplayList = e.slice()), this
    }),
    (c.prototype.refreshHover = function() {
      this._paintHoverList(this.storage.getDisplayList(!1))
    }),
    (c.prototype._paintHoverList = function(t) {
      var e = t.length,
        n = this._hoverlayer
      if ((n && n.clear(), e)) {
        for (var i, o = { inHover: !0, viewWidth: this._width, viewHeight: this._height }, r = 0; r < e; r++) {
          var a = t[r]
          a.__inHover && ((n = n || (this._hoverlayer = this.getLayer(1e5))), i || (i = n.ctx).save(), Fm(i, a, o, r === e - 1))
        }
        i && i.restore()
      }
    }),
    (c.prototype.getHoverLayer = function() {
      return this.getLayer(1e5)
    }),
    (c.prototype.paintOne = function(t, e) {
      Vm(t, e)
    }),
    (c.prototype._paintList = function(t, e, n, i) {
      var o, r, a
      this._redrawId === i &&
        ((n = n || !1),
        this._updateLayerStatus(t),
        (o = (r = this._doPaintList(t, e, n)).finished),
        (r = r.needsRefreshHover),
        this._needsManuallyCompositing && this._compositeManually(),
        r && this._paintHoverList(t),
        o
          ? this.eachLayer(function(t) {
              t.afterBrush && t.afterBrush()
            })
          : ((a = this),
            In(function() {
              a._paintList(t, e, n, i)
            })))
    }),
    (c.prototype._compositeManually = function() {
      var e = this.getLayer(_x).ctx,
        n = this._domRoot.width,
        i = this._domRoot.height
      e.clearRect(0, 0, n, i),
        this.eachBuiltinLayer(function(t) {
          t.virtual && e.drawImage(t.dom, 0, 0, n, i)
        })
    }),
    (c.prototype._doPaintList = function(d, f, g) {
      for (var y = this, m = [], v = this._opts.useDirtyRect, t = 0; t < this._zlevelList.length; t++) {
        var e = this._zlevelList[t],
          e = this._layers[e]
        e.__builtin__ && e !== this._hoverlayer && (e.__dirty || g) && m.push(e)
      }
      for (
        var _ = !0,
          x = !1,
          n = function(t) {
            function e(t) {
              var e = { inHover: !1, allClipped: !1, prevEl: null, viewWidth: y._width, viewHeight: y._height }
              for (i = s; i < o.__endIndex; i++) {
                var n = d[i]
                if ((n.__inHover && (x = !0), y._doPaintEl(n, o, v, t, e, i === o.__endIndex - 1), l)) if (15 < Date.now() - u) break
              }
              e.prevElClipPaths && r.restore()
            }
            var n,
              i,
              o = m[t],
              r = o.ctx,
              a = v && o.createRepaintRects(d, f, w._width, w._height),
              s = g ? o.__startIndex : o.__drawIndex,
              l = !g && o.incremental && Date.now,
              u = l && Date.now(),
              t = o.zlevel === w._zlevelList[0] ? w._backgroundColor : null
            ;(o.__startIndex !== o.__endIndex && (s !== o.__startIndex || ((n = d[s]).incremental && n.notClear && !g))) ||
              o.clear(!1, t, a),
              -1 === s && (console.error('For some unknown reason. drawIndex is -1'), (s = o.__startIndex))
            if (a)
              if (0 === a.length) i = o.__endIndex
              else
                for (var h = w.dpr, c = 0; c < a.length; ++c) {
                  var p = a[c]
                  r.save(), r.beginPath(), r.rect(p.x * h, p.y * h, p.width * h, p.height * h), r.clip(), e(p), r.restore()
                }
            else r.save(), e(), r.restore()
            ;(o.__drawIndex = i), o.__drawIndex < o.__endIndex && (_ = !1)
          },
          w = this,
          i = 0;
        i < m.length;
        i++
      )
        n(i)
      return (
        b.wxa &&
          E(this._layers, function(t) {
            t && t.ctx && t.ctx.draw && t.ctx.draw()
          }),
        { finished: _, needsRefreshHover: x }
      )
    }),
    (c.prototype._doPaintEl = function(t, e, n, i, o, r) {
      e = e.ctx
      n ? ((n = t.getPaintRect()), (!i || (n && n.intersect(i))) && (Fm(e, t, o, r), t.setPrevPaintRect(n))) : Fm(e, t, o, r)
    }),
    (c.prototype.getLayer = function(t, e) {
      this._singleCanvas && !this._needsManuallyCompositing && (t = _x)
      var n = this._layers[t]
      return (
        n ||
          (((n = new mx('zr_' + t, this, this.dpr)).zlevel = t),
          (n.__builtin__ = !0),
          this._layerConfig[t] ? d(n, this._layerConfig[t], !0) : this._layerConfig[t - 0.01] && d(n, this._layerConfig[t - 0.01], !0),
          e && (n.virtual = e),
          this.insertLayer(t, n),
          n.initContext()),
        n
      )
    }),
    (c.prototype.insertLayer = function(t, e) {
      var n,
        i = this._layers,
        o = this._zlevelList,
        r = o.length,
        a = this._domRoot,
        s = null,
        l = -1
      if (!i[t] && (n = e) && (n.__builtin__ || ('function' == typeof n.resize && 'function' == typeof n.refresh))) {
        if (0 < r && t > o[0]) {
          for (l = 0; l < r - 1 && !(o[l] < t && o[l + 1] > t); l++);
          s = i[o[l]]
        }
        o.splice(l + 1, 0, t),
          (i[t] = e).virtual ||
            (s
              ? (n = s.dom).nextSibling
                ? a.insertBefore(e.dom, n.nextSibling)
                : a.appendChild(e.dom)
              : a.firstChild
              ? a.insertBefore(e.dom, a.firstChild)
              : a.appendChild(e.dom)),
          e.painter || (e.painter = this)
      }
    }),
    (c.prototype.eachLayer = function(t, e) {
      for (var n = this._zlevelList, i = 0; i < n.length; i++) {
        var o = n[i]
        t.call(e, this._layers[o], o)
      }
    }),
    (c.prototype.eachBuiltinLayer = function(t, e) {
      for (var n = this._zlevelList, i = 0; i < n.length; i++) {
        var o = n[i],
          r = this._layers[o]
        r.__builtin__ && t.call(e, r, o)
      }
    }),
    (c.prototype.eachOtherLayer = function(t, e) {
      for (var n = this._zlevelList, i = 0; i < n.length; i++) {
        var o = n[i],
          r = this._layers[o]
        r.__builtin__ || t.call(e, r, o)
      }
    }),
    (c.prototype.getLayers = function() {
      return this._layers
    }),
    (c.prototype._updateLayerStatus = function(t) {
      function e(t) {
        o && (o.__endIndex !== t && (o.__dirty = !0), (o.__endIndex = t))
      }
      if (
        (this.eachBuiltinLayer(function(t, e) {
          t.__dirty = t.__used = !1
        }),
        this._singleCanvas)
      )
        for (var n = 1; n < t.length; n++)
          if ((s = t[n]).zlevel !== t[n - 1].zlevel || s.incremental) {
            this._needsManuallyCompositing = !0
            break
          }
      for (var i, o = null, r = 0, a = 0; a < t.length; a++) {
        var s,
          l = (s = t[a]).zlevel,
          u = void 0
        i !== l && ((i = l), (r = 0)),
          s.incremental
            ? (((u = this.getLayer(l + 0.001, this._needsManuallyCompositing)).incremental = !0), (r = 1))
            : (u = this.getLayer(l + (0 < r ? 0.01 : 0), this._needsManuallyCompositing)),
          u.__builtin__ || it('ZLevel ' + l + ' has been used by unkown layer ' + u.id),
          u !== o &&
            ((u.__used = !0),
            u.__startIndex !== a && (u.__dirty = !0),
            (u.__startIndex = a),
            u.incremental ? (u.__drawIndex = -1) : (u.__drawIndex = a),
            e(a),
            (o = u)),
          s.__dirty & _n && !s.__inHover && ((u.__dirty = !0), u.incremental) && u.__drawIndex < 0 && (u.__drawIndex = a)
      }
      e(a),
        this.eachBuiltinLayer(function(t, e) {
          !t.__used && 0 < t.getElementCount() && ((t.__dirty = !0), (t.__startIndex = t.__endIndex = t.__drawIndex = 0)),
            t.__dirty && t.__drawIndex < 0 && (t.__drawIndex = t.__startIndex)
        })
    }),
    (c.prototype.clear = function() {
      return this.eachBuiltinLayer(this._clearLayer), this
    }),
    (c.prototype._clearLayer = function(t) {
      t.clear()
    }),
    (c.prototype.setBackgroundColor = function(t) {
      ;(this._backgroundColor = t),
        E(this._layers, function(t) {
          t.setUnpainted()
        })
    }),
    (c.prototype.configLayer = function(t, e) {
      if (e) {
        var n = this._layerConfig
        n[t] ? d(n[t], e, !0) : (n[t] = e)
        for (var i = 0; i < this._zlevelList.length; i++) {
          var o = this._zlevelList[i]
          ;(o !== t && o !== t + 0.01) || d(this._layers[o], n[t], !0)
        }
      }
    }),
    (c.prototype.delLayer = function(t) {
      var e = this._layers,
        n = this._zlevelList,
        i = e[t]
      i && (i.dom.parentNode.removeChild(i.dom), delete e[t], n.splice(C(n, t), 1))
    }),
    (c.prototype.resize = function(t, e) {
      if (this._domRoot.style) {
        var n = this._domRoot,
          i = ((n.style.display = 'none'), this._opts),
          o = this.root
        if (
          (null != t && (i.width = t),
          null != e && (i.height = e),
          (t = _m(o, 0, i)),
          (e = _m(o, 1, i)),
          (n.style.display = ''),
          this._width !== t || e !== this._height)
        ) {
          for (var r in ((n.style.width = t + 'px'), (n.style.height = e + 'px'), this._layers))
            this._layers.hasOwnProperty(r) && this._layers[r].resize(t, e)
          this.refresh(!0)
        }
        ;(this._width = t), (this._height = e)
      } else {
        if (null == t || null == e) return
        ;(this._width = t), (this._height = e), this.getLayer(_x).resize(t, e)
      }
      return this
    }),
    (c.prototype.clearLayer = function(t) {
      t = this._layers[t]
      t && t.clear()
    }),
    (c.prototype.dispose = function() {
      ;(this.root.innerHTML = ''), (this.root = this.storage = this._domRoot = this._layers = null)
    }),
    (c.prototype.getRenderedCanvas = function(t) {
      if (this._singleCanvas && !this._compositeManually) return this._layers[_x].dom
      var e = new mx('image', this, (t = t || {}).pixelRatio || this.dpr),
        n = (e.initContext(), e.clear(!1, t.backgroundColor || this._backgroundColor), e.ctx)
      if (t.pixelRatio <= this.dpr) {
        this.refresh()
        var i = e.dom.width,
          o = e.dom.height
        this.eachLayer(function(t) {
          t.__builtin__ ? n.drawImage(t.dom, 0, 0, i, o) : t.renderToCanvas && (n.save(), t.renderToCanvas(n), n.restore())
        })
      } else
        for (
          var r = { inHover: !1, viewWidth: this._width, viewHeight: this._height },
            a = this.storage.getDisplayList(!0),
            s = 0,
            l = a.length;
          s < l;
          s++
        ) {
          var u = a[s]
          Fm(n, u, r, s === l - 1)
        }
      return e.dom
    }),
    (c.prototype.getWidth = function() {
      return this._width
    }),
    (c.prototype.getHeight = function() {
      return this._height
    })
  var xx = c
  function c(t, e, n, i) {
    ;(this.type = 'canvas'),
      (this._zlevelList = []),
      (this._prevDisplayList = []),
      (this._layers = {}),
      (this._layerConfig = {}),
      (this._needsManuallyCompositing = !1),
      (this.type = 'canvas')
    var o = !t.nodeName || 'CANVAS' === t.nodeName.toUpperCase()
    ;(this._opts = n = P({}, n || {})), (this.dpr = n.devicePixelRatio || co), (this._singleCanvas = o)
    ;(this.root = t).style && (Et(t), (t.innerHTML = '')), (this.storage = e)
    var r,
      a,
      e = this._zlevelList,
      s = ((this._prevDisplayList = []), this._layers)
    o
      ? ((r = (o = t).width),
        (a = o.height),
        null != n.width && (r = n.width),
        null != n.height && (a = n.height),
        (this.dpr = n.devicePixelRatio || 1),
        (o.width = r * this.dpr),
        (o.height = a * this.dpr),
        (this._width = r),
        (this._height = a),
        ((r = new mx(o, this, this.dpr)).__builtin__ = !0),
        r.initContext(),
        ((s[_x] = r).zlevel = _x),
        e.push(_x),
        (this._domRoot = t))
      : ((this._width = _m(t, 0, n)),
        (this._height = _m(t, 1, n)),
        (r = this._domRoot =
          ((a = this._width),
          (o = this._height),
          ((s = document.createElement('div')).style.cssText =
            ['position:relative', 'width:' + a + 'px', 'height:' + o + 'px', 'padding:0', 'margin:0', 'border-width:0'].join(';') + ';'),
          s)),
        t.appendChild(r))
  }
  u(Mx, (bx = g)),
    (Mx.prototype.init = function(t, e, n) {
      bx.prototype.init.call(this, t, e, n), (this._sourceManager = new Ig(this)), Ag(this)
    }),
    (Mx.prototype.mergeOption = function(t, e) {
      bx.prototype.mergeOption.call(this, t, e), Ag(this)
    }),
    (Mx.prototype.optionUpdated = function() {
      this._sourceManager.dirty()
    }),
    (Mx.prototype.getSourceManager = function() {
      return this._sourceManager
    }),
    (Mx.type = 'dataset'),
    (Mx.defaultOption = { seriesLayoutBy: ud })
  var bx,
    Sx = Mx
  function Mx() {
    var t = (null !== bx && bx.apply(this, arguments)) || this
    return (t.type = 'dataset'), t
  }
  u(Cx, (Tx = ry)), (Cx.type = 'dataset')
  var Tx,
    Ix = Cx
  function Cx() {
    var t = (null !== Tx && Tx.apply(this, arguments)) || this
    return (t.type = 'dataset'), t
  }
  function Ax(t) {
    t.registerComponentModel(Sx), t.registerComponentView(Ix)
  }
  i1([
    function(t) {
      t.registerPainter('canvas', xx)
    },
    Ax,
  ]),
    i1(fx)
  var Dx = {
      average: function(t) {
        for (var e = 0, n = 0, i = 0; i < t.length; i++) isNaN(t[i]) || ((e += t[i]), n++)
        return 0 === n ? NaN : e / n
      },
      sum: function(t) {
        for (var e = 0, n = 0; n < t.length; n++) e += t[n] || 0
        return e
      },
      max: function(t) {
        for (var e = -1 / 0, n = 0; n < t.length; n++) t[n] > e && (e = t[n])
        return isFinite(e) ? e : NaN
      },
      min: function(t) {
        for (var e = 1 / 0, n = 0; n < t.length; n++) t[n] < e && (e = t[n])
        return isFinite(e) ? e : NaN
      },
      nearest: function(t) {
        return t[0]
      },
    },
    kx = function(t) {
      return Math.round(t.length / 2)
    }
  function Lx(t) {
    return {
      seriesType: t,
      reset: function(t, e, n) {
        var i,
          o = t.getData(),
          r = t.get('sampling'),
          a = t.coordinateSystem,
          s = o.count()
        10 < s &&
          'cartesian2d' === a.type &&
          r &&
          ((i = a.getBaseAxis()),
          (a = a.getOtherAxis(i)),
          (i = i.getExtent()),
          (n = n.getDevicePixelRatio()),
          (i = Math.abs(i[1] - i[0]) * (n || 1)),
          (n = Math.round(s / i)),
          isFinite(n)) &&
          1 < n &&
          ('lttb' === r
            ? t.setData(o.lttbDownSample(o.mapDimension(a.dim), 1 / n))
            : 'minmax' === r && t.setData(o.minmaxDownSample(o.mapDimension(a.dim), 1 / n)),
          (s = void 0),
          F(r) ? (s = Dx[r]) : A(r) && (s = r),
          s) &&
          t.setData(o.downSample(o.mapDimension(a.dim), 1 / n, s, kx))
      },
    }
  }
  u(Ox, (Px = $g)),
    (Ox.prototype.getInitialData = function(t, e) {
      return Gv(null, this, { useEncodeDefaulter: !0 })
    }),
    (Ox.prototype.getMarkerPosition = function(t, p, e) {
      var d,
        f,
        n = this.coordinateSystem
      return n && n.clampData
        ? ((d = n.clampData(t)),
          (f = n.dataToPoint(d)),
          e
            ? E(n.getAxes(), function(t, e) {
                if ('category' === t.type && null != p) {
                  var n = t.getTicksCoords(),
                    i = t.getTickModel().get('alignWithLabel'),
                    o = d[e],
                    r = 'x1' === p[e] || 'y1' === p[e]
                  if ((r && !i && (o += 1), !(n.length < 2)))
                    if (2 === n.length) f[e] = t.toGlobalCoord(t.getExtent()[r ? 1 : 0])
                    else {
                      for (var a = void 0, s = void 0, l = 1, u = 0; u < n.length; u++) {
                        var h = n[u].coord,
                          c = u === n.length - 1 ? n[u - 1].tickValue + l : n[u].tickValue
                        if (c === o) {
                          s = h
                          break
                        }
                        if (c < o) a = h
                        else if (null != a && o < c) {
                          s = (h + a) / 2
                          break
                        }
                        1 === u && (l = c - n[0].tickValue)
                      }
                      null == s && (s = (a ? n[n.length - 1] : n[0]).coord), (f[e] = t.toGlobalCoord(s))
                    }
                }
              })
            : ((e = (t = this.getData()).getLayout('offset')),
              (t = t.getLayout('size')),
              (n = n.getBaseAxis().isHorizontal() ? 0 : 1),
              (f[n] += e + t / 2)),
          f)
        : [NaN, NaN]
    }),
    (Ox.type = 'series.__base_bar__'),
    (Ox.defaultOption = {
      z: 2,
      coordinateSystem: 'cartesian2d',
      legendHoverLink: !0,
      barMinHeight: 0,
      barMinAngle: 0,
      large: !1,
      largeThreshold: 400,
      progressive: 3e3,
      progressiveChunkMode: 'mod',
    })
  var Px,
    ic = Ox
  function Ox() {
    var t = (null !== Px && Px.apply(this, arguments)) || this
    return (t.type = Ox.type), t
  }
  $g.registerClass(ic)
  u(Ex, (Rx = ic)),
    (Ex.prototype.getInitialData = function() {
      return Gv(null, this, { useEncodeDefaulter: !0, createInvertedIndices: !!this.get('realtimeSort', !0) || null })
    }),
    (Ex.prototype.getProgressive = function() {
      return !!this.get('large') && this.get('progressive')
    }),
    (Ex.prototype.getProgressiveThreshold = function() {
      var t = this.get('progressiveThreshold'),
        e = this.get('largeThreshold')
      return (t = t < e ? e : t)
    }),
    (Ex.prototype.brushSelector = function(t, e, n) {
      return n.rect(e.getItemLayout(t))
    }),
    (Ex.type = 'series.bar'),
    (Ex.dependencies = ['grid', 'polar']),
    (Ex.defaultOption = qc(ic.defaultOption, {
      clip: !0,
      roundCap: !1,
      showBackground: !1,
      backgroundStyle: {
        color: 'rgba(180, 180, 180, 0.2)',
        borderColor: null,
        borderWidth: 0,
        borderType: 'solid',
        borderRadius: 0,
        shadowBlur: 0,
        shadowColor: null,
        shadowOffsetX: 0,
        shadowOffsetY: 0,
        opacity: 1,
      },
      select: { itemStyle: { borderColor: '#212121' } },
      realtimeSort: !1,
    }))
  var Rx,
    Nx = Ex
  function Ex() {
    var t = (null !== Rx && Rx.apply(this, arguments)) || this
    return (t.type = Ex.type), t
  }
  function zx(t, e, n, i, o) {
    var r = t.getArea(),
      a = r.x,
      s = r.y,
      l = r.width,
      r = r.height,
      u = n.get(['lineStyle', 'width']) || 0,
      h =
        ((a -= u / 2),
        (s -= u / 2),
        (l += u),
        (r += u),
        (l = Math.ceil(l)),
        a !== Math.floor(a) && ((a = Math.floor(a)), l++),
        new Es({ shape: { x: a, y: s, width: l, height: r } }))
    return (
      e &&
        ((e = (u = t.getBaseAxis()).isHorizontal()),
        (t = u.inverse),
        e ? (t && (h.shape.x += l), (h.shape.width = 0)) : (t || (h.shape.y += r), (h.shape.height = 0)),
        (u = A(o)
          ? function(t) {
              o(t, h)
            }
          : null),
        zh(h, { shape: { width: l, height: r, x: a, y: s } }, n, null, i, u)),
      h
    )
  }
  function Bx(t, e, n) {
    var i = t.getArea(),
      o = or(i.r0, 1),
      r = or(i.r, 1),
      a = new Vu({
        shape: { cx: or(t.cx, 1), cy: or(t.cy, 1), r0: o, r: r, startAngle: i.startAngle, endAngle: i.endAngle, clockwise: i.clockwise },
      })
    return (
      e &&
        ('angle' === t.getBaseAxis().dim ? (a.shape.endAngle = i.startAngle) : (a.shape.r = o),
        zh(a, { shape: { endAngle: i.endAngle, r: r } }, n)),
      a
    )
  }
  var Vx,
    Fx = function() {
      ;(this.cx = 0),
        (this.cy = 0),
        (this.r0 = 0),
        (this.r = 0),
        (this.startAngle = 0),
        (this.endAngle = 2 * Math.PI),
        (this.clockwise = !0)
    },
    Hx =
      (u(Gx, (Vx = j)),
      (Gx.prototype.getDefaultShape = function() {
        return new Fx()
      }),
      (Gx.prototype.buildPath = function(t, e) {
        var n = e.cx,
          i = e.cy,
          o = Math.max(e.r0 || 0, 0),
          r = Math.max(e.r, 0),
          a = 0.5 * (r - o),
          s = o + a,
          l = e.startAngle,
          u = e.endAngle,
          e = e.clockwise,
          h = 2 * Math.PI,
          c = e ? u - l < h : l - u < h,
          h = (c || (l = u - (e ? h : -h)), Math.cos(l)),
          p = Math.sin(l),
          d = Math.cos(u),
          f = Math.sin(u)
        c ? (t.moveTo(h * o + n, p * o + i), t.arc(h * s + n, p * s + i, a, -Math.PI + l, l, !e)) : t.moveTo(h * r + n, p * r + i),
          t.arc(n, i, r, l, u, !e),
          t.arc(d * s + n, f * s + i, a, u - 2 * Math.PI, u - Math.PI, !e),
          0 !== o && t.arc(n, i, o, u, l, e)
      }),
      Gx)
  function Gx(t) {
    t = Vx.call(this, t) || this
    return (t.type = 'sausage'), t
  }
  function Wx(t, e) {
    return t.type === e
  }
  function Ux(t, e) {
    var n,
      i = t.mapDimensionsAll('defaultedLabel'),
      o = i.length
    if (1 === o) return null != (n = Rf(t, e, i[0])) ? n + '' : null
    if (o) {
      for (var r = [], a = 0; a < i.length; a++) r.push(Rf(t, e, i[a]))
      return r.join(' ')
    }
  }
  function Yx(t, e) {
    var n = t.mapDimensionsAll('defaultedLabel')
    if (!V(e)) return e + ''
    for (var i = [], o = 0; o < n.length; o++) {
      var r = t.getDimensionIndex(n[o])
      0 <= r && i.push(e[r])
    }
    return i.join(' ')
  }
  function Xx(t, e, n) {
    return e * Math.sin(t) * (n ? -1 : 1)
  }
  function Zx(t, e, n) {
    return e * Math.cos(t) * (n ? 1 : -1)
  }
  function qx(t, e, n) {
    t = t.get('borderRadius')
    if (null == t) return n ? { cornerRadius: 0 } : null
    V(t) || (t = [t, t, t, t])
    var i = Math.abs(e.r || 0 - e.r0 || 0)
    return {
      cornerRadius: B(t, function(t) {
        return Lo(t, i)
      }),
    }
  }
  var jx = Math.max,
    Kx = Math.min
  u(Jx, ($x = hy)),
    (Jx.prototype.render = function(t, e, n, i) {
      ;(this._model = t), this._removeOnRenderedListener(n), this._updateDrawMode(t)
      var o = t.get('coordinateSystem')
      ;('cartesian2d' !== o && 'polar' !== o) ||
        ((this._progressiveEls = null), this._isLargeDraw ? this._renderLarge(t, e, n) : this._renderNormal(t, e, n, i))
    }),
    (Jx.prototype.incrementalPrepareRender = function(t) {
      this._clear(), this._updateDrawMode(t), this._updateLargeClip(t)
    }),
    (Jx.prototype.incrementalRender = function(t, e) {
      ;(this._progressiveEls = []), this._incrementalRenderLarge(t, e)
    }),
    (Jx.prototype.eachRendered = function(t) {
      gc(this._progressiveEls || this.group, t)
    }),
    (Jx.prototype._updateDrawMode = function(t) {
      t = t.pipelineContext.large
      ;(null != this._isLargeDraw && t === this._isLargeDraw) || ((this._isLargeDraw = t), this._clear())
    }),
    (Jx.prototype._renderNormal = function(a, t, e, n) {
      var s,
        i,
        o,
        l = this.group,
        u = a.getData(),
        h = this._data,
        c = a.coordinateSystem,
        p = c.getBaseAxis(),
        d =
          ('cartesian2d' === c.type ? (s = p.isHorizontal()) : 'polar' === c.type && (s = 'angle' === p.dim),
          a.isAnimationEnabled() ? a : null),
        f = (function(t, e) {
          var t = t.get('realtimeSort', !0),
            n = e.getBaseAxis()
          if (t && 'category' === n.type && 'cartesian2d' === e.type) return { baseAxis: n, otherAxis: e.getOtherAxis(n) }
        })(a, c),
        g = (f && this._enableRealtimeSort(f, u, e), a.get('clip', !0) || f),
        y =
          ((e = u),
          (o = (i = c).getArea && i.getArea()),
          !Wx(i, 'cartesian2d') ||
            ('category' === (i = i.getBaseAxis()).type && i.onBand) ||
            ((e = e.getLayout('bandWidth')), i.isHorizontal() ? ((o.x -= e), (o.width += 2 * e)) : ((o.y -= e), (o.height += 2 * e))),
          o),
        m = (l.removeClipPath(), a.get('roundCap', !0)),
        v = a.get('showBackground', !0),
        _ = a.getModel('backgroundStyle'),
        x = _.get('borderRadius') || 0,
        w = [],
        b = this._backgroundEls,
        S = n && n.isInitSort,
        M = n && 'changeAxisOrder' === n.type
      function T(t) {
        var e = sw[c.type](u, t),
          n = ((n = s), new ('polar' === c.type ? Vu : Es)({ shape: yw(n, e, c), silent: !0, z2: 0 }))
        return n.useStyle(_.getItemStyle()), 'cartesian2d' === c.type ? n.setShape('r', x) : n.setShape('cornerRadius', x), (w[t] = n)
      }
      u.diff(h)
        .add(function(t) {
          var e,
            n,
            i = u.getItemModel(t),
            o = sw[c.type](u, t, i)
          v && T(t),
            u.hasValue(t) &&
              aw[c.type](o) &&
              ((e = !1),
              g && (e = tw[c.type](y, o)),
              (n = ew[c.type](a, u, t, o, s, d, p.model, !1, m)),
              f && (n.forceLabelAnimation = !0),
              uw(n, u, t, i, o, a, s, 'polar' === c.type),
              S ? n.attr({ shape: o }) : f ? nw(f, d, n, o, t, s, !1, !1) : zh(n, { shape: o }, a, t),
              u.setItemGraphicEl(t, n),
              l.add(n),
              (n.ignore = e))
        })
        .update(function(t, e) {
          var n,
            i = u.getItemModel(t),
            o = sw[c.type](u, t, i),
            r =
              (v &&
                ((r = void 0),
                0 === b.length
                  ? (r = T(e))
                  : ((r = b[e]).useStyle(_.getItemStyle()),
                    'cartesian2d' === c.type ? r.setShape('r', x) : r.setShape('cornerRadius', x),
                    (w[t] = r)),
                (n = sw[c.type](u, t)),
                Eh(r, { shape: yw(s, n, c) }, d, t)),
              h.getItemGraphicEl(e))
          u.hasValue(t) && aw[c.type](o)
            ? ((n = !1),
              g && (n = tw[c.type](y, o)) && l.remove(r),
              r ? Gh(r) : (r = ew[c.type](a, u, t, o, s, d, p.model, !!r, m)),
              f && (r.forceLabelAnimation = !0),
              M
                ? (e = r.getTextContent()) && null != (e = Ac(e)).prevValue && (e.prevValue = e.value)
                : uw(r, u, t, i, o, a, s, 'polar' === c.type),
              S ? r.attr({ shape: o }) : f ? nw(f, d, r, o, t, s, !0, M) : Eh(r, { shape: o }, a, t, null),
              u.setItemGraphicEl(t, r),
              (r.ignore = n),
              l.add(r))
            : l.remove(r)
        })
        .remove(function(t) {
          var e = h.getItemGraphicEl(t)
          e && Hh(e, a, t)
        })
        .execute()
      var r = this._backgroundGroup || (this._backgroundGroup = new Yo())
      r.removeAll()
      for (var I = 0; I < w.length; ++I) r.add(w[I])
      l.add(r), (this._backgroundEls = w), (this._data = u)
    }),
    (Jx.prototype._renderLarge = function(t, e, n) {
      this._clear(), fw(t, this.group), this._updateLargeClip(t)
    }),
    (Jx.prototype._incrementalRenderLarge = function(t, e) {
      this._removeBackground(), fw(e, this.group, this._progressiveEls, !0)
    }),
    (Jx.prototype._updateLargeClip = function(t) {
      var e,
        n,
        i =
          t.get('clip', !0) &&
          ((i = t.coordinateSystem),
          (o = !1),
          (t = t),
          i ? ('polar' === i.type ? Bx(i, o, t) : 'cartesian2d' === i.type ? zx(i, o, t, e, n) : null) : null),
        o = this.group
      i ? o.setClipPath(i) : o.removeClipPath()
    }),
    (Jx.prototype._enableRealtimeSort = function(t, e, n) {
      var i,
        o,
        r = this
      e.count() &&
        ((i = t.baseAxis),
        this._isFirstFrame
          ? (this._dispatchInitSort(e, t, n), (this._isFirstFrame = !1))
          : ((o = function(t) {
              ;(t = e.getItemGraphicEl(t)), (t = t && t.shape)
              return (t && Math.abs(i.isHorizontal() ? t.height : t.width)) || 0
            }),
            (this._onRendered = function() {
              r._updateSortWithinSameData(e, o, i, n)
            }),
            n.getZr().on('rendered', this._onRendered)))
    }),
    (Jx.prototype._dataSort = function(t, e, i) {
      var o = []
      return (
        t.each(t.mapDimension(e.dim), function(t, e) {
          var n = i(e)
          o.push({ dataIndex: e, mappedValue: null == n ? NaN : n, ordinalNumber: t })
        }),
        o.sort(function(t, e) {
          return e.mappedValue - t.mappedValue
        }),
        {
          ordinalNumbers: B(o, function(t) {
            return t.ordinalNumber
          }),
        }
      )
    }),
    (Jx.prototype._isOrderChangedWithinSameData = function(t, e, n) {
      for (var i = n.scale, o = t.mapDimension(n.dim), r = Number.MAX_VALUE, a = 0, s = i.getOrdinalMeta().categories.length; a < s; ++a) {
        var l = t.rawIndexOf(o, i.getRawOrdinalNumber(a)),
          l = l < 0 ? Number.MIN_VALUE : e(t.indexOfRawIndex(l))
        if (r < l) return !0
        r = l
      }
      return !1
    }),
    (Jx.prototype._isOrderDifferentInView = function(t, e) {
      for (
        var n = e.scale, e = n.getExtent(), i = Math.max(0, e[0]), o = Math.min(e[1], n.getOrdinalMeta().categories.length - 1);
        i <= o;
        ++i
      )
        if (t.ordinalNumbers[i] !== n.getRawOrdinalNumber(i)) return !0
    }),
    (Jx.prototype._updateSortWithinSameData = function(t, e, n, i) {
      this._isOrderChangedWithinSameData(t, e, n) &&
        ((t = this._dataSort(t, n, e)), this._isOrderDifferentInView(t, n)) &&
        (this._removeOnRenderedListener(i),
        i.dispatchAction({ type: 'changeAxisOrder', componentType: n.dim + 'Axis', axisId: n.index, sortInfo: t }))
    }),
    (Jx.prototype._dispatchInitSort = function(e, n, t) {
      var i = n.baseAxis,
        o = this._dataSort(e, i, function(t) {
          return e.get(e.mapDimension(n.otherAxis.dim), t)
        })
      t.dispatchAction({ type: 'changeAxisOrder', componentType: i.dim + 'Axis', isInitSort: !0, axisId: i.index, sortInfo: o })
    }),
    (Jx.prototype.remove = function(t, e) {
      this._clear(this._model), this._removeOnRenderedListener(e)
    }),
    (Jx.prototype.dispose = function(t, e) {
      this._removeOnRenderedListener(e)
    }),
    (Jx.prototype._removeOnRenderedListener = function(t) {
      this._onRendered && (t.getZr().off('rendered', this._onRendered), (this._onRendered = null))
    }),
    (Jx.prototype._clear = function(e) {
      var t = this.group,
        n = this._data
      e && e.isAnimationEnabled() && n && !this._isLargeDraw
        ? (this._removeBackground(),
          (this._backgroundEls = []),
          n.eachItemGraphicEl(function(t) {
            Hh(t, e, D(t).dataIndex)
          }))
        : t.removeAll(),
        (this._data = null),
        (this._isFirstFrame = !0)
    }),
    (Jx.prototype._removeBackground = function() {
      this.group.remove(this._backgroundGroup), (this._backgroundGroup = null)
    }),
    (Jx.type = 'bar')
  var $x,
    Qx = Jx
  function Jx() {
    var t = $x.call(this) || this
    return (t.type = Jx.type), (t._isFirstFrame = !0), t
  }
  var tw = {
      cartesian2d: function(t, e) {
        var n = e.width < 0 ? -1 : 1,
          i = e.height < 0 ? -1 : 1,
          o = (n < 0 && ((e.x += e.width), (e.width = -e.width)), i < 0 && ((e.y += e.height), (e.height = -e.height)), t.x + t.width),
          r = t.y + t.height,
          a = jx(e.x, t.x),
          s = Kx(e.x + e.width, o),
          t = jx(e.y, t.y),
          l = Kx(e.y + e.height, r),
          u = s < a,
          h = l < t
        return (
          (e.x = u && o < a ? s : a),
          (e.y = h && r < t ? l : t),
          (e.width = u ? 0 : s - a),
          (e.height = h ? 0 : l - t),
          n < 0 && ((e.x += e.width), (e.width = -e.width)),
          i < 0 && ((e.y += e.height), (e.height = -e.height)),
          u || h
        )
      },
      polar: function(t, e) {
        var n,
          i = e.r0 <= e.r ? 1 : -1,
          o = (i < 0 && ((n = e.r), (e.r = e.r0), (e.r0 = n)), Kx(e.r, t.r)),
          t = jx(e.r0, t.r0),
          o = (e.r = o) - (e.r0 = t) < 0
        return i < 0 && ((n = e.r), (e.r = e.r0), (e.r0 = n)), o
      },
    },
    ew = {
      cartesian2d: function(t, e, n, i, o, r, a, s, l) {
        i = new Es({ shape: P({}, i), z2: 1 })
        return (i.__dataIndex = n), (i.name = 'item'), r && (i.shape[o ? 'height' : 'width'] = 0), i
      },
      polar: function(t, e, n, i, o, r, a, s, l) {
        var w,
          b,
          l = !o && l ? Hx : Vu,
          u = new l({ shape: i, z2: 1 }),
          h = ((u.name = 'item'), lw(o))
        return (
          (u.calculateTextPosition =
            ((w = h),
            (b = ({ isRoundCap: l === Hx } || {}).isRoundCap),
            function(t, e, n) {
              var i = e.position
              if (!i || i instanceof Array) return Po(t, e, n)
              var i = w(i),
                o = null != e.distance ? e.distance : 5,
                r = this.shape,
                a = r.cx,
                s = r.cy,
                l = r.r,
                u = r.r0,
                h = (l + u) / 2,
                c = r.startAngle,
                p = r.endAngle,
                d = (c + p) / 2,
                f = b ? Math.abs(l - u) / 2 : 0,
                g = Math.cos,
                y = Math.sin,
                m = a + l * g(c),
                v = s + l * y(c),
                _ = 'left',
                x = 'top'
              switch (i) {
                case 'startArc':
                  ;(m = a + (u - o) * g(d)), (v = s + (u - o) * y(d)), (_ = 'center'), (x = 'top')
                  break
                case 'insideStartArc':
                  ;(m = a + (u + o) * g(d)), (v = s + (u + o) * y(d)), (_ = 'center'), (x = 'bottom')
                  break
                case 'startAngle':
                  ;(m = a + h * g(c) + Xx(c, o + f, !1)), (v = s + h * y(c) + Zx(c, o + f, !1)), (_ = 'right'), (x = 'middle')
                  break
                case 'insideStartAngle':
                  ;(m = a + h * g(c) + Xx(c, f - o, !1)), (v = s + h * y(c) + Zx(c, f - o, !1)), (_ = 'left'), (x = 'middle')
                  break
                case 'middle':
                  ;(m = a + h * g(d)), (v = s + h * y(d)), (_ = 'center'), (x = 'middle')
                  break
                case 'endArc':
                  ;(m = a + (l + o) * g(d)), (v = s + (l + o) * y(d)), (_ = 'center'), (x = 'bottom')
                  break
                case 'insideEndArc':
                  ;(m = a + (l - o) * g(d)), (v = s + (l - o) * y(d)), (_ = 'center'), (x = 'top')
                  break
                case 'endAngle':
                  ;(m = a + h * g(p) + Xx(p, o + f, !0)), (v = s + h * y(p) + Zx(p, o + f, !0)), (_ = 'left'), (x = 'middle')
                  break
                case 'insideEndAngle':
                  ;(m = a + h * g(p) + Xx(p, f - o, !0)), (v = s + h * y(p) + Zx(p, f - o, !0)), (_ = 'right'), (x = 'middle')
                  break
                default:
                  return Po(t, e, n)
              }
              return ((t = t || {}).x = m), (t.y = v), (t.align = _), (t.verticalAlign = x), t
            })),
          r &&
            ((h = {}), (u.shape[(l = o ? 'r' : 'endAngle')] = o ? i.r0 : i.startAngle), (h[l] = i[l]), (s ? Eh : zh)(u, { shape: h }, r)),
          u
        )
      },
    }
  function nw(t, e, n, i, o, r, a, s) {
    var l,
      r = r
        ? ((l = { x: i.x, width: i.width }), { y: i.y, height: i.height })
        : ((l = { y: i.y, height: i.height }), { x: i.x, width: i.width })
    s || (a ? Eh : zh)(n, { shape: r }, e, o, null), (a ? Eh : zh)(n, { shape: l }, e ? t.baseAxis.model : null, o)
  }
  function iw(t, e) {
    for (var n = 0; n < e.length; n++) if (!isFinite(t[e[n]])) return 1
  }
  var ow = ['x', 'y', 'width', 'height'],
    rw = ['cx', 'cy', 'r', 'startAngle', 'endAngle'],
    aw = {
      cartesian2d: function(t) {
        return !iw(t, ow)
      },
      polar: function(t) {
        return !iw(t, rw)
      },
    },
    sw = {
      cartesian2d: function(t, e, n) {
        var t = t.getItemLayout(e),
          i =
            n && ((e = t), (i = (n = n).get(['itemStyle', 'borderColor']))) && 'none' !== i
              ? ((i = n.get(['itemStyle', 'borderWidth']) || 0),
                (n = isNaN(e.width) ? Number.MAX_VALUE : Math.abs(e.width)),
                (e = isNaN(e.height) ? Number.MAX_VALUE : Math.abs(e.height)),
                Math.min(i, n, e))
              : 0,
          n = 0 < t.width ? 1 : -1,
          e = 0 < t.height ? 1 : -1
        return { x: t.x + (n * i) / 2, y: t.y + (e * i) / 2, width: t.width - n * i, height: t.height - e * i }
      },
      polar: function(t, e, n) {
        t = t.getItemLayout(e)
        return { cx: t.cx, cy: t.cy, r0: t.r0, r: t.r, startAngle: t.startAngle, endAngle: t.endAngle, clockwise: t.clockwise }
      },
    }
  function lw(t) {
    return (
      (e = t ? 'Arc' : 'Angle'),
      function(t) {
        switch (t) {
          case 'start':
          case 'insideStart':
          case 'end':
          case 'insideEnd':
            return t + e
          default:
            return t
        }
      }
    )
    var e
  }
  function uw(t, e, n, i, o, r, a, s) {
    var l = e.getItemVisual(n, 'style'),
      u =
        (s
          ? r.get('roundCap') || (P((u = t.shape), qx(i.getModel('itemStyle'), u, !0)), t.setShape(u))
          : ((u = i.get(['itemStyle', 'borderRadius']) || 0), t.setShape('r', u)),
        t.useStyle(l),
        i.getShallow('cursor')),
      u =
        (u && t.attr('cursor', u),
        s
          ? a
            ? o.r >= o.r0
              ? 'endArc'
              : 'startArc'
            : o.endAngle >= o.startAngle
            ? 'endAngle'
            : 'startAngle'
          : a
          ? 0 <= o.height
            ? 'bottom'
            : 'top'
          : 0 <= o.width
          ? 'right'
          : 'left'),
      h = wc(i),
      l =
        (xc(t, h, {
          labelFetcher: r,
          labelDataIndex: n,
          defaultText: Ux(r.getData(), n),
          inheritColor: l.fill,
          defaultOpacity: l.opacity,
          defaultOutsidePosition: u,
        }),
        t.getTextContent()),
      u =
        (s &&
          l &&
          ((s = i.get(['label', 'position'])),
          (t.textConfig.inside = 'middle' === s || null),
          (function(t, e, n, i) {
            if (H(i)) t.setTextConfig({ rotation: i })
            else if (V(e)) t.setTextConfig({ rotation: 0 })
            else {
              var o,
                i = t.shape,
                r = i.clockwise ? i.startAngle : i.endAngle,
                a = i.clockwise ? i.endAngle : i.startAngle,
                s = (r + a) / 2,
                i = n(e)
              switch (i) {
                case 'startArc':
                case 'insideStartArc':
                case 'middle':
                case 'insideEndArc':
                case 'endArc':
                  o = s
                  break
                case 'startAngle':
                case 'insideStartAngle':
                  o = r
                  break
                case 'endAngle':
                case 'insideEndAngle':
                  o = a
                  break
                default:
                  return t.setTextConfig({ rotation: 0 })
              }
              n = 1.5 * Math.PI - o
              'middle' === i && n > Math.PI / 2 && n < 1.5 * Math.PI && (n -= Math.PI), t.setTextConfig({ rotation: n })
            }
          })(t, 'outside' === s ? u : s, lw(a), i.get(['label', 'rotate']))),
        Dc(l, h, r.getRawValue(n), function(t) {
          return Yx(e, t)
        }),
        i.getModel(['emphasis']))
    Wl(t, u.get('focus'), u.get('blurScope'), u.get('disabled')),
      Xl(t, i),
      null != (s = o).startAngle &&
        null != s.endAngle &&
        s.startAngle === s.endAngle &&
        ((t.style.fill = 'none'),
        (t.style.stroke = 'none'),
        E(t.states, function(t) {
          t.style && (t.style.fill = t.style.stroke = 'none')
        }))
  }
  var hw,
    cw = function() {},
    pw =
      (u(dw, (hw = j)),
      (dw.prototype.getDefaultShape = function() {
        return new cw()
      }),
      (dw.prototype.buildPath = function(t, e) {
        for (var n = e.points, i = this.baseDimIdx, o = 1 - this.baseDimIdx, r = [], a = [], s = this.barWidth, l = 0; l < n.length; l += 3)
          (a[i] = s), (a[o] = n[l + 2]), (r[i] = n[l + i]), (r[o] = n[l + o]), t.rect(r[0], r[1], a[0], a[1])
      }),
      dw)
  function dw(t) {
    t = hw.call(this, t) || this
    return (t.type = 'largeBar'), t
  }
  function fw(t, e, n, i) {
    var o = t.getData(),
      r = o.getLayout('valueAxisHorizontal') ? 1 : 0,
      a = o.getLayout('largeDataIndices'),
      s = o.getLayout('size'),
      l = t.getModel('backgroundStyle'),
      u = o.getLayout('largeBackgroundPoints'),
      l =
        (u &&
          (((u = new pw({ shape: { points: u }, incremental: !!i, silent: !0, z2: 0 })).baseDimIdx = r),
          (u.largeDataIndices = a),
          (u.barWidth = s),
          u.useStyle(l.getItemStyle()),
          e.add(u),
          n) &&
          n.push(u),
        new pw({ shape: { points: o.getLayout('largePoints') }, incremental: !!i, ignoreCoarsePointer: !0, z2: 1 }))
    ;(l.baseDimIdx = r),
      (l.largeDataIndices = a),
      (l.barWidth = s),
      e.add(l),
      l.useStyle(o.getVisual('style')),
      (l.style.stroke = null),
      (D(l).seriesIndex = t.seriesIndex),
      t.get('silent') || (l.on('mousedown', gw), l.on('mousemove', gw)),
      n && n.push(l)
  }
  var gw = xy(
    function(t) {
      t = (function(t, e, n) {
        for (
          var i = t.baseDimIdx,
            o = 1 - i,
            r = t.shape.points,
            a = t.largeDataIndices,
            s = [],
            l = [],
            u = t.barWidth,
            h = 0,
            c = r.length / 3;
          h < c;
          h++
        ) {
          var p = 3 * h
          if (
            ((l[i] = u),
            (l[o] = r[2 + p]),
            (s[i] = r[p + i]),
            (s[o] = r[p + o]),
            l[o] < 0 && ((s[o] += l[o]), (l[o] = -l[o])),
            s[0] <= e && e <= s[0] + l[0] && s[1] <= n && n <= s[1] + l[1])
          )
            return a[h]
        }
        return -1
      })(this, t.offsetX, t.offsetY)
      D(this).dataIndex = 0 <= t ? t : null
    },
    30,
    !1
  )
  function yw(t, e, n) {
    var i, o
    return Wx(n, 'cartesian2d')
      ? ((i = e), (o = n.getArea()), { x: (t ? i : o).x, y: (t ? o : i).y, width: (t ? i : o).width, height: (t ? o : i).height })
      : {
          cx: (o = n.getArea()).cx,
          cy: o.cy,
          r0: (t ? o : e).r0,
          r: (t ? o : e).r,
          startAngle: t ? e.startAngle : 0,
          endAngle: t ? e.endAngle : 2 * Math.PI,
        }
  }
  i1(function(t) {
    t.registerChartView(Qx),
      t.registerSeriesModel(Nx),
      t.registerLayout(t.PRIORITY.VISUAL.LAYOUT, M(v_, 'bar')),
      t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT, __('bar')),
      t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC, Lx('bar')),
      t.registerAction({ type: 'changeAxisOrder', event: 'changeAxisOrder', update: 'update' }, function(e, t) {
        var n = e.componentType || 'series'
        t.eachComponent({ mainType: n, query: e }, function(t) {
          e.sortInfo && t.axis.setCategorySortInfo(e.sortInfo)
        })
      })
  })
  u(_w, (mw = $g)),
    (_w.prototype.getInitialData = function(t) {
      return Gv(null, this, { useEncodeDefaulter: !0 })
    }),
    (_w.prototype.getLegendIcon = function(t) {
      var e = new Yo(),
        n = dm('line', 0, t.itemHeight / 2, t.itemWidth, 0, t.lineStyle.stroke, !1),
        n = (e.add(n), n.setStyle(t.lineStyle), this.getData().getVisual('symbol')),
        i = this.getData().getVisual('symbolRotate'),
        n = 'none' === n ? 'circle' : n,
        o = 0.8 * t.itemHeight,
        o = dm(n, (t.itemWidth - o) / 2, (t.itemHeight - o) / 2, o, o, t.itemStyle.fill),
        i = (e.add(o), o.setStyle(t.itemStyle), 'inherit' === t.iconRotate ? i : t.iconRotate || 0)
      return (
        (o.rotation = (i * Math.PI) / 180),
        o.setOrigin([t.itemWidth / 2, t.itemHeight / 2]),
        -1 < n.indexOf('empty') && ((o.style.stroke = o.style.fill), (o.style.fill = '#fff'), (o.style.lineWidth = 2)),
        e
      )
    }),
    (_w.type = 'series.line'),
    (_w.dependencies = ['grid', 'polar']),
    (_w.defaultOption = {
      z: 3,
      coordinateSystem: 'cartesian2d',
      legendHoverLink: !0,
      clip: !0,
      label: { position: 'top' },
      endLabel: { show: !1, valueAnimation: !0, distance: 8 },
      lineStyle: { width: 2, type: 'solid' },
      emphasis: { scale: !0 },
      step: !1,
      smooth: !1,
      smoothMonotone: null,
      symbol: 'emptyCircle',
      symbolSize: 4,
      symbolRotate: null,
      showSymbol: !0,
      showAllSymbol: 'auto',
      connectNulls: !1,
      sampling: 'none',
      animationEasing: 'linear',
      progressive: 0,
      hoverLayerThreshold: 1 / 0,
      universalTransition: { divideShape: 'clone' },
      triggerLineEvent: !1,
    })
  var mw,
    vw = _w
  function _w() {
    var t = (null !== mw && mw.apply(this, arguments)) || this
    return (t.type = _w.type), (t.hasSymbolVisual = !0), t
  }
  u(bw, (xw = Yo)),
    (bw.prototype._createSymbol = function(t, e, n, i, o) {
      this.removeAll()
      o = dm(t, -1, -1, 2, 2, null, o)
      o.attr({ z2: 100, culling: !0, scaleX: i[0] / 2, scaleY: i[1] / 2 }), (o.drift = Sw), (this._symbolType = t), this.add(o)
    }),
    (bw.prototype.stopSymbolAnimation = function(t) {
      this.childAt(0).stopAnimation(null, t)
    }),
    (bw.prototype.getSymbolType = function() {
      return this._symbolType
    }),
    (bw.prototype.getSymbolPath = function() {
      return this.childAt(0)
    }),
    (bw.prototype.highlight = function() {
      kl(this.childAt(0))
    }),
    (bw.prototype.downplay = function() {
      Ll(this.childAt(0))
    }),
    (bw.prototype.setZ = function(t, e) {
      var n = this.childAt(0)
      ;(n.zlevel = t), (n.z = e)
    }),
    (bw.prototype.setDraggable = function(t, e) {
      var n = this.childAt(0)
      ;(n.draggable = t), (n.cursor = !e && t ? 'move' : n.cursor)
    }),
    (bw.prototype.updateData = function(t, e, n, i) {
      this.silent = !1
      var o,
        r,
        a,
        s = t.getItemVisual(e, 'symbol') || 'circle',
        l = t.hostModel,
        u = bw.getSymbolSize(t, e),
        h = s !== this._symbolType,
        c = i && i.disableAnimation
      h
        ? ((o = t.getItemVisual(e, 'symbolKeepAspect')), this._createSymbol(s, t, e, u, o))
        : (((r = this.childAt(0)).silent = !1), (a = { scaleX: u[0] / 2, scaleY: u[1] / 2 }), c ? r.attr(a) : Eh(r, a, l, e), Gh(r)),
        this._updateCommon(t, e, u, n, i),
        h &&
          ((r = this.childAt(0)),
          c ||
            ((a = { scaleX: this._sizeX, scaleY: this._sizeY, style: { opacity: r.style.opacity } }),
            (r.scaleX = r.scaleY = 0),
            (r.style.opacity = 0),
            zh(r, a, l, e))),
        c && this.childAt(0).stopAnimation('leave')
    }),
    (bw.prototype._updateCommon = function(e, t, n, i, o) {
      var r,
        a,
        s,
        l,
        u,
        h,
        c,
        p,
        d = this.childAt(0),
        f = e.hostModel,
        g =
          (i &&
            ((r = i.emphasisItemStyle),
            (s = i.blurItemStyle),
            (a = i.selectItemStyle),
            (l = i.focus),
            (u = i.blurScope),
            (c = i.labelStatesModels),
            (p = i.hoverScale),
            (y = i.cursorStyle),
            (h = i.emphasisDisabled)),
          (i && !e.hasItemOption) ||
            ((r = (g = (i = i && i.itemModel ? i.itemModel : e.getItemModel(t)).getModel('emphasis')).getModel('itemStyle').getItemStyle()),
            (a = i.getModel(['select', 'itemStyle']).getItemStyle()),
            (s = i.getModel(['blur', 'itemStyle']).getItemStyle()),
            (l = g.get('focus')),
            (u = g.get('blurScope')),
            (h = g.get('disabled')),
            (c = wc(i)),
            (p = g.getShallow('scale')),
            (y = i.getShallow('cursor'))),
          e.getItemVisual(t, 'symbolRotate')),
        i = (d.attr('rotation', ((g || 0) * Math.PI) / 180 || 0), gm(e.getItemVisual(t, 'symbolOffset'), n)),
        g = (i && ((d.x = i[0]), (d.y = i[1])), y && d.attr('cursor', y), e.getItemVisual(t, 'style')),
        i = g.fill,
        y =
          (d instanceof Cs
            ? ((y = d.style), d.useStyle(P({ image: y.image, x: y.x, y: y.y, width: y.width, height: y.height }, g)))
            : (d.__isEmptyBrush ? d.useStyle(P({}, g)) : d.useStyle(g),
              (d.style.decal = null),
              d.setColor(i, o && o.symbolInnerColor),
              (d.style.strokeNoScale = !0)),
          e.getItemVisual(t, 'liftZ')),
        m = this._z2,
        v = (null != y ? null == m && ((this._z2 = d.z2), (d.z2 += y)) : null != m && ((d.z2 = m), (this._z2 = null)), o && o.useNameLabel)
      xc(d, c, {
        labelFetcher: f,
        labelDataIndex: t,
        defaultText: function(t) {
          return v ? e.getName(t) : Ux(e, t)
        },
        inheritColor: i,
        defaultOpacity: g.opacity,
      }),
        (this._sizeX = n[0] / 2),
        (this._sizeY = n[1] / 2)
      ;(y = d.ensureState('emphasis')),
        (y.style = r),
        (d.ensureState('select').style = a),
        (d.ensureState('blur').style = s),
        (m = null == p || !0 === p ? Math.max(1.1, 3 / this._sizeY) : isFinite(p) && 0 < p ? +p : 1)
      ;(y.scaleX = this._sizeX * m), (y.scaleY = this._sizeY * m), this.setSymbolScale(1), Wl(this, l, u, h)
    }),
    (bw.prototype.setSymbolScale = function(t) {
      this.scaleX = this.scaleY = t
    }),
    (bw.prototype.fadeOut = function(t, e, n) {
      var i = this.childAt(0),
        o = D(this).dataIndex,
        r = n && n.animation
      ;(this.silent = i.silent = !0),
        n && n.fadeLabel
          ? (n = i.getTextContent()) &&
            Vh(n, { style: { opacity: 0 } }, e, {
              dataIndex: o,
              removeOpt: r,
              cb: function() {
                i.removeTextContent()
              },
            })
          : i.removeTextContent(),
        Vh(i, { style: { opacity: 0 }, scaleX: 0, scaleY: 0 }, e, { dataIndex: o, cb: t, removeOpt: r })
    }),
    (bw.getSymbolSize = function(t, e) {
      return fm(t.getItemVisual(e, 'symbolSize'))
    })
  var xw,
    ww = bw
  function bw(t, e, n, i) {
    var o = xw.call(this) || this
    return o.updateData(t, e, n, i), o
  }
  function Sw(t, e) {
    this.parent.drift(t, e)
  }
  function Mw(t, e, n, i) {
    return (
      e &&
      !isNaN(e[0]) &&
      !isNaN(e[1]) &&
      (!i.isIgnore || !i.isIgnore(n)) &&
      (!i.clipShape || i.clipShape.contain(e[0], e[1])) &&
      'none' !== t.getItemVisual(n, 'symbol')
    )
  }
  function Tw(t) {
    return (t = null == t || O(t) ? t : { isIgnore: t }) || {}
  }
  function Iw(t) {
    var t = t.hostModel,
      e = t.getModel('emphasis')
    return {
      emphasisItemStyle: e.getModel('itemStyle').getItemStyle(),
      blurItemStyle: t.getModel(['blur', 'itemStyle']).getItemStyle(),
      selectItemStyle: t.getModel(['select', 'itemStyle']).getItemStyle(),
      focus: e.get('focus'),
      blurScope: e.get('blurScope'),
      emphasisDisabled: e.get('disabled'),
      hoverScale: e.get('scale'),
      labelStatesModels: wc(t),
      cursorStyle: t.get('cursor'),
    }
  }
  ;(Aw.prototype.updateData = function(r, a) {
    ;(this._progressiveEls = null), (a = Tw(a))
    var s = this.group,
      l = r.hostModel,
      u = this._data,
      h = this._SymbolCtor,
      c = a.disableAnimation,
      p = Iw(r),
      d = { disableAnimation: c },
      f =
        a.getSymbolPoint ||
        function(t) {
          return r.getItemLayout(t)
        }
    u || s.removeAll(),
      r
        .diff(u)
        .add(function(t) {
          var e,
            n = f(t)
          Mw(r, n, t, a) && ((e = new h(r, t, p, d)).setPosition(n), r.setItemGraphicEl(t, e), s.add(e))
        })
        .update(function(t, e) {
          var n,
            i,
            e = u.getItemGraphicEl(e),
            o = f(t)
          Mw(r, o, t, a)
            ? ((n = r.getItemVisual(t, 'symbol') || 'circle'),
              (i = e && e.getSymbolType && e.getSymbolType()),
              !e || (i && i !== n)
                ? (s.remove(e), (e = new h(r, t, p, d)).setPosition(o))
                : (e.updateData(r, t, p, d), (i = { x: o[0], y: o[1] }), c ? e.attr(i) : Eh(e, i, l)),
              s.add(e),
              r.setItemGraphicEl(t, e))
            : s.remove(e)
        })
        .remove(function(t) {
          var e = u.getItemGraphicEl(t)
          e &&
            e.fadeOut(function() {
              s.remove(e)
            }, l)
        })
        .execute(),
      (this._getSymbolPoint = f),
      (this._data = r)
  }),
    (Aw.prototype.updateLayout = function() {
      var n = this,
        t = this._data
      t &&
        t.eachItemGraphicEl(function(t, e) {
          e = n._getSymbolPoint(e)
          t.setPosition(e), t.markRedraw()
        })
    }),
    (Aw.prototype.incrementalPrepareUpdate = function(t) {
      ;(this._seriesScope = Iw(t)), (this._data = null), this.group.removeAll()
    }),
    (Aw.prototype.incrementalUpdate = function(t, e, n) {
      function i(t) {
        t.isGroup || ((t.incremental = !0), (t.ensureState('emphasis').hoverLayer = !0))
      }
      ;(this._progressiveEls = []), (n = Tw(n))
      for (var o = t.start; o < t.end; o++) {
        var r,
          a = e.getItemLayout(o)
        Mw(e, a, o, n) &&
          ((r = new this._SymbolCtor(e, o, this._seriesScope)).traverse(i),
          r.setPosition(a),
          this.group.add(r),
          e.setItemGraphicEl(o, r),
          this._progressiveEls.push(r))
      }
    }),
    (Aw.prototype.eachRendered = function(t) {
      gc(this._progressiveEls || this.group, t)
    }),
    (Aw.prototype.remove = function(t) {
      var e = this.group,
        n = this._data
      n && t
        ? n.eachItemGraphicEl(function(t) {
            t.fadeOut(function() {
              e.remove(t)
            }, n.hostModel)
          })
        : e.removeAll()
    })
  var Cw = Aw
  function Aw(t) {
    ;(this.group = new Yo()), (this._SymbolCtor = t || ww)
  }
  function Dw(t, e, n) {
    var i = t.getBaseAxis(),
      o = t.getOtherAxis(i),
      n = (function(t, e) {
        var n = 0,
          t = t.scale.getExtent()
        'start' === e ? (n = t[0]) : 'end' === e ? (n = t[1]) : H(e) && !isNaN(e) ? (n = e) : 0 < t[0] ? (n = t[0]) : t[1] < 0 && (n = t[1])
        return n
      })(o, n),
      i = i.dim,
      o = o.dim,
      r = e.mapDimension(o),
      a = e.mapDimension(i),
      s = 'x' === o || 'radius' === o ? 1 : 0,
      t = B(t.dimensions, function(t) {
        return e.mapDimension(t)
      }),
      l = !1,
      u = e.getCalculationInfo('stackResultDimension')
    return (
      Fv(e, t[0]) && ((l = !0), (t[0] = u)),
      Fv(e, t[1]) && ((l = !0), (t[1] = u)),
      {
        dataDimsForPoint: t,
        valueStart: n,
        valueAxisDim: o,
        baseAxisDim: i,
        stacked: !!l,
        valueDim: r,
        baseDim: a,
        baseDataOffset: s,
        stackedOverDimension: e.getCalculationInfo('stackedOverDimension'),
      }
    )
  }
  function kw(t, e, n, i) {
    var o = NaN,
      r = (t.stacked && (o = n.get(n.getCalculationInfo('stackedOverDimension'), i)), isNaN(o) && (o = t.valueStart), t.baseDataOffset),
      a = []
    return (a[r] = n.get(t.baseDim, i)), (a[1 - r] = o), e.dataToPoint(a)
  }
  var Lw = Math.min,
    Pw = Math.max
  function Ow(t, e) {
    return isNaN(t) || isNaN(e)
  }
  function Rw(t, e, n, i, o, r, a, s, l) {
    for (var u, h, c, p, d = n, f = 0; f < i; f++) {
      var g = e[2 * d],
        y = e[2 * d + 1]
      if (o <= d || d < 0) break
      if (Ow(g, y)) {
        if (l) {
          d += r
          continue
        }
        break
      }
      if (d === n) t[0 < r ? 'moveTo' : 'lineTo'](g, y), (c = g), (p = y)
      else {
        var m = g - u,
          v = y - h
        if (m * m + v * v < 0.5) {
          d += r
          continue
        }
        if (0 < a) {
          for (var _ = d + r, x = e[2 * _], w = e[2 * _ + 1]; x === g && w === y && f < i; )
            f++, (d += r), (x = e[2 * (_ += r)]), (w = e[2 * _ + 1]), (g = e[2 * d]), (y = e[2 * d + 1])
          var b = f + 1
          if (l) for (; Ow(x, w) && b < i; ) b++, (x = e[2 * (_ += r)]), (w = e[2 * _ + 1])
          var S,
            M,
            T,
            I,
            C,
            A,
            D,
            k,
            L,
            m = 0,
            v = 0,
            P = void 0,
            O = void 0
          i <= b || Ow(x, w)
            ? ((D = g), (k = y))
            : ((m = x - u),
              (v = w - h),
              (S = g - u),
              (M = x - g),
              (T = y - h),
              (I = w - y),
              (A = C = void 0),
              (O =
                'x' === s
                  ? ((D = g - (L = 0 < m ? 1 : -1) * (C = Math.abs(S)) * a), (k = y), (P = g + L * (A = Math.abs(M)) * a), y)
                  : 'y' === s
                  ? ((k = y - (L = 0 < v ? 1 : -1) * (C = Math.abs(T)) * a), (P = D = g), y + L * (A = Math.abs(I)) * a)
                  : ((C = Math.sqrt(S * S + T * T)),
                    (D = g - m * a * (1 - (S = (A = Math.sqrt(M * M + I * I)) / (A + C)))),
                    (k = y - v * a * (1 - S)),
                    (O = y + v * a * S),
                    (P = Lw((P = g + m * a * S), Pw(x, g))),
                    (O = Lw(O, Pw(w, y))),
                    (P = Pw(P, Lw(x, g))),
                    (k = y - ((v = (O = Pw(O, Lw(w, y))) - y) * C) / A),
                    (D = Lw((D = g - ((m = P - g) * C) / A), Pw(u, g))),
                    (k = Lw(k, Pw(h, y))),
                    (P = g + ((m = g - (D = Pw(D, Lw(u, g)))) * A) / C),
                    y + ((v = y - (k = Pw(k, Lw(h, y)))) * A) / C))),
            t.bezierCurveTo(c, p, D, k, g, y),
            (c = P),
            (p = O)
        } else t.lineTo(g, y)
      }
      ;(u = g), (h = y), (d += r)
    }
    return f
  }
  var Nw,
    Ew = function() {
      ;(this.smooth = 0), (this.smoothConstraint = !0)
    },
    zw =
      (u(Bw, (Nw = j)),
      (Bw.prototype.getDefaultStyle = function() {
        return { stroke: '#000', fill: null }
      }),
      (Bw.prototype.getDefaultShape = function() {
        return new Ew()
      }),
      (Bw.prototype.buildPath = function(t, e) {
        var n = e.points,
          i = 0,
          o = n.length / 2
        if (e.connectNulls) {
          for (; 0 < o && Ow(n[2 * o - 2], n[2 * o - 1]); o--);
          for (; i < o && Ow(n[2 * i], n[2 * i + 1]); i++);
        }
        for (; i < o; ) i += Rw(t, n, i, o, o, 1, e.smooth, e.smoothMonotone, e.connectNulls) + 1
      }),
      (Bw.prototype.getPointOn = function(t, e) {
        this.path || (this.createPathProxy(), this.buildPath(this.path, this.shape))
        for (var n, i, o = this.path.data, r = ns.CMD, a = 'x' === e, s = [], l = 0; l < o.length; ) {
          var u = void 0,
            h = void 0
          switch (o[l++]) {
            case r.M:
              ;(n = o[l++]), (i = o[l++])
              break
            case r.L:
              var c,
                u = o[l++],
                h = o[l++]
              if ((c = a ? (t - n) / (u - n) : (t - i) / (h - i)) <= 1 && 0 <= c)
                return (v = a ? (h - i) * c + i : (u - n) * c + n), a ? [t, v] : [v, t]
              ;(n = u), (i = h)
              break
            case r.C:
              ;(u = o[l++]), (h = o[l++])
              var p = o[l++],
                d = o[l++],
                f = o[l++],
                g = o[l++],
                y = a ? Fn(n, u, p, f, t, s) : Fn(i, h, d, g, t, s)
              if (0 < y)
                for (var m = 0; m < y; m++) {
                  var v,
                    _ = s[m]
                  if (_ <= 1 && 0 <= _) return (v = a ? Bn(i, h, d, g, _) : Bn(n, u, p, f, _)), a ? [t, v] : [v, t]
                }
              ;(n = f), (i = g)
          }
        }
      }),
      Bw)
  function Bw(t) {
    t = Nw.call(this, t) || this
    return (t.type = 'ec-polyline'), t
  }
  u(Hw, (Vw = Ew))
  var Vw,
    Fw = Hw
  function Hw() {
    return (null !== Vw && Vw.apply(this, arguments)) || this
  }
  u(Uw, (Gw = j)),
    (Uw.prototype.getDefaultShape = function() {
      return new Fw()
    }),
    (Uw.prototype.buildPath = function(t, e) {
      var n = e.points,
        i = e.stackedOnPoints,
        o = 0,
        r = n.length / 2,
        a = e.smoothMonotone
      if (e.connectNulls) {
        for (; 0 < r && Ow(n[2 * r - 2], n[2 * r - 1]); r--);
        for (; o < r && Ow(n[2 * o], n[2 * o + 1]); o++);
      }
      for (; o < r; ) {
        var s = Rw(t, n, o, r, r, 1, e.smooth, a, e.connectNulls)
        Rw(t, i, o + s - 1, s, r, -1, e.stackedOnSmooth, a, e.connectNulls), (o += s + 1), t.closePath()
      }
    })
  var Gw,
    Ww = Uw
  function Uw(t) {
    t = Gw.call(this, t) || this
    return (t.type = 'ec-polygon'), t
  }
  function Yw(t, e) {
    if (t.length === e.length) {
      for (var n = 0; n < t.length; n++) if (t[n] !== e[n]) return
      return 1
    }
  }
  function Xw(t) {
    for (var e = 1 / 0, n = 1 / 0, i = -1 / 0, o = -1 / 0, r = 0; r < t.length; ) {
      var a = t[r++],
        s = t[r++]
      isNaN(a) || ((e = Math.min(a, e)), (i = Math.max(a, i))), isNaN(s) || ((n = Math.min(s, n)), (o = Math.max(s, o)))
    }
    return [
      [e, n],
      [i, o],
    ]
  }
  function Zw(t, e) {
    var t = Xw(t),
      n = t[0],
      t = t[1],
      e = Xw(e),
      i = e[0],
      e = e[1]
    return Math.max(Math.abs(n[0] - i[0]), Math.abs(n[1] - i[1]), Math.abs(t[0] - e[0]), Math.abs(t[1] - e[1]))
  }
  function qw(t) {
    return H(t) ? t : t ? 0.5 : 0
  }
  function jw(t, e, n, i, o) {
    var n = n.getBaseAxis(),
      r = 'x' === n.dim || 'radius' === n.dim ? 0 : 1,
      a = [],
      s = 0,
      l = [],
      u = [],
      h = [],
      c = []
    if (o) {
      for (s = 0; s < t.length; s += 2) {
        var p = e || t
        isNaN(p[s]) || isNaN(p[s + 1]) || c.push(t[s], t[s + 1])
      }
      t = c
    }
    for (s = 0; s < t.length - 2; s += 2)
      switch (((h[0] = t[s + 2]), (h[1] = t[s + 3]), (u[0] = t[s]), (u[1] = t[s + 1]), a.push(u[0], u[1]), i)) {
        case 'end':
          ;(l[r] = h[r]), (l[1 - r] = u[1 - r]), a.push(l[0], l[1])
          break
        case 'middle':
          var d = []
          ;(l[r] = d[r] = (u[r] + h[r]) / 2), (l[1 - r] = u[1 - r]), (d[1 - r] = h[1 - r]), a.push(l[0], l[1]), a.push(d[0], d[1])
          break
        default:
          ;(l[r] = u[r]), (l[1 - r] = h[1 - r]), a.push(l[0], l[1])
      }
    return a.push(t[s++], t[s++]), a
  }
  function Kw(t, e, n) {
    var i = t.getVisual('visualMeta')
    if (i && i.length && t.count() && 'cartesian2d' === e.type) {
      for (var o, r = i.length - 1; 0 <= r; r--) {
        var a,
          s = t.getDimensionInfo(i[r].dimension)
        if ('x' === (a = s && s.coordDim) || 'y' === a) {
          o = i[r]
          break
        }
      }
      if (o) {
        var l = e.getAxis(a),
          e = B(o.stops, function(t) {
            return { coord: l.toGlobalCoord(l.dataToCoord(t.value)), color: t.color }
          }),
          u = e.length,
          h = o.outerColors.slice(),
          n =
            (u && e[0].coord > e[u - 1].coord && (e.reverse(), h.reverse()),
            (function(t, e) {
              var n,
                i,
                o = [],
                r = t.length
              function a(t, e, n) {
                var i = t.coord
                return { coord: n, color: wi((n - i) / (e.coord - i), [t.color, e.color]) }
              }
              for (var s = 0; s < r; s++) {
                var l = t[s],
                  u = l.coord
                if (u < 0) n = l
                else {
                  if (e < u) {
                    i ? o.push(a(i, l, e)) : n && o.push(a(n, l, 0), a(n, l, e))
                    break
                  }
                  n && (o.push(a(n, l, 0)), (n = null)), o.push(l), (i = l)
                }
              }
              return o
            })(e, 'x' === a ? n.getWidth() : n.getHeight())),
          c = n.length
        if (!c && u) return e[0].coord < 0 ? h[1] || e[u - 1].color : h[0] || e[0].color
        var p = n[0].coord - 10,
          u = n[c - 1].coord + 10,
          d = u - p
        if (d < 0.001) return 'transparent'
        E(n, function(t) {
          t.offset = (t.coord - p) / d
        }),
          n.push({ offset: c ? n[c - 1].offset : 0.5, color: h[1] || 'transparent' }),
          n.unshift({ offset: c ? n[0].offset : 0.5, color: h[0] || 'transparent' })
        e = new wh(0, 0, 0, 0, n, !0)
        return (e[a] = p), (e[a + '2'] = u), e
      }
    }
  }
  function $w(t, e, n) {
    var t = t.get('showAllSymbol'),
      i = 'auto' === t
    if (!t || i) {
      var o,
        r,
        a = n.getAxesByScale('ordinal')[0]
      if (a)
        if (
          !i ||
          !(function(t, e) {
            for (
              var n = t.getExtent(),
                i = Math.abs(n[1] - n[0]) / t.scale.count(),
                o = (isNaN(i) && (i = 0), e.count()),
                r = Math.max(1, Math.round(o / 5)),
                a = 0;
              a < o;
              a += r
            )
              if (1.5 * ww.getSymbolSize(e, a)[t.isHorizontal() ? 1 : 0] > i) return
            return 1
          })(a, e)
        )
          return (
            (o = e.mapDimension(a.dim)),
            (r = {}),
            E(a.getViewLabels(), function(t) {
              t = a.scale.getRawOrdinalNumber(t.tickValue)
              r[t] = 1
            }),
            function(t) {
              return !r.hasOwnProperty(e.get(o, t))
            }
          )
    }
  }
  function Qw(t) {
    for (var e, n, i = t.length / 2; 0 < i && ((e = t[2 * i - 2]), (n = t[2 * i - 1]), isNaN(e) || isNaN(n)); i--);
    return i - 1
  }
  function Jw(t, e) {
    return [t[2 * e], t[2 * e + 1]]
  }
  function tb(t) {
    if (t.get(['endLabel', 'show'])) return 1
    for (var e = 0; e < sl.length; e++) if (t.get([sl[e], 'endLabel', 'show'])) return 1
  }
  function eb(n, i, e, t) {
    var o, r, a, s, l, u, h, c, p
    return Wx(i, 'cartesian2d')
      ? ((o = t.getModel('endLabel')),
        (r = o.get('valueAnimation')),
        (a = t.getData()),
        (s = { lastFrameIndex: 0 }),
        (l = tb(t)
          ? function(t, e) {
              n._endLabelOnDuring(t, e, a, s, r, o, i)
            }
          : null),
        (u = i.getBaseAxis().isHorizontal()),
        (h = zx(
          i,
          e,
          t,
          function() {
            var t = n._endLabel
            t && e && null != s.originalX && t.attr({ x: s.originalX, y: s.originalY })
          },
          l
        )),
        t.get('clip', !0) ||
          ((c = h.shape), (p = Math.max(c.width, c.height)), u ? ((c.y -= p), (c.height += 2 * p)) : ((c.x -= p), (c.width += 2 * p))),
        l && l(1, h),
        h)
      : Bx(i, e, t)
  }
  u(ob, (nb = hy)),
    (ob.prototype.init = function() {
      var t = new Yo(),
        e = new Cw()
      this.group.add(e.group), (this._symbolDraw = e), (this._lineGroup = t), (this._changePolyState = S(this._changePolyState, this))
    }),
    (ob.prototype.render = function(t, e, n) {
      var i,
        o = t.coordinateSystem,
        r = this.group,
        a = t.getData(),
        s = t.getModel('lineStyle'),
        l = t.getModel('areaStyle'),
        u = a.getLayout('points') || [],
        h = 'polar' === o.type,
        c = this._coordSys,
        p = this._symbolDraw,
        d = this._polyline,
        f = this._polygon,
        g = this._lineGroup,
        e = !e.ssr && t.get('animation'),
        y = !l.isEmpty(),
        m = l.get('origin'),
        v = Dw(o, a, m),
        v =
          y &&
          (function(t, e, n) {
            if (!n.valueDim) return []
            for (var i = e.count(), o = p_(2 * i), r = 0; r < i; r++) {
              var a = kw(n, t, e, r)
              ;(o[2 * r] = a[0]), (o[2 * r + 1] = a[1])
            }
            return o
          })(o, a, v),
        _ = t.get('showSymbol'),
        x = t.get('connectNulls'),
        w = _ && !h && $w(t, a, o),
        b = this._data,
        S =
          (b &&
            b.eachItemGraphicEl(function(t, e) {
              t.__temp && (r.remove(t), b.setItemGraphicEl(e, null))
            }),
          _ || p.remove(),
          r.add(g),
          !h && t.get('step')),
        M =
          (o &&
            o.getArea &&
            t.get('clip', !0) &&
            (null != (i = o.getArea()).width
              ? ((i.x -= 0.1), (i.y -= 0.1), (i.width += 0.2), (i.height += 0.2))
              : i.r0 && ((i.r0 -= 0.5), (i.r += 0.5))),
          (this._clipShapeForSymbol = i),
          Kw(a, o, n) || a.getVisual('style')[a.getVisual('drawType')]),
        c =
          (d && c.type === o.type && S === this._step
            ? (y && !f ? (f = this._newPolygon(u, v)) : f && !y && (g.remove(f), (f = this._polygon = null)),
              h || this._initOrUpdateEndLabel(t, o, zp(M)),
              (c = g.getClipPath()) ? zh(c, { shape: eb(this, o, !1, t).shape }, t) : g.setClipPath(eb(this, o, !0, t)),
              _ &&
                p.updateData(a, {
                  isIgnore: w,
                  clipShape: i,
                  disableAnimation: !0,
                  getSymbolPoint: function(t) {
                    return [u[2 * t], u[2 * t + 1]]
                  },
                }),
              (Yw(this._stackedOnPoints, v) && Yw(this._points, u)) ||
                (e
                  ? this._doUpdateAnimation(a, v, o, n, S, m, x)
                  : (S && ((v = v && jw(v, u, o, S, x)), (u = jw(u, null, o, S, x))),
                    d.setShape({ points: u }),
                    f && f.setShape({ points: u, stackedOnPoints: v }))))
            : (_ &&
                p.updateData(a, {
                  isIgnore: w,
                  clipShape: i,
                  disableAnimation: !0,
                  getSymbolPoint: function(t) {
                    return [u[2 * t], u[2 * t + 1]]
                  },
                }),
              e && this._initSymbolLabelAnimation(a, o, i),
              S && ((v = v && jw(v, u, o, S, x)), (u = jw(u, null, o, S, x))),
              (d = this._newPolyline(u)),
              y ? (f = this._newPolygon(u, v)) : f && (g.remove(f), (f = this._polygon = null)),
              h || this._initOrUpdateEndLabel(t, o, zp(M)),
              g.setClipPath(eb(this, o, !0, t))),
          t.getModel('emphasis')),
        n = c.get('focus'),
        _ = c.get('blurScope'),
        p = c.get('disabled'),
        w =
          (d.useStyle(z(s.getLineStyle(), { fill: 'none', stroke: M, lineJoin: 'bevel' })),
          Xl(d, t, 'lineStyle'),
          0 < d.style.lineWidth &&
            'bolder' === t.get(['emphasis', 'lineStyle', 'width']) &&
            (d.getState('emphasis').style.lineWidth = +d.style.lineWidth + 1),
          (D(d).seriesIndex = t.seriesIndex),
          Wl(d, n, _, p),
          qw(t.get('smooth'))),
        e = t.get('smoothMonotone'),
        T =
          (d.setShape({ smooth: w, smoothMonotone: e, connectNulls: x }),
          f &&
            ((i = a.getCalculationInfo('stackedOnSeries')),
            (y = 0),
            f.useStyle(z(l.getAreaStyle(), { fill: M, opacity: 0.7, lineJoin: 'bevel', decal: a.getVisual('style').decal })),
            i && (y = qw(i.get('smooth'))),
            f.setShape({ smooth: w, stackedOnSmooth: y, smoothMonotone: e, connectNulls: x }),
            Xl(f, t, 'areaStyle'),
            (D(f).seriesIndex = t.seriesIndex),
            Wl(f, n, _, p)),
          this._changePolyState)
      a.eachItemGraphicEl(function(t) {
        t && (t.onHoverStateChange = T)
      }),
        (this._polyline.onHoverStateChange = T),
        (this._data = a),
        (this._coordSys = o),
        (this._stackedOnPoints = v),
        (this._points = u),
        (this._step = S),
        (this._valueOrigin = m),
        t.get('triggerLineEvent') && (this.packEventData(t, d), f) && this.packEventData(t, f)
    }),
    (ob.prototype.packEventData = function(t, e) {
      D(e).eventData = {
        componentType: 'series',
        componentSubType: 'line',
        componentIndex: t.componentIndex,
        seriesIndex: t.seriesIndex,
        seriesName: t.name,
        seriesType: 'line',
      }
    }),
    (ob.prototype.highlight = function(t, e, n, i) {
      var o = t.getData(),
        r = Rr(o, i)
      if ((this._changePolyState('emphasis'), !(r instanceof Array) && null != r && 0 <= r)) {
        var a = o.getLayout('points')
        if (!(l = o.getItemGraphicEl(r))) {
          var s = a[2 * r],
            a = a[2 * r + 1]
          if (isNaN(s) || isNaN(a)) return
          if (this._clipShapeForSymbol && !this._clipShapeForSymbol.contain(s, a)) return
          var l,
            u = t.get('zlevel') || 0,
            h = t.get('z') || 0,
            s = (((l = new ww(o, r)).x = s), (l.y = a), l.setZ(u, h), l.getSymbolPath().getTextContent())
          s && ((s.zlevel = u), (s.z = h), (s.z2 = this._polyline.z2 + 1)),
            (l.__temp = !0),
            o.setItemGraphicEl(r, l),
            l.stopSymbolAnimation(!0),
            this.group.add(l)
        }
        l.highlight()
      } else hy.prototype.highlight.call(this, t, e, n, i)
    }),
    (ob.prototype.downplay = function(t, e, n, i) {
      var o,
        r = t.getData(),
        a = Rr(r, i)
      this._changePolyState('normal'),
        null != a && 0 <= a
          ? (o = r.getItemGraphicEl(a)) && (o.__temp ? (r.setItemGraphicEl(a, null), this.group.remove(o)) : o.downplay())
          : hy.prototype.downplay.call(this, t, e, n, i)
    }),
    (ob.prototype._changePolyState = function(t) {
      var e = this._polygon
      Ml(this._polyline, t), e && Ml(e, t)
    }),
    (ob.prototype._newPolyline = function(t) {
      var e = this._polyline
      return (
        e && this._lineGroup.remove(e),
        (e = new zw({ shape: { points: t }, segmentIgnoreThreshold: 2, z2: 10 })),
        this._lineGroup.add(e),
        (this._polyline = e)
      )
    }),
    (ob.prototype._newPolygon = function(t, e) {
      var n = this._polygon
      return (
        n && this._lineGroup.remove(n),
        (n = new Ww({ shape: { points: t, stackedOnPoints: e }, segmentIgnoreThreshold: 2 })),
        this._lineGroup.add(n),
        (this._polygon = n)
      )
    }),
    (ob.prototype._initSymbolLabelAnimation = function(t, l, u) {
      var h,
        c,
        e = l.getBaseAxis(),
        p = e.inverse,
        e =
          ('cartesian2d' === l.type ? ((h = e.isHorizontal()), (c = !1)) : 'polar' === l.type && ((h = 'angle' === e.dim), (c = !0)),
          t.hostModel),
        d = e.get('animationDuration'),
        f = (A(d) && (d = d(null)), e.get('animationDelay') || 0),
        g = A(f) ? f(null) : f
      t.eachItemGraphicEl(function(t, e) {
        var n,
          i,
          o,
          r,
          a,
          s = t
        s &&
          ((r = [t.x, t.y]),
          (a = i = n = void 0),
          u &&
            (a = c
              ? ((o = u),
                (r = l.pointToCoord(r)),
                h ? ((n = o.startAngle), (i = o.endAngle), (-r[1] / 180) * Math.PI) : ((n = o.r0), (i = o.r), r[0]))
              : h
              ? ((n = u.x), (i = u.x + u.width), t.x)
              : ((n = u.y + u.height), (i = u.y), t.y)),
          (o = i === n ? 0 : (a - n) / (i - n)),
          p && (o = 1 - o),
          (r = A(f) ? f(e) : d * o + g),
          (a = (t = s.getSymbolPath()).getTextContent()),
          s.attr({ scaleX: 0, scaleY: 0 }),
          s.animateTo({ scaleX: 1, scaleY: 1 }, { duration: 200, setToFinal: !0, delay: r }),
          a && a.animateFrom({ style: { opacity: 0 } }, { duration: 300, delay: r }),
          (t.disableLabelAnimation = !0))
      })
    }),
    (ob.prototype._initOrUpdateEndLabel = function(t, e, n) {
      var i,
        o,
        r,
        a = t.getModel('endLabel')
      tb(t)
        ? ((i = t.getData()),
          (o = this._polyline),
          (r = i.getLayout('points'))
            ? (this._endLabel ||
                (((this._endLabel = new Hs({ z2: 200 })).ignoreClip = !0),
                o.setTextContent(this._endLabel),
                (o.disableLabelAnimation = !0)),
              0 <= (r = Qw(r)) &&
                (xc(
                  o,
                  wc(t, 'endLabel'),
                  {
                    inheritColor: n,
                    labelFetcher: t,
                    labelDataIndex: r,
                    defaultText: function(t, e, n) {
                      return null != n ? Yx(i, n) : Ux(i, t)
                    },
                    enableTextSetter: !0,
                  },
                  ((n = a),
                  (r = (t = (t = e).getBaseAxis()).isHorizontal()),
                  (t = t.inverse),
                  (a = r ? (t ? 'right' : 'left') : 'center'),
                  (r = r ? 'middle' : t ? 'top' : 'bottom'),
                  { normal: { align: n.get('align') || a, verticalAlign: n.get('verticalAlign') || r } })
                ),
                (o.textConfig.position = null)))
            : (o.removeTextContent(), (this._endLabel = null)))
        : this._endLabel && (this._polyline.removeTextContent(), (this._endLabel = null))
    }),
    (ob.prototype._endLabelOnDuring = function(t, e, n, i, o, r, a) {
      var s,
        l,
        u,
        h,
        c,
        p,
        d,
        f,
        g,
        y,
        m = this._endLabel,
        v = this._polyline
      m &&
        (t < 1 && null == i.originalX && ((i.originalX = m.x), (i.originalY = m.y)),
        (s = n.getLayout('points')),
        (g = (l = n.hostModel).get('connectNulls')),
        (u = r.get('precision')),
        (r = r.get('distance') || 0),
        (c = (a = a.getBaseAxis()).isHorizontal()),
        (a = a.inverse),
        (e = e.shape),
        (h = (c ? r : 0) * (a ? -1 : 1)),
        (r = (c ? 0 : -r) * (a ? -1 : 1)),
        (d = void 0),
        1 <=
        (f =
          (p = (c = (function(t, e, n) {
            for (var i, o, r = t.length / 2, a = 'x' === n ? 0 : 1, s = 0, l = -1, u = 0; u < r; u++)
              if (((o = t[2 * u + a]), !isNaN(o) && !isNaN(t[2 * u + 1 - a]))) {
                if (0 !== u) {
                  if ((i <= e && e <= o) || (e <= i && o <= e)) {
                    l = u
                    break
                  }
                  s = u
                }
                i = o
              }
            return { range: [s, l], t: (e - i) / (o - i) }
          })(s, (a = a ? (c ? e.x : e.y + e.height) : c ? e.x + e.width : e.y), (e = c ? 'x' : 'y'))).range)[1] - p[0])
          ? (1 < f && !g
              ? ((y = Jw(s, p[0])), m.attr({ x: y[0] + h, y: y[1] + r }), o && (d = l.getRawValue(p[0])))
              : ((y = v.getPointOn(a, e)) && m.attr({ x: y[0] + h, y: y[1] + r }),
                (f = l.getRawValue(p[0])),
                (g = l.getRawValue(p[1])),
                o && (d = Wr(n, u, f, g, c.t))),
            (i.lastFrameIndex = p[0]))
          : ((y = Jw(s, (v = 1 === t || 0 < i.lastFrameIndex ? p[0] : 0))),
            o && (d = l.getRawValue(v)),
            m.attr({ x: y[0] + h, y: y[1] + r })),
        o) &&
        'function' == typeof (a = Ac(m)).setLabelText &&
        a.setLabelText(d)
    }),
    (ob.prototype._doUpdateAnimation = function(t, e, n, i, o, r, a) {
      var s = this._polyline,
        l = this._polygon,
        u = t.hostModel,
        e = (function(t, e, n, i, o, r) {
          ;(a = []),
            e
              .diff(t)
              .add(function(t) {
                a.push({ cmd: '+', idx: t })
              })
              .update(function(t, e) {
                a.push({ cmd: '=', idx: e, idx1: t })
              })
              .remove(function(t) {
                a.push({ cmd: '-', idx: t })
              })
              .execute()
          for (
            var a,
              s = a,
              l = [],
              u = [],
              h = [],
              c = [],
              p = [],
              d = [],
              f = [],
              g = Dw(o, e, r),
              y = t.getLayout('points') || [],
              m = e.getLayout('points') || [],
              v = 0;
            v < s.length;
            v++
          ) {
            var _ = s[v],
              x = !0,
              w = void 0
            switch (_.cmd) {
              case '=':
                var b = 2 * _.idx,
                  w = 2 * _.idx1,
                  S = y[b],
                  M = y[1 + b],
                  T = m[w],
                  I = m[w + 1]
                ;(isNaN(S) || isNaN(M)) && ((S = T), (M = I)),
                  l.push(S, M),
                  u.push(T, I),
                  h.push(n[b], n[1 + b]),
                  c.push(i[w], i[w + 1]),
                  f.push(e.getRawIndex(_.idx1))
                break
              case '+':
                ;(S = _.idx),
                  (M = g.dataDimsForPoint),
                  (T = o.dataToPoint([e.get(M[0], S), e.get(M[1], S)])),
                  (I = ((w = 2 * S), l.push(T[0], T[1]), u.push(m[w], m[w + 1]), kw(g, o, e, S)))
                h.push(I[0], I[1]), c.push(i[w], i[w + 1]), f.push(e.getRawIndex(S))
                break
              case '-':
                x = !1
            }
            x && (p.push(_), d.push(d.length))
          }
          d.sort(function(t, e) {
            return f[t] - f[e]
          })
          for (var C = p_((r = l.length)), A = p_(r), D = p_(r), k = p_(r), L = [], v = 0; v < d.length; v++) {
            var P = d[v],
              O = 2 * v,
              R = 2 * P
            ;(C[O] = l[R]),
              (C[1 + O] = l[1 + R]),
              (A[O] = u[R]),
              (A[1 + O] = u[1 + R]),
              (D[O] = h[R]),
              (D[1 + O] = h[1 + R]),
              (k[O] = c[R]),
              (k[1 + O] = c[1 + R]),
              (L[v] = p[P])
          }
          return { current: C, next: A, stackedOnCurrent: D, stackedOnNext: k, status: L }
        })(this._data, t, this._stackedOnPoints, e, this._coordSys, this._valueOrigin),
        h = e.current,
        c = e.stackedOnCurrent,
        p = e.next,
        d = e.stackedOnNext
      if (
        (o &&
          ((c = jw(e.stackedOnCurrent, e.current, n, o, a)),
          (h = jw(e.current, null, n, o, a)),
          (d = jw(e.stackedOnNext, e.next, n, o, a)),
          (p = jw(e.next, null, n, o, a))),
        3e3 < Zw(h, p) || (l && 3e3 < Zw(c, d)))
      )
        s.stopAnimation(), s.setShape({ points: p }), l && (l.stopAnimation(), l.setShape({ points: p, stackedOnPoints: d }))
      else {
        ;(s.shape.__points = e.current), (s.shape.points = h)
        for (
          var f,
            n = { shape: { points: p } },
            g =
              (e.current !== h && (n.shape.__points = e.next),
              s.stopAnimation(),
              Eh(s, n, u),
              l &&
                (l.setShape({ points: h, stackedOnPoints: c }),
                l.stopAnimation(),
                Eh(l, { shape: { stackedOnPoints: d } }, u),
                s.shape.points !== l.shape.points) &&
                (l.shape.points = s.shape.points),
              []),
            y = e.status,
            m = 0;
          m < y.length;
          m++
        )
          '=' === y[m].cmd && (f = t.getItemGraphicEl(y[m].idx1)) && g.push({ el: f, ptIdx: m })
        s.animators &&
          s.animators.length &&
          s.animators[0].during(function() {
            l && l.dirtyShape()
            for (var t = s.shape.__points, e = 0; e < g.length; e++) {
              var n = g[e].el,
                i = 2 * g[e].ptIdx
              ;(n.x = t[i]), (n.y = t[1 + i]), n.markRedraw()
            }
          })
      }
    }),
    (ob.prototype.remove = function(t) {
      var n = this.group,
        i = this._data
      this._lineGroup.removeAll(),
        this._symbolDraw.remove(!0),
        i &&
          i.eachItemGraphicEl(function(t, e) {
            t.__temp && (n.remove(t), i.setItemGraphicEl(e, null))
          }),
        (this._polyline = this._polygon = this._coordSys = this._points = this._stackedOnPoints = this._endLabel = this._data = null)
    }),
    (ob.type = 'line')
  var nb,
    ib = ob
  function ob() {
    return (null !== nb && nb.apply(this, arguments)) || this
  }
  function rb(t, i) {
    return {
      seriesType: t,
      plan: sy(),
      reset: function(t) {
        var h,
          e,
          c,
          p,
          d,
          n = t.getData(),
          f = t.coordinateSystem,
          t = t.pipelineContext,
          g = i || t.large
        if (f)
          return (
            (t = B(f.dimensions, function(t) {
              return n.mapDimension(t)
            }).slice(0, 2)),
            (h = t.length),
            (e = n.getCalculationInfo('stackResultDimension')),
            Fv(n, t[0]) && (t[0] = e),
            Fv(n, t[1]) && (t[1] = e),
            (c = n.getStore()),
            (p = n.getDimensionIndex(t[0])),
            (d = n.getDimensionIndex(t[1])),
            h && {
              progress: function(t, e) {
                for (var n = t.end - t.start, i = g && p_(n * h), o = [], r = [], a = t.start, s = 0; a < t.end; a++) {
                  var l,
                    u = void 0
                  ;(u =
                    1 === h
                      ? ((l = c.get(p, a)), f.dataToPoint(l, null, r))
                      : ((o[0] = c.get(p, a)), (o[1] = c.get(d, a)), f.dataToPoint(o, null, r))),
                    g ? ((i[s++] = u[0]), (i[s++] = u[1])) : e.setItemLayout(a, u.slice())
                }
                g && e.setLayout('points', i)
              },
            }
          )
      },
    }
  }
  i1(function(t) {
    t.registerChartView(ib),
      t.registerSeriesModel(vw),
      t.registerLayout(rb('line', !0)),
      t.registerVisual({
        seriesType: 'line',
        reset: function(t) {
          var e = t.getData(),
            t = t.getModel('lineStyle').getLineStyle()
          t && !t.stroke && (t.stroke = e.getVisual('style').fill), e.setVisual('legendLineStyle', t)
        },
      }),
      t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC, Lx('line'))
  })
  var ab = 2 * Math.PI,
    sb = Math.PI / 180
  function lb(t, e) {
    return Up(t.getBoxLayoutParams(), { width: e.getWidth(), height: e.getHeight() })
  }
  function ub(t, e) {
    var n,
      i = lb(t, e),
      o = t.get('center'),
      r = t.get('radius'),
      a = (V(r) || (r = [0, r]), W(i.width, e.getWidth())),
      e = W(i.height, e.getHeight()),
      s = Math.min(a, e),
      l = W(r[0], s / 2),
      r = W(r[1], s / 2),
      s = t.coordinateSystem
    return (
      (s = s ? ((n = (t = s.dataToPoint(o))[0] || 0), t[1] || 0) : ((n = W((o = V(o) ? o : [o, o])[0], a) + i.x), W(o[1], e) + i.y)),
      { cx: n, cy: s, r0: l, r: r }
    )
  }
  function hb(t, e, C) {
    e.eachSeriesByType(t, function(t) {
      var o,
        a = t.getData(),
        e = a.mapDimension('value'),
        n = lb(t, C),
        i = ub(t, C),
        s = i.cx,
        l = i.cy,
        u = i.r,
        h = i.r0,
        r = -t.get('startAngle') * sb,
        i = t.get('endAngle'),
        c = t.get('padAngle') * sb,
        i = 'auto' === i ? r - ab : -i * sb,
        p = t.get('minAngle') * sb + c,
        d = 0,
        f =
          (a.each(e, function(t) {
            isNaN(t) || d++
          }),
          a.getSum(e)),
        g = (Math.PI / (f || d)) * 2,
        y = t.get('clockwise'),
        m = t.get('roseType'),
        v = t.get('stillShowZeroSum'),
        _ = a.getDataExtent(e),
        x = ((_[0] = 0), y ? 1 : -1),
        w = [r, i],
        b = (x * c) / 2,
        w = (es(w, !y), (r = w[0]), (i = w[1]), cb(t)),
        S = ((w.startAngle = r), (w.endAngle = i), (w.clockwise = y), Math.abs(i - r)),
        M = S,
        T = 0,
        I = r
      a.setLayout({ viewRect: n, r: u }),
        a.each(e, function(t, e) {
          var n, i, o, r
          isNaN(t)
            ? a.setItemLayout(e, { angle: NaN, startAngle: NaN, endAngle: NaN, clockwise: y, cx: s, cy: l, r0: h, r: m ? NaN : u })
            : ((n = 'area' !== m ? (0 === f && v ? g : t * g) : S / d) < p ? (M -= n = p) : (T += t),
              (i = I + x * n),
              (r = o = 0),
              (r = n < c ? (o = I + (x * n) / 2) : ((o = I + b), i - b)),
              a.setItemLayout(e, { angle: n, startAngle: o, endAngle: r, clockwise: y, cx: s, cy: l, r0: h, r: m ? ir(t, _, [h, u]) : u }),
              (I = i))
        }),
        M < ab &&
          d &&
          (M <= 0.001
            ? ((o = S / d),
              a.each(e, function(t, e) {
                var n, i
                isNaN(t) ||
                  ((i = t = 0),
                  (i =
                    ((n = a.getItemLayout(e)).angle = o) < c
                      ? (t = r + x * (e + 0.5) * o)
                      : ((t = r + x * e * o + b), r + x * (e + 1) * o - b)),
                  (n.startAngle = t),
                  (n.endAngle = i))
              }))
            : ((g = M / T),
              (I = r),
              a.each(e, function(t, e) {
                var n, i
                isNaN(t) ||
                  ((i = n = 0),
                  (i = (t = (e = a.getItemLayout(e)).angle === p ? p : t * g) < c ? (n = I + (x * t) / 2) : ((n = I + b), I + x * t - b)),
                  (e.startAngle = n),
                  (e.endAngle = i),
                  (I += x * t))
              })))
    })
  }
  var cb = Nr()
  var pb = Math.PI / 180
  function db(t, s, l, u, h, e, n, i, o, r) {
    if (!(t.length < 2)) {
      for (var a, c = t.length, p = 0; p < c; p++)
        'outer' === t[p].position &&
          'labelLine' === t[p].labelAlignTo &&
          ((a = t[p].label.x - r), (t[p].linePoints[1][0] += a), (t[p].label.x = r))
      if (nx(t, o, o + n)) {
        for (var d, f, g, y, m, v = t, _ = { list: [], maxY: 0 }, x = { list: [], maxY: 0 }, w = 0; w < v.length; w++)
          'none' === v[w].labelAlignTo &&
            ((f = (d = v[w]).label.y > l ? x : _),
            (g = Math.abs(d.label.y - l)) >= f.maxY &&
              ((m = d.label.x - s - d.len2 * h),
              (y = u + d.len),
              (m = Math.abs(m) < y ? Math.sqrt((g * g) / (1 - (m * m) / y / y)) : y),
              (f.rB = m),
              (f.maxY = g)),
            f.list.push(d))
        b(_), b(x)
      }
    }
    function b(t) {
      for (var e = t.rB, n = e * e, i = 0; i < t.list.length; i++) {
        var o = t.list[i],
          r = Math.abs(o.label.y - l),
          a = u + o.len,
          r = Math.sqrt(Math.abs((1 - (r * r) / n) * (a * a))),
          a = s + (r + o.len2) * h,
          r = a - o.label.x
        fb(o, o.targetTextWidth - r * h, !0), (o.label.x = a)
      }
    }
  }
  function fb(t, e, n) {
    var i, o, r, a, s, l, u
    void 0 === n && (n = !1),
      null == t.labelStyleWidth &&
        ((s = (i = t.label).style),
        (o = t.rect),
        (l = s.backgroundColor),
        (u = (u = s.padding) ? u[1] + u[3] : 0),
        (s = s.overflow),
        e < (r = o.width + (l ? 0 : u)) || n) &&
        ((a = o.height),
        s && s.match('break')
          ? (i.setStyle('backgroundColor', null),
            i.setStyle('width', e - u),
            (s = i.getBoundingRect()),
            i.setStyle('width', Math.ceil(s.width)),
            i.setStyle('backgroundColor', l))
          : ((s = e - u), (l = !(e < r) && (!n || s > t.unconstrainedWidth) ? null : s), i.setStyle('width', l)),
        (u = i.getBoundingRect()),
        (o.width = u.width),
        (e = (i.style.margin || 0) + 2.1),
        (o.height = u.height + e),
        (o.y -= (o.height - a) / 2))
  }
  function gb(t) {
    return 'center' === t.position
  }
  function yb(t) {
    var S,
      M,
      T = t.getData(),
      I = [],
      C = !1,
      A = (t.get('minShowLabelAngle') || 0) * pb,
      e = T.getLayout('viewRect'),
      D = T.getLayout('r'),
      k = e.width,
      L = e.x,
      n = e.y,
      e = e.height
    function P(t) {
      t.ignore = !0
    }
    if (
      (T.each(function(t) {
        var e,
          n,
          i,
          o,
          r,
          a,
          s,
          l,
          u,
          h,
          c = T.getItemGraphicEl(t),
          p = c.shape,
          d = c.getTextContent(),
          f = c.getTextGuideLine(),
          t = T.getItemModel(t),
          g = t.getModel('label'),
          y = g.get('position') || t.get(['emphasis', 'label', 'position']),
          m = g.get('distanceToLabelLine'),
          v = g.get('alignTo'),
          _ = W(g.get('edgeDistance'), k),
          x = g.get('bleedMargin'),
          t = t.getModel('labelLine'),
          w = W(t.get('length'), k),
          b = W(t.get('length2'), k)
        Math.abs(p.endAngle - p.startAngle) < A
          ? (E(d.states, P), (d.ignore = !0), f && (E(f.states, P), (f.ignore = !0)))
          : (function(t) {
              if (!t.ignore) return 1
              for (var e in t.states) if (!1 === t.states[e].ignore) return 1
            })(d) &&
            ((h = (p.startAngle + p.endAngle) / 2),
            (e = Math.cos(h)),
            (n = Math.sin(h)),
            (S = p.cx),
            (M = p.cy),
            (i = 'inside' === y || 'inner' === y),
            (s =
              'center' === y
                ? ((o = p.cx), (r = p.cy), 'center')
                : ((o = (s = (i ? ((p.r + p.r0) / 2) * e : p.r * e) + S) + 3 * e),
                  (r = (l = (i ? ((p.r + p.r0) / 2) * n : p.r * n) + M) + 3 * n),
                  i ||
                    ((a = s + e * (w + D - p.r)),
                    (p = l + n * (w + D - p.r)),
                    (u = a + (e < 0 ? -1 : 1) * b),
                    (o = 'edge' === v ? (e < 0 ? L + _ : L + k - _) : u + (e < 0 ? -m : m)),
                    (a = [
                      [s, l],
                      [a, (r = p)],
                      [u, p],
                    ])),
                  i ? 'center' : 'edge' === v ? (0 < e ? 'right' : 'left') : 0 < e ? 'left' : 'right')),
            (l = Math.PI),
            (u = 0),
            H((p = g.get('rotate')))
              ? (u = p * (l / 180))
              : 'center' === y
              ? (u = 0)
              : 'radial' === p || !0 === p
              ? (u = e < 0 ? -h + l : -h)
              : 'tangential' === p &&
                'outside' !== y &&
                'outer' !== y &&
                ((g = Math.atan2(e, n)) < 0 && (g = 2 * l + g), (u = (g = 0 < n ? l + g : g) - l)),
            (C = !!u),
            (d.x = o),
            (d.y = r),
            (d.rotation = u),
            d.setStyle({ verticalAlign: 'middle' }),
            i
              ? (d.setStyle({ align: s }), (h = d.states.select) && ((h.x += d.x), (h.y += d.y)))
              : ((p = d.getBoundingRect().clone()).applyTransform(d.getComputedTransform()),
                (g = (d.style.margin || 0) + 2.1),
                (p.y -= g / 2),
                (p.height += g),
                I.push({
                  label: d,
                  labelLine: f,
                  position: y,
                  len: w,
                  len2: b,
                  minTurnAngle: t.get('minTurnAngle'),
                  maxSurfaceAngle: t.get('maxSurfaceAngle'),
                  surfaceNormal: new G(e, n),
                  linePoints: a,
                  textAlign: s,
                  labelDistance: m,
                  labelAlignTo: v,
                  edgeDistance: _,
                  bleedMargin: x,
                  rect: p,
                  unconstrainedWidth: p.width,
                  labelStyleWidth: d.style.width,
                })),
            c.setTextConfig({ inside: i }))
      }),
      !C && t.get('avoidLabelOverlap'))
    ) {
      for (
        var i = I, o = S, t = M, r = D, a = k, s = L, l = [], u = [], h = Number.MAX_VALUE, c = -Number.MAX_VALUE, p = 0;
        p < i.length;
        p++
      ) {
        var d = i[p].label
        gb(i[p]) || (d.x < o ? ((h = Math.min(h, d.x)), l) : ((c = Math.max(c, d.x)), u)).push(i[p])
      }
      for (var f, p = 0; p < i.length; p++)
        !gb((g = i[p])) &&
          g.linePoints &&
          null == g.labelStyleWidth &&
          ((d = g.label),
          (y = g.linePoints),
          (f = void 0),
          (f =
            'edge' === g.labelAlignTo
              ? d.x < o
                ? y[2][0] - g.labelDistance - s - g.edgeDistance
                : s + a - g.edgeDistance - y[2][0] - g.labelDistance
              : 'labelLine' === g.labelAlignTo
              ? d.x < o
                ? h - s - g.bleedMargin
                : s + a - c - g.bleedMargin
              : d.x < o
              ? d.x - s - g.bleedMargin
              : s + a - d.x - g.bleedMargin),
          (g.targetTextWidth = f),
          fb(g, f))
      db(u, o, t, r, 1, 0, e, 0, n, c), db(l, o, t, r, -1, 0, e, 0, n, h)
      for (var g, y, m, v, _, p = 0; p < i.length; p++)
        !gb((g = i[p])) &&
          g.linePoints &&
          ((d = g.label),
          (y = g.linePoints),
          (m = 'edge' === g.labelAlignTo),
          (v = (v = d.style.padding) ? v[1] + v[3] : 0),
          (v = d.style.backgroundColor ? 0 : v),
          (v = g.rect.width + v),
          (_ = y[1][0] - y[2][0]),
          m
            ? d.x < o
              ? (y[2][0] = s + g.edgeDistance + v + g.labelDistance)
              : (y[2][0] = s + a - g.edgeDistance - v - g.labelDistance)
            : (d.x < o ? (y[2][0] = d.x + g.labelDistance) : (y[2][0] = d.x - g.labelDistance), (y[1][0] = y[2][0] + _)),
          (y[1][1] = y[2][1] = d.y))
    }
    for (var x = 0; x < I.length; x++) {
      var w,
        b = I[x],
        O = b.label,
        R = b.labelLine,
        N = isNaN(O.x) || isNaN(O.y)
      O &&
        (O.setStyle({ align: b.textAlign }), N && (E(O.states, P), (O.ignore = !0)), (w = O.states.select)) &&
        ((w.x += O.x), (w.y += O.y)),
        R &&
          ((w = b.linePoints),
          N || !w
            ? (E(R.states, P), (R.ignore = !0))
            : (j1(w, b.minTurnAngle),
              (function(t, e, n) {
                if (n <= 180 && 0 < n) {
                  ;(n = (n / 180) * Math.PI),
                    H1.fromArray(t[0]),
                    G1.fromArray(t[1]),
                    W1.fromArray(t[2]),
                    G.sub(U1, G1, H1),
                    G.sub(Y1, W1, G1)
                  var i = U1.len(),
                    o = Y1.len()
                  if (!(i < 0.001 || o < 0.001))
                    if ((U1.scale(1 / i), Y1.scale(1 / o), U1.dot(e) < Math.cos(n))) {
                      ;(i = z1(G1.x, G1.y, W1.x, W1.y, H1.x, H1.y, Z1, !1)),
                        (o = (q1.fromArray(Z1), Math.PI / 2)),
                        (e = o + Math.acos(Y1.dot(e)) - n)
                      if (o <= e) G.copy(q1, W1)
                      else {
                        q1.scaleAndAdd(Y1, i / Math.tan(Math.PI / 2 - e))
                        n = W1.x !== G1.x ? (q1.x - G1.x) / (W1.x - G1.x) : (q1.y - G1.y) / (W1.y - G1.y)
                        if (isNaN(n)) return
                        n < 0 ? G.copy(q1, G1) : 1 < n && G.copy(q1, W1)
                      }
                      q1.toArray(t[1])
                    }
                }
              })(w, b.surfaceNormal, b.maxSurfaceAngle),
              R.setShape({ points: w }),
              (O.__hostTarget.textGuideLineConfig = { anchor: new G(w[0][0], w[0][1]) })))
    }
  }
  u(_b, (mb = Vu)),
    (_b.prototype.updateData = function(t, e, n, i) {
      var o = this,
        r = t.hostModel,
        a = t.getItemModel(e),
        s = a.getModel('emphasis'),
        l = t.getItemLayout(e),
        u = P(qx(a.getModel('itemStyle'), l, !0), l)
      isNaN(u.startAngle)
        ? o.setShape(u)
        : (i
            ? (o.setShape(u),
              (i = r.getShallow('animationType')),
              r.ecModel.ssr
                ? (zh(o, { scaleX: 0, scaleY: 0 }, r, { dataIndex: e, isFrom: !0 }), (o.originX = u.cx), (o.originY = u.cy))
                : 'scale' === i
                ? ((o.shape.r = l.r0), zh(o, { shape: { r: l.r } }, r, e))
                : null != n
                ? (o.setShape({ startAngle: n, endAngle: n }), zh(o, { shape: { startAngle: l.startAngle, endAngle: l.endAngle } }, r, e))
                : ((o.shape.endAngle = l.startAngle), Eh(o, { shape: { endAngle: l.endAngle } }, r, e)))
            : (Gh(o), Eh(o, { shape: u }, r, e)),
          o.useStyle(t.getItemVisual(e, 'style')),
          Xl(o, a),
          (i = (l.startAngle + l.endAngle) / 2),
          (n = r.get('selectedOffset')),
          (u = Math.cos(i) * n),
          (i = Math.sin(i) * n),
          (n = a.getShallow('cursor')) && o.attr('cursor', n),
          this._updateLabel(r, t, e),
          (o.ensureState('emphasis').shape = P({ r: l.r + ((s.get('scale') && s.get('scaleSize')) || 0) }, qx(s.getModel('itemStyle'), l))),
          P(o.ensureState('select'), { x: u, y: i, shape: qx(a.getModel(['select', 'itemStyle']), l) }),
          P(o.ensureState('blur'), { shape: qx(a.getModel(['blur', 'itemStyle']), l) }),
          (n = o.getTextGuideLine()),
          (r = o.getTextContent()),
          n && P(n.ensureState('select'), { x: u, y: i }),
          P(r.ensureState('select'), { x: u, y: i }),
          Wl(this, s.get('focus'), s.get('blurScope'), s.get('disabled')))
    }),
    (_b.prototype._updateLabel = function(t, e, n) {
      var i = e.getItemModel(n),
        o = i.getModel('labelLine'),
        r = e.getItemVisual(n, 'style'),
        a = r && r.fill,
        r = r && r.opacity,
        e =
          (xc(this, wc(i), {
            labelFetcher: e.hostModel,
            labelDataIndex: n,
            inheritColor: a,
            defaultOpacity: r,
            defaultText: t.getFormattedLabel(n, 'normal') || e.getName(n),
          }),
          this.getTextContent()),
        n = (this.setTextConfig({ position: null, rotation: null }), e.attr({ z2: 10 }), t.get(['label', 'position']))
      'outside' !== n && 'outer' !== n
        ? this.removeTextGuideLine()
        : (this.getTextGuideLine() || ((e = new Qu()), this.setTextGuideLine(e)),
          Q1(this, J1(i), { stroke: a, opacity: wt(o.get(['lineStyle', 'opacity']), r, 1) }))
    })
  var mb,
    vb = _b
  function _b(t, e, n) {
    var i = mb.call(this) || this,
      o = ((i.z2 = 2), new Hs())
    return i.setTextContent(o), i.updateData(t, e, n, !0), i
  }
  u(bb, (xb = hy)),
    (bb.prototype.render = function(e, t, n, i) {
      var o,
        r,
        a = e.getData(),
        s = this._data,
        l = this.group
      if (!s && 0 < a.count()) {
        for (var u = a.getItemLayout(0), h = 1; isNaN(u && u.startAngle) && h < a.count(); ++h) u = a.getItemLayout(h)
        u && (o = u.startAngle)
      }
      this._emptyCircleSector && l.remove(this._emptyCircleSector),
        0 === a.count() &&
          e.get('showEmptyCircle') &&
          ((r = cb(e)),
          (n = new Vu({ shape: P(ub(e, n), r) })).useStyle(e.getModel('emptyCircleStyle').getItemStyle()),
          (this._emptyCircleSector = n),
          l.add(n)),
        a
          .diff(s)
          .add(function(t) {
            var e = new vb(a, t, o)
            a.setItemGraphicEl(t, e), l.add(e)
          })
          .update(function(t, e) {
            e = s.getItemGraphicEl(e)
            e.updateData(a, t, o), e.off('click'), l.add(e), a.setItemGraphicEl(t, e)
          })
          .remove(function(t) {
            Hh(s.getItemGraphicEl(t), e, t)
          })
          .execute(),
        yb(e),
        'expansion' !== e.get('animationTypeUpdate') && (this._data = a)
    }),
    (bb.prototype.dispose = function() {}),
    (bb.prototype.containPoint = function(t, e) {
      var n,
        e = e.getData().getItemLayout(0)
      if (e) return (n = t[0] - e.cx), (t = t[1] - e.cy), (n = Math.sqrt(n * n + t * t)) <= e.r && n >= e.r0
    }),
    (bb.type = 'pie')
  var xb,
    wb = bb
  function bb() {
    var t = (null !== xb && xb.apply(this, arguments)) || this
    return (t.ignoreLabelLineUpdate = !0), t
  }
  function Sb(t, e, n) {
    e = V(e) ? { coordDimensions: e } : P({ encodeDefine: t.getEncode() }, e)
    var i = t.getSource(),
      e = Nv(i, e).dimensions,
      e = new Rv(e, t)
    return e.initData(i, n), e
  }
  ;(Tb.prototype.getAllNames = function() {
    var t = this._getRawData()
    return t.mapArray(t.getName)
  }),
    (Tb.prototype.containName = function(t) {
      return 0 <= this._getRawData().indexOfName(t)
    }),
    (Tb.prototype.indexOfName = function(t) {
      return this._getDataWithEncodedVisual().indexOfName(t)
    }),
    (Tb.prototype.getItemVisual = function(t, e) {
      return this._getDataWithEncodedVisual().getItemVisual(t, e)
    })
  var Mb = Tb
  function Tb(t, e) {
    ;(this._getDataWithEncodedVisual = t), (this._getRawData = e)
  }
  var Ib,
    Cb = Nr(),
    Ab =
      (u(Db, (Ib = $g)),
      (Db.prototype.init = function(t) {
        Ib.prototype.init.apply(this, arguments),
          (this.legendVisualProvider = new Mb(S(this.getData, this), S(this.getRawData, this))),
          this._defaultLabelLine(t)
      }),
      (Db.prototype.mergeOption = function() {
        Ib.prototype.mergeOption.apply(this, arguments)
      }),
      (Db.prototype.getInitialData = function() {
        return Sb(this, { coordDimensions: ['value'], encodeDefaulter: M(fd, this) })
      }),
      (Db.prototype.getDataParams = function(t) {
        var e,
          n = this.getData(),
          i = Cb(n),
          o = i.seats,
          i =
            (o ||
              ((e = []),
              n.each(n.mapDimension('value'), function(t) {
                e.push(t)
              }),
              (o = i.seats = ur(e, n.hostModel.get('percentPrecision')))),
            Ib.prototype.getDataParams.call(this, t))
        return (i.percent = o[t] || 0), i.$vars.push('percent'), i
      }),
      (Db.prototype._defaultLabelLine = function(t) {
        Mr(t, 'labelLine', ['show'])
        var e = t.labelLine,
          n = t.emphasis.labelLine
        ;(e.show = e.show && t.label.show), (n.show = n.show && t.emphasis.label.show)
      }),
      (Db.type = 'series.pie'),
      (Db.defaultOption = {
        z: 2,
        legendHoverLink: !0,
        colorBy: 'data',
        center: ['50%', '50%'],
        radius: [0, '75%'],
        clockwise: !0,
        startAngle: 90,
        endAngle: 'auto',
        padAngle: 0,
        minAngle: 0,
        minShowLabelAngle: 0,
        selectedOffset: 10,
        percentPrecision: 2,
        stillShowZeroSum: !0,
        left: 0,
        top: 0,
        right: 0,
        bottom: 0,
        width: null,
        height: null,
        label: {
          rotate: 0,
          show: !0,
          overflow: 'truncate',
          position: 'outer',
          alignTo: 'none',
          edgeDistance: '25%',
          bleedMargin: 10,
          distanceToLabelLine: 5,
        },
        labelLine: {
          show: !0,
          length: 15,
          length2: 15,
          smooth: !1,
          minTurnAngle: 90,
          maxSurfaceAngle: 90,
          lineStyle: { width: 1, type: 'solid' },
        },
        itemStyle: { borderWidth: 1, borderJoin: 'round' },
        showEmptyCircle: !0,
        emptyCircleStyle: { color: 'lightgray', opacity: 1 },
        labelLayout: { hideOverlap: !0 },
        emphasis: { scale: !0, scaleSize: 5 },
        avoidLabelOverlap: !0,
        animationType: 'expansion',
        animationDuration: 1e3,
        animationTypeUpdate: 'transition',
        animationEasingUpdate: 'cubicInOut',
        animationDurationUpdate: 500,
        animationEasing: 'cubicInOut',
      }),
      Db)
  function Db() {
    return (null !== Ib && Ib.apply(this, arguments)) || this
  }
  i1(function(t) {
    t.registerChartView(wb),
      t.registerSeriesModel(Ab),
      Qy('pie', t.registerAction),
      t.registerLayout(M(hb, 'pie')),
      t.registerProcessor({
        seriesType: 'pie',
        reset: function(t, e) {
          var i,
            o = e.findComponents({ mainType: 'legend' })
          o &&
            o.length &&
            (i = t.getData()).filterSelf(function(t) {
              for (var e = i.getName(t), n = 0; n < o.length; n++) if (!o[n].isSelected(e)) return !1
              return !0
            })
        },
      }),
      t.registerProcessor({
        seriesType: 'pie',
        reset: function(t, e) {
          var n = t.getData()
          n.filterSelf(function(t) {
            var e = n.mapDimension('value'),
              e = n.get(e, t)
            return !(H(e) && !isNaN(e) && e < 0)
          })
        },
      })
  })
  u(Pb, (kb = $g)),
    (Pb.prototype.getInitialData = function(t, e) {
      return Gv(null, this, { useEncodeDefaulter: !0 })
    }),
    (Pb.prototype.getProgressive = function() {
      var t = this.option.progressive
      return null == t ? (this.option.large ? 5e3 : this.get('progressive')) : t
    }),
    (Pb.prototype.getProgressiveThreshold = function() {
      var t = this.option.progressiveThreshold
      return null == t ? (this.option.large ? 1e4 : this.get('progressiveThreshold')) : t
    }),
    (Pb.prototype.brushSelector = function(t, e, n) {
      return n.point(e.getItemLayout(t))
    }),
    (Pb.prototype.getZLevelKey = function() {
      return this.getData().count() > this.getProgressiveThreshold() ? this.id : ''
    }),
    (Pb.type = 'series.scatter'),
    (Pb.dependencies = ['grid', 'polar', 'geo', 'singleAxis', 'calendar']),
    (Pb.defaultOption = {
      coordinateSystem: 'cartesian2d',
      z: 2,
      legendHoverLink: !0,
      symbolSize: 10,
      large: !1,
      largeThreshold: 2e3,
      itemStyle: { opacity: 0.8 },
      emphasis: { scale: !0 },
      clip: !0,
      select: { itemStyle: { borderColor: '#212121' } },
      universalTransition: { divideShape: 'clone' },
    })
  var kb,
    Lb = Pb
  function Pb() {
    var t = (null !== kb && kb.apply(this, arguments)) || this
    return (t.type = Pb.type), (t.hasSymbolVisual = !0), t
  }
  var Ob,
    Rb = function() {},
    Nb =
      (u(Eb, (Ob = j)),
      (Eb.prototype.getDefaultShape = function() {
        return new Rb()
      }),
      (Eb.prototype.reset = function() {
        ;(this.notClear = !1), (this._off = 0)
      }),
      (Eb.prototype.buildPath = function(t, e) {
        var n,
          i = e.points,
          o = e.size,
          r = this.symbolProxy,
          a = r.shape,
          e = t.getContext ? t.getContext() : t,
          s = e && o[0] < 4,
          l = this.softClipShape
        if (s) this._ctx = e
        else {
          for (this._ctx = null, n = this._off; n < i.length; ) {
            var u = i[n++],
              h = i[n++]
            isNaN(u) ||
              isNaN(h) ||
              (l && !l.contain(u, h)) ||
              ((a.x = u - o[0] / 2), (a.y = h - o[1] / 2), (a.width = o[0]), (a.height = o[1]), r.buildPath(t, a, !0))
          }
          this.incremental && ((this._off = n), (this.notClear = !0))
        }
      }),
      (Eb.prototype.afterBrush = function() {
        var t,
          e = this.shape,
          n = e.points,
          i = e.size,
          o = this._ctx,
          r = this.softClipShape
        if (o) {
          for (t = this._off; t < n.length; ) {
            var a = n[t++],
              s = n[t++]
            isNaN(a) || isNaN(s) || (r && !r.contain(a, s)) || o.fillRect(a - i[0] / 2, s - i[1] / 2, i[0], i[1])
          }
          this.incremental && ((this._off = t), (this.notClear = !0))
        }
      }),
      (Eb.prototype.findDataIndex = function(t, e) {
        for (
          var n = this.shape, i = n.points, n = n.size, o = Math.max(n[0], 4), r = Math.max(n[1], 4), a = i.length / 2 - 1;
          0 <= a;
          a--
        ) {
          var s = 2 * a,
            l = i[s] - o / 2,
            s = i[1 + s] - r / 2
          if (l <= t && s <= e && t <= l + o && e <= s + r) return a
        }
        return -1
      }),
      (Eb.prototype.contain = function(t, e) {
        var n = this.transformCoordToLocal(t, e),
          i = this.getBoundingRect()
        return (t = n[0]), (e = n[1]), i.contain(t, e) ? 0 <= (this.hoverDataIdx = this.findDataIndex(t, e)) : !(this.hoverDataIdx = -1)
      }),
      (Eb.prototype.getBoundingRect = function() {
        var t = this._rect
        if (!t) {
          for (
            var e = this.shape, n = e.points, e = e.size, i = e[0], e = e[1], o = 1 / 0, r = 1 / 0, a = -1 / 0, s = -1 / 0, l = 0;
            l < n.length;

          )
            var u = n[l++], h = n[l++], o = Math.min(u, o), a = Math.max(u, a), r = Math.min(h, r), s = Math.max(h, s)
          t = this._rect = new Y(o - i / 2, r - e / 2, a - o + i, s - r + e)
        }
        return t
      }),
      Eb)
  function Eb(t) {
    t = Ob.call(this, t) || this
    return (t._off = 0), (t.hoverDataIdx = -1), t
  }
  ;(Bb.prototype.updateData = function(t, e) {
    this._clear()
    var n = this._create()
    n.setShape({ points: t.getLayout('points') }), this._setCommon(n, t, e)
  }),
    (Bb.prototype.updateLayout = function(t) {
      var i = t.getLayout('points')
      this.group.eachChild(function(t) {
        var e, n
        null != t.startIndex && ((e = 2 * (t.endIndex - t.startIndex)), (n = 4 * t.startIndex * 2), (i = new Float32Array(i.buffer, n, e))),
          t.setShape('points', i),
          t.reset()
      })
    }),
    (Bb.prototype.incrementalPrepareUpdate = function(t) {
      this._clear()
    }),
    (Bb.prototype.incrementalUpdate = function(t, e, n) {
      var i,
        o,
        r = this._newAdded[0],
        a = e.getLayout('points'),
        s = r && r.shape.points
      s && s.length < 2e4
        ? ((i = s.length), (o = new Float32Array(i + a.length)).set(s), o.set(a, i), (r.endIndex = t.end), r.setShape({ points: o }))
        : ((this._newAdded = []),
          ((s = this._create()).startIndex = t.start),
          (s.endIndex = t.end),
          (s.incremental = !0),
          s.setShape({ points: a }),
          this._setCommon(s, e, n))
    }),
    (Bb.prototype.eachRendered = function(t) {
      this._newAdded[0] && t(this._newAdded[0])
    }),
    (Bb.prototype._create = function() {
      var t = new Nb({ cursor: 'default' })
      return (t.ignoreCoarsePointer = !0), this.group.add(t), this._newAdded.push(t), t
    }),
    (Bb.prototype._setCommon = function(n, t, e) {
      var i = t.hostModel,
        o = ((e = e || {}), t.getVisual('symbolSize')),
        o =
          (n.setShape('size', o instanceof Array ? o : [o, o]),
          (n.softClipShape = e.clipShape || null),
          (n.symbolProxy = dm(t.getVisual('symbol'), 0, 0, 0, 0)),
          (n.setColor = n.symbolProxy.setColor),
          n.shape.size[0] < 4),
        e =
          (n.useStyle(i.getModel('itemStyle').getItemStyle(o ? ['color', 'shadowBlur', 'shadowColor'] : ['color'])), t.getVisual('style')),
        o = e && e.fill,
        r = (o && n.setColor(o), D(n))
      ;(r.seriesIndex = i.seriesIndex),
        n.on('mousemove', function(t) {
          r.dataIndex = null
          var e = n.hoverDataIdx
          0 <= e && (r.dataIndex = e + (n.startIndex || 0))
        })
    }),
    (Bb.prototype.remove = function() {
      this._clear()
    }),
    (Bb.prototype._clear = function() {
      ;(this._newAdded = []), this.group.removeAll()
    })
  var zb = Bb
  function Bb() {
    this.group = new Yo()
  }
  u(Hb, (Vb = hy)),
    (Hb.prototype.render = function(t, e, n) {
      var i = t.getData()
      this._updateSymbolDraw(i, t).updateData(i, { clipShape: this._getClipShape(t) }), (this._finished = !0)
    }),
    (Hb.prototype.incrementalPrepareRender = function(t, e, n) {
      var i = t.getData()
      this._updateSymbolDraw(i, t).incrementalPrepareUpdate(i), (this._finished = !1)
    }),
    (Hb.prototype.incrementalRender = function(t, e, n) {
      this._symbolDraw.incrementalUpdate(t, e.getData(), { clipShape: this._getClipShape(e) }),
        (this._finished = t.end === e.getData().count())
    }),
    (Hb.prototype.updateTransform = function(t, e, n) {
      var i = t.getData()
      if ((this.group.dirty(), !this._finished || 1e4 < i.count())) return { update: !0 }
      t = rb('').reset(t, e, n)
      t.progress && t.progress({ start: 0, end: i.count(), count: i.count() }, i), this._symbolDraw.updateLayout(i)
    }),
    (Hb.prototype.eachRendered = function(t) {
      this._symbolDraw && this._symbolDraw.eachRendered(t)
    }),
    (Hb.prototype._getClipShape = function(t) {
      if (t.get('clip', !0)) return (t = t.coordinateSystem) && t.getArea && t.getArea(0.1)
    }),
    (Hb.prototype._updateSymbolDraw = function(t, e) {
      var n = this._symbolDraw,
        e = e.pipelineContext.large
      return (
        (n && e === this._isLargeDraw) ||
          (n && n.remove(), (n = this._symbolDraw = new (e ? zb : Cw)()), (this._isLargeDraw = e), this.group.removeAll()),
        this.group.add(n.group),
        n
      )
    }),
    (Hb.prototype.remove = function(t, e) {
      this._symbolDraw && this._symbolDraw.remove(!0), (this._symbolDraw = null)
    }),
    (Hb.prototype.dispose = function() {}),
    (Hb.type = 'scatter')
  var Vb,
    Fb = Hb
  function Hb() {
    var t = (null !== Vb && Vb.apply(this, arguments)) || this
    return (t.type = Hb.type), t
  }
  u(Ub, (Gb = g)),
    (Ub.type = 'grid'),
    (Ub.dependencies = ['xAxis', 'yAxis']),
    (Ub.layoutMode = 'box'),
    (Ub.defaultOption = {
      show: !1,
      z: 0,
      left: '10%',
      top: 60,
      right: '10%',
      bottom: 70,
      containLabel: !1,
      backgroundColor: 'rgba(0,0,0,0)',
      borderWidth: 1,
      borderColor: '#ccc',
    })
  var Gb,
    Wb = Ub
  function Ub() {
    return (null !== Gb && Gb.apply(this, arguments)) || this
  }
  u(Zb, (Yb = g)),
    (Zb.prototype.getCoordSysModel = function() {
      return this.getReferringComponents('grid', Vr).models[0]
    }),
    (Zb.type = 'cartesian2dAxis')
  var Yb,
    Xb = Zb
  function Zb() {
    return (null !== Yb && Yb.apply(this, arguments)) || this
  }
  st(Xb, J_)
  var Kr = {
      show: !0,
      z: 0,
      inverse: !1,
      name: '',
      nameLocation: 'end',
      nameRotate: null,
      nameTruncate: { maxWidth: null, ellipsis: '...', placeholder: '.' },
      nameTextStyle: {},
      nameGap: 15,
      silent: !1,
      triggerEvent: !1,
      tooltip: { show: !1 },
      axisPointer: {},
      axisLine: {
        show: !0,
        onZero: !0,
        onZeroAxisIndex: null,
        lineStyle: { color: '#6E7079', width: 1, type: 'solid' },
        symbol: ['none', 'none'],
        symbolSize: [10, 15],
      },
      axisTick: { show: !0, inside: !1, length: 5, lineStyle: { width: 1 } },
      axisLabel: { show: !0, inside: !1, rotate: 0, showMinLabel: null, showMaxLabel: null, margin: 8, fontSize: 12 },
      splitLine: { show: !0, showMinLine: !0, showMaxLine: !0, lineStyle: { color: ['#E0E6F1'], width: 1, type: 'solid' } },
      splitArea: { show: !1, areaStyle: { color: ['rgba(250,250,250,0.2)', 'rgba(210,219,238,0.2)'] } },
    },
    im = d(
      {
        boundaryGap: !0,
        deduplication: null,
        splitLine: { show: !1 },
        axisTick: { alignWithLabel: !1, interval: 'auto' },
        axisLabel: { interval: 'auto' },
      },
      Kr
    ),
    lm = d(
      {
        boundaryGap: [0, 0],
        axisLine: { show: 'auto' },
        axisTick: { show: 'auto' },
        splitNumber: 5,
        minorTick: { show: !1, splitNumber: 5, length: 3, lineStyle: {} },
        minorSplitLine: { show: !1, lineStyle: { color: '#F4F7FD', width: 1 } },
      },
      Kr
    ),
    qb = {
      category: im,
      value: lm,
      time: d(
        {
          splitNumber: 6,
          axisLabel: { showMinLabel: !1, showMaxLabel: !1, rich: { primary: { fontWeight: 'bold' } } },
          splitLine: { show: !1 },
        },
        lm
      ),
      log: z({ logBase: 10 }, lm),
    },
    jb = { value: 1, category: 1, time: 1, log: 1 }
  function Kb(r, a, s, l) {
    E(jb, function(t, o) {
      var e,
        n = d(d({}, qb[o], !0), l, !0),
        n =
          (u(i, (e = s)),
          (i.prototype.mergeDefaultAndTheme = function(t, e) {
            var n = Yp(this),
              i = n ? Zp(t) : {}
            d(t, e.getTheme().get(o + 'Axis')), d(t, this.getDefaultOption()), (t.type = $b(t)), n && Xp(t, i, n)
          }),
          (i.prototype.optionUpdated = function() {
            'category' === this.option.type && (this.__ordinalMeta = Xv.createByAxisModel(this))
          }),
          (i.prototype.getCategories = function(t) {
            var e = this.option
            if ('category' === e.type) return t ? e.data : this.__ordinalMeta.categories
          }),
          (i.prototype.getOrdinalMeta = function() {
            return this.__ordinalMeta
          }),
          (i.type = a + 'Axis.' + o),
          (i.defaultOption = n),
          i)
      function i() {
        var t = (null !== e && e.apply(this, arguments)) || this
        return (t.type = a + 'Axis.' + o), t
      }
      r.registerComponentModel(n)
    }),
      r.registerSubTypeDefaulter(a + 'Axis', $b)
  }
  function $b(t) {
    return t.type || (t.data ? 'category' : 'value')
  }
  function Qb(t) {
    ;(this.type = 'cartesian'), (this._dimList = []), (this._axes = {}), (this.name = t || '')
  }
  ;(Qb.prototype.getAxis = function(t) {
    return this._axes[t]
  }),
    (Qb.prototype.getAxes = function() {
      return B(
        this._dimList,
        function(t) {
          return this._axes[t]
        },
        this
      )
    }),
    (Qb.prototype.getAxesByScale = function(e) {
      return (
        (e = e.toLowerCase()),
        ht(this.getAxes(), function(t) {
          return t.scale.type === e
        })
      )
    }),
    (Qb.prototype.addAxis = function(t) {
      var e = t.dim
      ;(this._axes[e] = t), this._dimList.push(e)
    })
  var Jb = ['x', 'y']
  function tS(t) {
    return 'interval' === t.type || 'time' === t.type
  }
  u(iS, (eS = Qb)),
    (iS.prototype.calcAffineTransform = function() {
      this._transform = this._invTransform = null
      var t,
        e,
        n,
        i,
        o = this.getAxis('x').scale,
        r = this.getAxis('y').scale
      tS(o) &&
        tS(r) &&
        ((o = o.getExtent()),
        (r = r.getExtent()),
        (i = this.dataToPoint([o[0], r[0]])),
        (e = this.dataToPoint([o[1], r[1]])),
        (t = o[1] - o[0]),
        (n = r[1] - r[0]),
        t) &&
        n &&
        ((t = (e[0] - i[0]) / t),
        (e = (e[1] - i[1]) / n),
        (n = i[0] - o[0] * t),
        (o = i[1] - r[0] * e),
        (i = this._transform = [t, 0, 0, e, n, o]),
        (this._invTransform = Ve([], i)))
    }),
    (iS.prototype.getBaseAxis = function() {
      return this.getAxesByScale('ordinal')[0] || this.getAxesByScale('time')[0] || this.getAxis('x')
    }),
    (iS.prototype.containPoint = function(t) {
      var e = this.getAxis('x'),
        n = this.getAxis('y')
      return e.contain(e.toLocalCoord(t[0])) && n.contain(n.toLocalCoord(t[1]))
    }),
    (iS.prototype.containData = function(t) {
      return this.getAxis('x').containData(t[0]) && this.getAxis('y').containData(t[1])
    }),
    (iS.prototype.containZone = function(t, e) {
      var t = this.dataToPoint(t),
        e = this.dataToPoint(e),
        n = this.getArea(),
        e = new Y(t[0], t[1], e[0] - t[0], e[1] - t[1])
      return n.intersect(e)
    }),
    (iS.prototype.dataToPoint = function(t, e, n) {
      n = n || []
      var i,
        o = t[0],
        r = t[1]
      return this._transform && null != o && isFinite(o) && null != r && isFinite(r)
        ? te(n, t, this._transform)
        : ((t = this.getAxis('x')),
          (i = this.getAxis('y')),
          (n[0] = t.toGlobalCoord(t.dataToCoord(o, e))),
          (n[1] = i.toGlobalCoord(i.dataToCoord(r, e))),
          n)
    }),
    (iS.prototype.clampData = function(t, e) {
      var n = this.getAxis('x').scale,
        i = this.getAxis('y').scale,
        o = n.getExtent(),
        r = i.getExtent(),
        n = n.parse(t[0]),
        i = i.parse(t[1])
      return (
        ((e = e || [])[0] = Math.min(Math.max(Math.min(o[0], o[1]), n), Math.max(o[0], o[1]))),
        (e[1] = Math.min(Math.max(Math.min(r[0], r[1]), i), Math.max(r[0], r[1]))),
        e
      )
    }),
    (iS.prototype.pointToData = function(t, e) {
      var n,
        i,
        o = []
      return this._invTransform
        ? te(o, t, this._invTransform)
        : ((n = this.getAxis('x')),
          (i = this.getAxis('y')),
          (o[0] = n.coordToData(n.toLocalCoord(t[0]), e)),
          (o[1] = i.coordToData(i.toLocalCoord(t[1]), e)),
          o)
    }),
    (iS.prototype.getOtherAxis = function(t) {
      return this.getAxis('x' === t.dim ? 'y' : 'x')
    }),
    (iS.prototype.getArea = function(t) {
      t = t || 0
      var e = this.getAxis('x').getGlobalExtent(),
        n = this.getAxis('y').getGlobalExtent(),
        i = Math.min(e[0], e[1]) - t,
        o = Math.min(n[0], n[1]) - t,
        e = Math.max(e[0], e[1]) - i + t,
        n = Math.max(n[0], n[1]) - o + t
      return new Y(i, o, e, n)
    })
  var eS,
    nS = iS
  function iS() {
    var t = (null !== eS && eS.apply(this, arguments)) || this
    return (t.type = 'cartesian2d'), (t.dimensions = Jb), t
  }
  u(aS, (oS = sp)),
    (aS.prototype.isHorizontal = function() {
      var t = this.position
      return 'top' === t || 'bottom' === t
    }),
    (aS.prototype.getGlobalExtent = function(t) {
      var e = this.getExtent()
      return (e[0] = this.toGlobalCoord(e[0])), (e[1] = this.toGlobalCoord(e[1])), t && e[0] > e[1] && e.reverse(), e
    }),
    (aS.prototype.pointToData = function(t, e) {
      return this.coordToData(this.toLocalCoord(t['x' === this.dim ? 0 : 1]), e)
    }),
    (aS.prototype.setCategorySortInfo = function(t) {
      if ('category' !== this.type) return !1
      ;(this.model.option.categorySortInfo = t), this.scale.setSortInfo(t)
    })
  var oS,
    rS = aS
  function aS(t, e, n, i, o) {
    t = oS.call(this, t, e, n) || this
    return (t.index = 0), (t.type = i || 'value'), (t.position = o || 'bottom'), t
  }
  function sS(t, e, n) {
    n = n || {}
    var t = t.coordinateSystem,
      i = e.axis,
      o = {},
      r = i.getAxesOnZeroOf()[0],
      a = i.position,
      s = r ? 'onZero' : a,
      i = i.dim,
      t = t.getRect(),
      t = [t.x, t.x + t.width, t.y, t.y + t.height],
      l = { left: 0, right: 1, top: 0, bottom: 1, onZero: 2 },
      u = e.get('offset') || 0,
      u = 'x' === i ? [t[2] - u, t[3] + u] : [t[0] - u, t[1] + u],
      h =
        (r && ((h = r.toGlobalCoord(r.dataToCoord(0))), (u[l.onZero] = Math.max(Math.min(h, u[1]), u[0]))),
        (o.position = ['y' === i ? u[l[s]] : t[0], 'x' === i ? u[l[s]] : t[3]]),
        (o.rotation = (Math.PI / 2) * ('x' === i ? 0 : 1)),
        (o.labelDirection = o.tickDirection = o.nameDirection = { top: -1, bottom: 1, left: -1, right: 1 }[a]),
        (o.labelOffset = r ? u[l[a]] - u[l.onZero] : 0),
        e.get(['axisTick', 'inside']) && (o.tickDirection = -o.tickDirection),
        xt(n.labelInside, e.get(['axisLabel', 'inside'])) && (o.labelDirection = -o.labelDirection),
        e.get(['axisLabel', 'rotate']))
    return (o.labelRotate = 'top' === s ? -h : h), (o.z2 = 1), o
  }
  function lS(t) {
    return 'cartesian2d' === t.get('coordinateSystem')
  }
  function uS(i) {
    var o = { xAxisModel: null, yAxisModel: null }
    return (
      E(o, function(t, e) {
        var n = e.replace(/Model$/, ''),
          n = i.getReferringComponents(n, Vr).models[0]
        o[e] = n
      }),
      o
    )
  }
  var hS = Math.log
  ;(pS.prototype.getRect = function() {
    return this._rect
  }),
    (pS.prototype.update = function(t, e) {
      var n = this._axesMap
      function i(t) {
        var d,
          e = ct(t),
          n = e.length
        if (n) {
          for (var i = [], o = n - 1; 0 <= o; o--) {
            var r = t[+e[o]],
              a = r.model,
              s = r.scale
            jv(s) && a.get('alignTicks') && null == a.get('interval') ? i.push(r) : (Y_(s, a), jv(s) && (d = r))
          }
          i.length &&
            (d || Y_((d = i.pop()).scale, d.model),
            E(i, function(t) {
              var e = t.scale,
                t = t.model,
                n = d.scale,
                i = l_.prototype,
                o = i.getTicks.call(n),
                r = i.getTicks.call(n, !0),
                a = o.length - 1,
                n = i.getInterval.call(n),
                s = (t = U_(e, t)).extent,
                l = t.fixMin,
                t = t.fixMax,
                u =
                  ('log' === e.type && ((u = hS(e.base)), (s = [hS(s[0]) / u, hS(s[1]) / u])),
                  e.setExtent(s[0], s[1]),
                  e.calcNiceExtent({ splitNumber: a, fixMin: l, fixMax: t }),
                  i.getExtent.call(e)),
                h = (l && (s[0] = u[0]), t && (s[1] = u[1]), i.getInterval.call(e)),
                c = s[0],
                p = s[1]
              if (l && t) h = (p - c) / a
              else if (l) for (p = s[0] + h * a; p < s[1] && isFinite(p) && isFinite(s[1]); ) (h = $v(h)), (p = s[0] + h * a)
              else if (t) for (c = s[1] - h * a; c > s[0] && isFinite(c) && isFinite(s[0]); ) (h = $v(h)), (c = s[1] - h * a)
              else {
                u = (h = a < e.getTicks().length - 1 ? $v(h) : h) * a
                ;(c = or((p = Math.ceil(s[1] / h) * h) - u)) < 0 && 0 <= s[0]
                  ? ((c = 0), (p = or(u)))
                  : 0 < p && s[1] <= 0 && ((p = 0), (c = -or(u)))
              }
              ;(l = (o[0].value - r[0].value) / n),
                (t = (o[a].value - r[a].value) / n),
                i.setExtent.call(e, c + h * l, p + h * t),
                i.setInterval.call(e, h),
                (l || t) && i.setNiceExtent.call(e, c + h, p - h)
            }))
        }
      }
      this._updateScale(t, this.model), i(n.x), i(n.y)
      var o = {}
      E(n.x, function(t) {
        fS(n, 'y', t, o)
      }),
        E(n.y, function(t) {
          fS(n, 'x', t, o)
        }),
        this.resize(this.model, e)
    }),
    (pS.prototype.resize = function(t, e, n) {
      var i = t.getBoxLayoutParams(),
        n = !n && t.get('containLabel'),
        a = Up(i, { width: e.getWidth(), height: e.getHeight() }),
        o = ((this._rect = a), this._axesList)
      function r() {
        E(o, function(t) {
          var e,
            n,
            i = t.isHorizontal(),
            o = i ? [0, a.width] : [0, a.height],
            r = t.inverse ? 1 : 0
          t.setExtent(o[r], o[1 - r]),
            (o = t),
            (e = i ? a.x : a.y),
            (r = o.getExtent()),
            (n = r[0] + r[1]),
            (o.toGlobalCoord =
              'x' === o.dim
                ? function(t) {
                    return t + e
                  }
                : function(t) {
                    return n - t + e
                  }),
            (o.toLocalCoord =
              'x' === o.dim
                ? function(t) {
                    return t - e
                  }
                : function(t) {
                    return n - t + e
                  })
        })
      }
      r(),
        n &&
          (E(o, function(t) {
            var e, n, i
            t.model.get(['axisLabel', 'inside']) ||
              ((e = j_(t)) &&
                ((n = t.isHorizontal() ? 'height' : 'width'),
                (i = t.model.get(['axisLabel', 'margin'])),
                (a[n] -= e[n] + i),
                'top' === t.position ? (a.y += e.height + i) : 'left' === t.position && (a.x += e.width + i)))
          }),
          r()),
        E(this._coordsList, function(t) {
          t.calcAffineTransform()
        })
    }),
    (pS.prototype.getAxis = function(t, e) {
      t = this._axesMap[t]
      if (null != t) return t[e || 0]
    }),
    (pS.prototype.getAxes = function() {
      return this._axesList.slice()
    }),
    (pS.prototype.getCartesian = function(t, e) {
      if (null != t && null != e) return this._coordsMap['x' + t + 'y' + e]
      O(t) && ((e = t.yAxisIndex), (t = t.xAxisIndex))
      for (var n = 0, i = this._coordsList; n < i.length; n++)
        if (i[n].getAxis('x').index === t || i[n].getAxis('y').index === e) return i[n]
    }),
    (pS.prototype.getCartesians = function() {
      return this._coordsList.slice()
    }),
    (pS.prototype.convertToPixel = function(t, e, n) {
      e = this._findConvertTarget(e)
      return e.cartesian ? e.cartesian.dataToPoint(n) : e.axis ? e.axis.toGlobalCoord(e.axis.dataToCoord(n)) : null
    }),
    (pS.prototype.convertFromPixel = function(t, e, n) {
      e = this._findConvertTarget(e)
      return e.cartesian ? e.cartesian.pointToData(n) : e.axis ? e.axis.coordToData(e.axis.toLocalCoord(n)) : null
    }),
    (pS.prototype._findConvertTarget = function(t) {
      var e,
        n,
        i = t.seriesModel,
        o = t.xAxisModel || (i && i.getReferringComponents('xAxis', Vr).models[0]),
        r = t.yAxisModel || (i && i.getReferringComponents('yAxis', Vr).models[0]),
        t = t.gridModel,
        a = this._coordsList
      return (
        i
          ? C(a, (e = i.coordinateSystem)) < 0 && (e = null)
          : o && r
          ? (e = this.getCartesian(o.componentIndex, r.componentIndex))
          : o
          ? (n = this.getAxis('x', o.componentIndex))
          : r
          ? (n = this.getAxis('y', r.componentIndex))
          : t && t.coordinateSystem === this && (e = this._coordsList[0]),
        { cartesian: e, axis: n }
      )
    }),
    (pS.prototype.containPoint = function(t) {
      var e = this._coordsList[0]
      if (e) return e.containPoint(t)
    }),
    (pS.prototype._initCartesian = function(r, t, e) {
      var a = this,
        s = this,
        l = { left: !1, right: !1, top: !1, bottom: !1 },
        u = { x: {}, y: {} },
        h = { x: 0, y: 0 }
      function n(o) {
        return function(t, e) {
          var n, i
          dS(t, r) &&
            ((n = t.get('position')),
            'x' === o
              ? 'top' !== n && 'bottom' !== n && (n = l.bottom ? 'top' : 'bottom')
              : 'left' !== n && 'right' !== n && (n = l.left ? 'right' : 'left'),
            (l[n] = !0),
            (i = 'category' === (n = new rS(o, X_(t), [0, 0], t.get('type'), n)).type),
            (n.onBand = i && t.get('boundaryGap')),
            (n.inverse = t.get('inverse')),
            ((t.axis = n).model = t),
            (n.grid = s),
            (n.index = e),
            s._axesList.push(n),
            (u[o][e] = n),
            h[o]++)
        }
      }
      t.eachComponent('xAxis', n('x'), this),
        t.eachComponent('yAxis', n('y'), this),
        h.x && h.y
          ? E((this._axesMap = u).x, function(i, o) {
              E(u.y, function(t, e) {
                var e = 'x' + o + 'y' + e,
                  n = new nS(e)
                ;(n.master = a), (n.model = r), (a._coordsMap[e] = n), a._coordsList.push(n), n.addAxis(i), n.addAxis(t)
              })
            })
          : ((this._axesMap = {}), (this._axesList = []))
    }),
    (pS.prototype._updateScale = function(t, i) {
      function o(e, n) {
        E(Q_(e, n.dim), function(t) {
          n.scale.unionExtentFromData(e, t)
        })
      }
      E(this._axesList, function(t) {
        var e
        t.scale.setExtent(1 / 0, -1 / 0), 'category' === t.type && ((e = t.model.get('categorySortInfo')), t.scale.setSortInfo(e))
      }),
        t.eachSeries(function(t) {
          var e, n
          lS(t) &&
            ((n = (e = uS(t)).xAxisModel), (e = e.yAxisModel), dS(n, i)) &&
            dS(e, i) &&
            ((n = this.getCartesian(n.componentIndex, e.componentIndex)),
            (e = t.getData()),
            (t = n.getAxis('x')),
            (n = n.getAxis('y')),
            o(e, t),
            o(e, n))
        }, this)
    }),
    (pS.prototype.getTooltipAxes = function(n) {
      var i = [],
        o = []
      return (
        E(this.getCartesians(), function(t) {
          var e = null != n && 'auto' !== n ? t.getAxis(n) : t.getBaseAxis(),
            t = t.getOtherAxis(e)
          C(i, e) < 0 && i.push(e), C(o, t) < 0 && o.push(t)
        }),
        { baseAxes: i, otherAxes: o }
      )
    }),
    (pS.create = function(i, o) {
      var r = []
      return (
        i.eachComponent('grid', function(t, e) {
          var n = new pS(t, i, o)
          ;(n.name = 'grid_' + e), n.resize(t, o, !0), (t.coordinateSystem = n), r.push(n)
        }),
        i.eachSeries(function(t) {
          var e, n, i
          lS(t) &&
            ((e = (n = uS(t)).xAxisModel),
            (n = n.yAxisModel),
            (i = e.getCoordSysModel().coordinateSystem),
            (t.coordinateSystem = i.getCartesian(e.componentIndex, n.componentIndex)))
        }),
        r
      )
    }),
    (pS.dimensions = Jb)
  var cS = pS
  function pS(t, e, n) {
    ;(this.type = 'grid'),
      (this._coordsMap = {}),
      (this._coordsList = []),
      (this._axesMap = {}),
      (this._axesList = []),
      (this.axisPointerEnabled = !0),
      (this.dimensions = Jb),
      this._initCartesian(t, e, n),
      (this.model = t)
  }
  function dS(t, e) {
    return t.getCoordSysModel() === e
  }
  function fS(t, e, n, i) {
    n.getAxesOnZeroOf = function() {
      return o ? [o] : []
    }
    var o,
      r = t[e],
      t = n.model,
      e = t.get(['axisLine', 'onZero']),
      n = t.get(['axisLine', 'onZeroAxisIndex'])
    if (e) {
      if (null != n) gS(r[n]) && (o = r[n])
      else
        for (var a in r)
          if (r.hasOwnProperty(a) && gS(r[a]) && !i[s(r[a])]) {
            o = r[a]
            break
          }
      o && (i[s(o)] = !0)
    }
    function s(t) {
      return t.dim + '_' + t.index
    }
  }
  function gS(t) {
    return (
      t &&
      'category' !== t.type &&
      'time' !== t.type &&
      ((e = (t = (t = t).scale.getExtent())[0]), (t = t[1]), !((0 < e && 0 < t) || (e < 0 && t < 0)))
    )
    var e
  }
  var yS = Math.PI,
    mS =
      ((vS.prototype.hasBuilder = function(t) {
        return !!_S[t]
      }),
      (vS.prototype.add = function(t) {
        _S[t](this.opt, this.axisModel, this.group, this._transformGroup)
      }),
      (vS.prototype.getGroup = function() {
        return this.group
      }),
      (vS.innerTextLayout = function(t, e, n) {
        var i,
          e = hr(e - t),
          t = cr(e)
            ? ((i = 0 < n ? 'top' : 'bottom'), 'center')
            : cr(e - yS)
            ? ((i = 0 < n ? 'bottom' : 'top'), 'center')
            : ((i = 'middle'), 0 < e && e < yS ? (0 < n ? 'right' : 'left') : 0 < n ? 'left' : 'right')
        return { rotation: e, textAlign: t, textVerticalAlign: i }
      }),
      (vS.makeAxisEventDataBase = function(t) {
        var e = { componentType: t.mainType, componentIndex: t.componentIndex }
        return (e[t.mainType + 'Index'] = t.componentIndex), e
      }),
      (vS.isLabelSilent = function(t) {
        var e = t.get('tooltip')
        return t.get('silent') || !(t.get('triggerEvent') || (e && e.show))
      }),
      vS)
  function vS(t, e) {
    ;(this.group = new Yo()),
      (this.opt = e),
      (this.axisModel = t),
      z(e, {
        labelOffset: 0,
        nameDirection: 1,
        tickDirection: 1,
        labelDirection: 1,
        silent: !0,
        handleAutoShown: function() {
          return !0
        },
      })
    t = new Yo({ x: e.position[0], y: e.position[1], rotation: e.rotation })
    t.updateTransform(), (this._transformGroup = t)
  }
  var _S = {
    axisLine: function(i, t, o, e) {
      var r,
        a,
        s,
        l,
        u,
        h,
        c,
        n = t.get(['axisLine', 'show'])
      ;(n = 'auto' === n && i.handleAutoShown ? i.handleAutoShown('axisLine') : n) &&
        ((n = t.axis.getExtent()),
        (e = e.transform),
        (r = [n[0], 0]),
        (a = [n[1], 0]),
        (s = a[0] < r[0]),
        e && (te(r, r, e), te(a, a, e)),
        (l = P({ lineCap: 'round' }, t.getModel(['axisLine', 'lineStyle']).getLineStyle())),
        nc(
          (n = new ih({
            shape: { x1: r[0], y1: r[1], x2: a[0], y2: a[1] },
            style: l,
            strokeContainThreshold: i.strokeContainThreshold || 5,
            silent: !0,
            z2: 1,
          })).shape,
          n.style.lineWidth
        ),
        (n.anid = 'line'),
        o.add(n),
        null != (u = t.get(['axisLine', 'symbol']))) &&
        ((e = t.get(['axisLine', 'symbolSize'])),
        F(u) && (u = [u, u]),
        (F(e) || H(e)) && (e = [e, e]),
        (n = gm(t.get(['axisLine', 'symbolOffset']) || 0, e)),
        (h = e[0]),
        (c = e[1]),
        E(
          [
            { rotate: i.rotation + Math.PI / 2, offset: n[0], r: 0 },
            { rotate: i.rotation - Math.PI / 2, offset: n[1], r: Math.sqrt((r[0] - a[0]) * (r[0] - a[0]) + (r[1] - a[1]) * (r[1] - a[1])) },
          ],
          function(t, e) {
            var n
            'none' !== u[e] &&
              null != u[e] &&
              ((e = dm(u[e], -h / 2, -c / 2, h, c, l.stroke, !0)),
              (n = t.r + t.offset),
              e.attr({
                rotation: t.rotate,
                x: (t = s ? a : r)[0] + n * Math.cos(i.rotation),
                y: t[1] - n * Math.sin(i.rotation),
                silent: !0,
                z2: 11,
              }),
              o.add(e))
          }
        ))
    },
    axisTickLabel: function(t, e, n, i) {
      var o,
        r,
        a,
        s,
        l,
        u = (function(t, e, n, i) {
          var o = n.axis,
            r = n.getModel('axisTick'),
            a = r.get('show')
          'auto' === a && i.handleAutoShown && (a = i.handleAutoShown('axisTick'))
          if (a && !o.scale.isBlank()) {
            for (
              var a = r.getModel('lineStyle'),
                i = i.tickDirection * r.get('length'),
                s = SS(
                  o.getTicksCoords(),
                  e.transform,
                  i,
                  z(a.getLineStyle(), { stroke: n.get(['axisLine', 'lineStyle', 'color']) }),
                  'ticks'
                ),
                l = 0;
              l < s.length;
              l++
            )
              t.add(s[l])
            return s
          }
        })(n, i, e, t),
        h = (function(g, y, m, v) {
          var _,
            x,
            w,
            b,
            S,
            M,
            T,
            I,
            C = m.axis,
            t = xt(v.axisLabelShow, m.get(['axisLabel', 'show']))
          if (t && !C.scale.isBlank())
            return (
              (_ = m.getModel('axisLabel')),
              (x = _.get('margin')),
              (w = C.getViewLabels()),
              (t = ((xt(v.labelRotate, _.get('rotate')) || 0) * yS) / 180),
              (b = mS.innerTextLayout(v.rotation, t, v.labelDirection)),
              (S = m.getCategories && m.getCategories(!0)),
              (M = []),
              (T = mS.isLabelSilent(m)),
              (I = m.get('triggerEvent')),
              E(w, function(t, e) {
                var n = 'ordinal' === C.scale.type ? C.scale.getRawOrdinalNumber(t.tickValue) : t.tickValue,
                  i = t.formattedLabel,
                  o = t.rawLabel,
                  r = _,
                  a =
                    (r = S && S[n] && O((a = S[n])) && a.textStyle ? new Uc(a.textStyle, _, m.ecModel) : r).getTextColor() ||
                    m.get(['axisLine', 'lineStyle', 'color']),
                  s = C.dataToCoord(n),
                  l = r.getShallow('align', !0) || b.textAlign,
                  u = R(r.getShallow('alignMinLabel', !0), l),
                  h = R(r.getShallow('alignMaxLabel', !0), l),
                  c = r.getShallow('verticalAlign', !0) || r.getShallow('baseline', !0) || b.textVerticalAlign,
                  p = R(r.getShallow('verticalAlignMinLabel', !0), c),
                  d = R(r.getShallow('verticalAlignMaxLabel', !0), c),
                  f = new Hs({
                    x: s,
                    y: v.labelOffset + v.labelDirection * x,
                    rotation: b.rotation,
                    silent: T,
                    z2: 10 + (t.level || 0),
                    style: bc(r, {
                      text: i,
                      align: 0 === e ? u : e === w.length - 1 ? h : l,
                      verticalAlign: 0 === e ? p : e === w.length - 1 ? d : c,
                      fill: A(a) ? a('category' === C.type ? o : 'value' === C.type ? n + '' : n, e) : a,
                    }),
                  })
                ;(f.anid = 'label_' + n),
                  dc({
                    el: f,
                    componentModel: m,
                    itemName: i,
                    formatterParamsExtra: {
                      isTruncated: function() {
                        return f.isTruncated
                      },
                      value: o,
                      tickIndex: e,
                    },
                  }),
                  I &&
                    (((s = mS.makeAxisEventDataBase(m)).targetType = 'axisLabel'),
                    (s.value = o),
                    (s.tickIndex = e),
                    'category' === C.type && (s.dataIndex = n),
                    (D(f).eventData = s)),
                  y.add(f),
                  f.updateTransform(),
                  M.push(f),
                  g.add(f),
                  f.decomposeTransform()
              }),
              M
            )
        })(n, i, e, t),
        c =
          ((r = h),
          (u = u),
          $_((o = e).axis) ||
            ((d = o.get(['axisLabel', 'showMinLabel'])),
            (o = o.get(['axisLabel', 'showMaxLabel'])),
            (u = u || []),
            (y = (r = r || [])[0]),
            (f = r[1]),
            (a = r[r.length - 1]),
            (r = r[r.length - 2]),
            (s = u[0]),
            (g = u[1]),
            (l = u[u.length - 1]),
            (u = u[u.length - 2]),
            !1 === d ? (xS(y), xS(s)) : wS(y, f) && (d ? (xS(f), xS(g)) : (xS(y), xS(s))),
            !1 === o ? (xS(a), xS(l)) : wS(r, a) && (o ? (xS(r), xS(u)) : (xS(a), xS(l)))),
          n),
        p = i,
        d = e,
        f = t.tickDirection,
        g = d.axis,
        y = d.getModel('minorTick')
      if (y.get('show') && !g.scale.isBlank()) {
        var m = g.getMinorTicksCoords()
        if (m.length)
          for (
            var g = y.getModel('lineStyle'),
              v = f * y.get('length'),
              _ = z(g.getLineStyle(), z(d.getModel('axisTick').getLineStyle(), { stroke: d.get(['axisLine', 'lineStyle', 'color']) })),
              x = 0;
            x < m.length;
            x++
          )
            for (var w = SS(m[x], p.transform, v, _, 'minorticks_' + x), b = 0; b < w.length; b++) c.add(w[b])
      }
      e.get(['axisLabel', 'hideOverlap']) &&
        ix(
          tx(
            B(h, function(t) {
              return { label: t, priority: t.z2, defaultAttr: { ignore: t.ignore } }
            })
          )
        )
    },
    axisName: function(t, e, n, i) {
      var o,
        r,
        a,
        s,
        l,
        u,
        h,
        c,
        p = xt(t.axisName, e.get('name'))
      p &&
        ((c = e.get('nameLocation')),
        (l = t.nameDirection),
        (o = e.getModel('nameTextStyle')),
        (u = e.get('nameGap') || 0),
        (r = (h = e.axis.getExtent())[0] > h[1] ? -1 : 1),
        (r = ['start' === c ? h[0] - r * u : 'end' === c ? h[1] + r * u : (h[0] + h[1]) / 2, bS(c) ? t.labelOffset + l * u : 0]),
        null != (u = e.get('nameRotate')) && (u = (u * yS) / 180),
        bS(c)
          ? (a = mS.innerTextLayout(t.rotation, null != u ? u : t.rotation, l))
          : ((a = (function(t, e, n, i) {
              var o,
                n = hr(n - t),
                t = i[0] > i[1],
                i = ('start' === e && !t) || ('start' !== e && t)
              e = cr(n - yS / 2)
                ? ((o = i ? 'bottom' : 'top'), 'center')
                : cr(n - 1.5 * yS)
                ? ((o = i ? 'top' : 'bottom'), 'center')
                : ((o = 'middle'), n < 1.5 * yS && yS / 2 < n ? (i ? 'left' : 'right') : i ? 'right' : 'left')
              return { rotation: n, textAlign: e, textVerticalAlign: o }
            })(t.rotation, c, u || 0, h)),
            null != (s = t.axisNameAvailableWidth) && ((s = Math.abs(s / Math.sin(a.rotation))), isFinite(s) || (s = null))),
        (l = o.getFont()),
        (u = (c = e.get('nameTruncate', !0) || {}).ellipsis),
        (h = xt(t.nameTruncateMaxWidth, c.maxWidth, s)),
        dc({
          el: (t = new Hs({
            x: r[0],
            y: r[1],
            rotation: a.rotation,
            silent: mS.isLabelSilent(e),
            style: bc(o, {
              text: p,
              font: l,
              overflow: 'truncate',
              width: h,
              ellipsis: u,
              fill: o.getTextColor() || e.get(['axisLine', 'lineStyle', 'color']),
              align: o.get('align') || a.textAlign,
              verticalAlign: o.get('verticalAlign') || a.textVerticalAlign,
            }),
            z2: 1,
          })),
          componentModel: e,
          itemName: p,
        }),
        (t.__fullText = p),
        (t.anid = 'name'),
        e.get('triggerEvent') && (((c = mS.makeAxisEventDataBase(e)).targetType = 'axisName'), (c.name = p), (D(t).eventData = c)),
        i.add(t),
        t.updateTransform(),
        n.add(t),
        t.decomposeTransform())
    },
  }
  function xS(t) {
    t && (t.ignore = !0)
  }
  function wS(t, e) {
    var n,
      i = t && t.getBoundingRect().clone(),
      o = e && e.getBoundingRect().clone()
    if (i && o)
      return (
        ze((n = Oe([])), n, -t.rotation),
        i.applyTransform(Ne([], n, t.getLocalTransform())),
        o.applyTransform(Ne([], n, e.getLocalTransform())),
        i.intersect(o)
      )
  }
  function bS(t) {
    return 'middle' === t || 'center' === t
  }
  function SS(t, e, n, i, o) {
    for (var r = [], a = [], s = [], l = 0; l < t.length; l++) {
      var u = t[l].coord,
        u =
          ((a[0] = u),
          (s[(a[1] = 0)] = u),
          (s[1] = n),
          e && (te(a, a, e), te(s, s, e)),
          new ih({ shape: { x1: a[0], y1: a[1], x2: s[0], y2: s[1] }, style: i, z2: 2, autoBatch: !0, silent: !0 }))
      nc(u.shape, u.style.lineWidth), (u.anid = o + '_' + t[l].tickValue), r.push(u)
    }
    return r
  }
  function MS(t, e) {
    var h,
      c,
      o,
      p,
      d,
      f,
      r,
      n = { axesInfo: {}, seriesInvolved: !1, coordSysAxesInfo: {}, coordSysMap: {} }
    return (
      (h = n),
      (e = e),
      (o = (c = t).getComponent('tooltip')),
      (p = c.getComponent('axisPointer')),
      (d = p.get('link', !0) || []),
      (f = []),
      E(e.getCoordinateSystems(), function(s) {
        var l, u, t, e, n
        function i(t, e, n) {
          var i,
            o,
            r = n.model.getModel('axisPointer', p),
            a = r.get('show')
          a &&
            ('auto' !== a || t || CS(r)) &&
            (null == e && (e = r.get('triggerTooltip')),
            (a = (r = t
              ? (function(t, e, n, i, o, r) {
                  var a = e.getModel('axisPointer'),
                    s = {}
                  E(
                    [
                      'type',
                      'snap',
                      'lineStyle',
                      'shadowStyle',
                      'label',
                      'animation',
                      'animationDurationUpdate',
                      'animationEasingUpdate',
                      'z',
                    ],
                    function(t) {
                      s[t] = y(a.get(t))
                    }
                  ),
                    (s.snap = 'category' !== t.type && !!r),
                    'cross' === a.get('type') && (s.type = 'line')
                  e = s.label || (s.label = {})
                  null == e.show && (e.show = !1),
                    'cross' === o &&
                      ((o = a.get(['label', 'show'])),
                      (e.show = null == o || o),
                      r || ((o = s.lineStyle = a.get('crossStyle')) && z(e, o.textStyle)))
                  return t.model.getModel('axisPointer', new Uc(s, n, i))
                })(n, u, p, c, t, e)
              : r).get('snap')),
            (t = r.get('triggerEmphasis')),
            (i = AS(n.model)),
            (o = e || a || 'category' === n.type),
            (e = h.axesInfo[i] = {
              key: i,
              axis: n,
              coordSys: s,
              axisPointerModel: r,
              triggerTooltip: e,
              triggerEmphasis: t,
              involveSeries: o,
              snap: a,
              useHandle: CS(r),
              seriesModels: [],
              linkGroup: null,
            }),
            (l[i] = e),
            (h.seriesInvolved = h.seriesInvolved || o),
            null !=
              (t = (function(t, e) {
                for (var n = e.model, i = e.dim, o = 0; o < t.length; o++) {
                  var r = t[o] || {}
                  if (TS(r[i + 'AxisId'], n.id) || TS(r[i + 'AxisIndex'], n.componentIndex) || TS(r[i + 'AxisName'], n.name)) return o
                }
              })(d, n))) &&
            (((a = f[t] || (f[t] = { axesInfo: {} })).axesInfo[i] = e), (a.mapper = d[t].mapper), (e.linkGroup = a))
        }
        s.axisPointerEnabled &&
          ((t = AS(s.model)),
          (l = h.coordSysAxesInfo[t] = {}),
          (u = (h.coordSysMap[t] = s).model.getModel('tooltip', o)),
          E(s.getAxes(), M(i, !1, null)),
          s.getTooltipAxes) &&
          o &&
          u.get('show') &&
          ((t = 'axis' === u.get('trigger')),
          (e = 'cross' === u.get(['axisPointer', 'type'])),
          (n = s.getTooltipAxes(u.get(['axisPointer', 'axis']))),
          (t || e) && E(n.baseAxes, M(i, !e || 'cross', t)),
          e) &&
          E(n.otherAxes, M(i, 'cross', !1))
      }),
      n.seriesInvolved &&
        ((r = n),
        t.eachSeries(function(n) {
          var i = n.coordinateSystem,
            t = n.get(['tooltip', 'trigger'], !0),
            e = n.get(['tooltip', 'show'], !0)
          i &&
            'none' !== t &&
            !1 !== t &&
            'item' !== t &&
            !1 !== e &&
            !1 !== n.get(['axisPointer', 'show'], !0) &&
            E(r.coordSysAxesInfo[AS(i.model)], function(t) {
              var e = t.axis
              i.getAxis(e.dim) === e &&
                (t.seriesModels.push(n), null == t.seriesDataCount && (t.seriesDataCount = 0), (t.seriesDataCount += n.getData().count()))
            })
        })),
      n
    )
  }
  function TS(t, e) {
    return 'all' === t || (V(t) && 0 <= C(t, e)) || t === e
  }
  function IS(t) {
    var e = (t.ecModel.getComponent('axisPointer') || {}).coordSysAxesInfo
    return e && e.axesInfo[AS(t)]
  }
  function CS(t) {
    return !!t.get(['handle', 'show'])
  }
  function AS(t) {
    return t.type + '||' + t.id
  }
  var DS,
    kS = {},
    LS =
      (u(PS, (DS = ry)),
      (PS.prototype.render = function(t, e, n, i) {
        var o, r, a, s, l, u
        this.axisPointerClass &&
          (o = IS((o = t))) &&
          ((l = o.axisPointerModel),
          (r = o.axis.scale),
          (a = l.option),
          (u = l.get('status')),
          null != (s = l.get('value')) && (s = r.parse(s)),
          (l = CS(l)),
          null == u && (a.status = l ? 'show' : 'hide'),
          (u = r.getExtent().slice())[0] > u[1] && u.reverse(),
          (s = null == s || s > u[1] ? u[1] : s) < u[0] && (s = u[0]),
          (a.value = s),
          l) &&
          (a.status = o.axis.scale.isBlank() ? 'hide' : 'show'),
          DS.prototype.render.apply(this, arguments),
          this._doUpdateAxisPointerClass(t, n, !0)
      }),
      (PS.prototype.updateAxisPointer = function(t, e, n, i) {
        this._doUpdateAxisPointerClass(t, n, !1)
      }),
      (PS.prototype.remove = function(t, e) {
        var n = this._axisPointer
        n && n.remove(e)
      }),
      (PS.prototype.dispose = function(t, e) {
        this._disposeAxisPointer(e), DS.prototype.dispose.apply(this, arguments)
      }),
      (PS.prototype._doUpdateAxisPointerClass = function(t, e, n) {
        var i,
          o = PS.getAxisPointerClass(this.axisPointerClass)
        o &&
          ((i = (i = IS((i = t))) && i.axisPointerModel)
            ? (this._axisPointer || (this._axisPointer = new o())).render(t, i, e, n)
            : this._disposeAxisPointer(e))
      }),
      (PS.prototype._disposeAxisPointer = function(t) {
        this._axisPointer && this._axisPointer.dispose(t), (this._axisPointer = null)
      }),
      (PS.registerAxisPointerClass = function(t, e) {
        kS[t] = e
      }),
      (PS.getAxisPointerClass = function(t) {
        return t && kS[t]
      }),
      (PS.type = 'axis'),
      PS)
  function PS() {
    var t = (null !== DS && DS.apply(this, arguments)) || this
    return (t.type = PS.type), t
  }
  var OS = Nr()
  var RS,
    NS = ['axisLine', 'axisTickLabel', 'axisName'],
    ES = ['splitArea', 'splitLine', 'minorSplitLine'],
    yh =
      (u(zS, (RS = LS)),
      (zS.prototype.render = function(i, t, e, n) {
        this.group.removeAll()
        var o,
          r,
          a = this._axisGroup
        ;(this._axisGroup = new Yo()),
          this.group.add(this._axisGroup),
          i.get('show') &&
            ((r = sS((o = i.getCoordSysModel()), i)),
            (r = new mS(
              i,
              P(
                {
                  handleAutoShown: function(t) {
                    for (var e = o.coordinateSystem.getCartesians(), n = 0; n < e.length; n++)
                      if (jv(e[n].getOtherAxis(i.axis).scale)) return !0
                    return !1
                  },
                },
                r
              )
            )),
            E(NS, r.add, r),
            this._axisGroup.add(r.getGroup()),
            E(
              ES,
              function(t) {
                i.get([t, 'show']) && VS[t](this, this._axisGroup, i, o)
              },
              this
            ),
            (n && 'changeAxisOrder' === n.type && n.isInitSort) || lc(a, this._axisGroup, i),
            RS.prototype.render.call(this, i, t, e, n))
      }),
      (zS.prototype.remove = function() {
        OS(this).splitAreaColors = null
      }),
      (zS.type = 'cartesianAxis'),
      zS)
  function zS() {
    var t = (null !== RS && RS.apply(this, arguments)) || this
    return (t.type = zS.type), (t.axisPointerClass = 'CartesianAxisPointer'), t
  }
  var BS,
    VS = {
      splitLine: function(t, e, n, i) {
        var o = n.axis
        if (!o.scale.isBlank())
          for (
            var n = n.getModel('splitLine'),
              r = n.getModel('lineStyle'),
              a = r.get('color'),
              s = !1 !== n.get('showMinLine'),
              l = !1 !== n.get('showMaxLine'),
              a = V(a) ? a : [a],
              u = i.coordinateSystem.getRect(),
              h = o.isHorizontal(),
              c = 0,
              p = o.getTicksCoords({ tickModel: n }),
              d = [],
              f = [],
              g = r.getLineStyle(),
              y = 0;
            y < p.length;
            y++
          ) {
            var m,
              v = o.toGlobalCoord(p[y].coord)
            ;(0 === y && !s) ||
              (y === p.length - 1 && !l) ||
              ((m = p[y].tickValue),
              h
                ? ((d[0] = v), (d[1] = u.y), (f[0] = v), (f[1] = u.y + u.height))
                : ((d[0] = u.x), (d[1] = v), (f[0] = u.x + u.width), (f[1] = v)),
              (v = c++ % a.length),
              nc(
                (m = new ih({
                  anid: null != m ? 'line_' + m : null,
                  autoBatch: !0,
                  shape: { x1: d[0], y1: d[1], x2: f[0], y2: f[1] },
                  style: z({ stroke: a[v] }, g),
                  silent: !0,
                })).shape,
                g.lineWidth
              ),
              e.add(m))
          }
      },
      minorSplitLine: function(t, e, n, i) {
        var o = n.axis,
          n = n.getModel('minorSplitLine').getModel('lineStyle'),
          r = i.coordinateSystem.getRect(),
          a = o.isHorizontal(),
          s = o.getMinorTicksCoords()
        if (s.length)
          for (var l = [], u = [], h = n.getLineStyle(), c = 0; c < s.length; c++)
            for (var p = 0; p < s[c].length; p++) {
              var d = o.toGlobalCoord(s[c][p].coord),
                d =
                  (a
                    ? ((l[0] = d), (l[1] = r.y), (u[0] = d), (u[1] = r.y + r.height))
                    : ((l[0] = r.x), (l[1] = d), (u[0] = r.x + r.width), (u[1] = d)),
                  new ih({
                    anid: 'minor_line_' + s[c][p].tickValue,
                    autoBatch: !0,
                    shape: { x1: l[0], y1: l[1], x2: u[0], y2: u[1] },
                    style: h,
                    silent: !0,
                  }))
              nc(d.shape, h.lineWidth), e.add(d)
            }
      },
      splitArea: function(t, e, n, i) {
        var o = e,
          e = i,
          r = (i = n).axis
        if (!r.scale.isBlank()) {
          var i = i.getModel('splitArea'),
            n = i.getModel('areaStyle'),
            a = n.get('color'),
            s = e.coordinateSystem.getRect(),
            l = r.getTicksCoords({ tickModel: i, clamp: !0 })
          if (l.length) {
            var u = a.length,
              h = OS(t).splitAreaColors,
              c = N(),
              p = 0
            if (h)
              for (var d = 0; d < l.length; d++) {
                var f = h.get(l[d].tickValue)
                if (null != f) {
                  p = (f + (u - 1) * d) % u
                  break
                }
              }
            for (var g = r.toGlobalCoord(l[0].coord), y = n.getAreaStyle(), a = V(a) ? a : [a], d = 1; d < l.length; d++) {
              var m = r.toGlobalCoord(l[d].coord),
                v = void 0,
                _ = void 0,
                x = void 0,
                w = void 0,
                g = r.isHorizontal()
                  ? ((v = g), (_ = s.y), (w = s.height), v + (x = m - v))
                  : ((v = s.x), (_ = g), (x = s.width), _ + (w = m - _)),
                m = l[d - 1].tickValue
              null != m && c.set(m, p),
                o.add(
                  new Es({
                    anid: null != m ? 'area_' + m : null,
                    shape: { x: v, y: _, width: x, height: w },
                    style: z({ fill: a[p] }, y),
                    autoBatch: !0,
                    silent: !0,
                  })
                ),
                (p = (p + 1) % u)
            }
            OS(t).splitAreaColors = c
          }
        }
      },
    },
    FS = (u(HS, (BS = yh)), (HS.type = 'xAxis'), HS)
  function HS() {
    var t = (null !== BS && BS.apply(this, arguments)) || this
    return (t.type = HS.type), t
  }
  u(US, (GS = yh)), (US.type = 'yAxis')
  var GS,
    WS = US
  function US() {
    var t = (null !== GS && GS.apply(this, arguments)) || this
    return (t.type = FS.type), t
  }
  u(ZS, (YS = ry)),
    (ZS.prototype.render = function(t, e) {
      this.group.removeAll(),
        t.get('show') &&
          this.group.add(
            new Es({
              shape: t.coordinateSystem.getRect(),
              style: z({ fill: t.get('backgroundColor') }, t.getItemStyle()),
              silent: !0,
              z2: -1,
            })
          )
    }),
    (ZS.type = 'grid')
  var YS,
    XS = ZS
  function ZS() {
    var t = (null !== YS && YS.apply(this, arguments)) || this
    return (t.type = 'grid'), t
  }
  var qS = { offset: 0 }
  function jS(t) {
    t.registerComponentView(XS),
      t.registerComponentModel(Wb),
      t.registerCoordinateSystem('cartesian2d', cS),
      Kb(t, 'x', Xb, qS),
      Kb(t, 'y', Xb, qS),
      t.registerComponentView(FS),
      t.registerComponentView(WS),
      t.registerPreprocessor(function(t) {
        t.xAxis && t.yAxis && !t.grid && (t.grid = {})
      })
  }
  i1(function(t) {
    i1(jS), t.registerSeriesModel(Lb), t.registerChartView(Fb), t.registerLayout(rb('scatter'))
  })
  var KS,
    $S = function() {
      ;(this.angle = 0), (this.width = 10), (this.r = 10), (this.x = 0), (this.y = 0)
    },
    QS =
      (u(JS, (KS = j)),
      (JS.prototype.getDefaultShape = function() {
        return new $S()
      }),
      (JS.prototype.buildPath = function(t, e) {
        var n = Math.cos,
          i = Math.sin,
          o = e.r,
          r = e.width,
          a = e.angle,
          s = e.x - n(a) * r * (o / 3 <= r ? 1 : 2),
          l = e.y - i(a) * r * (o / 3 <= r ? 1 : 2),
          a = e.angle - Math.PI / 2
        t.moveTo(s, l),
          t.lineTo(e.x + n(a) * r, e.y + i(a) * r),
          t.lineTo(e.x + n(e.angle) * o, e.y + i(e.angle) * o),
          t.lineTo(e.x - n(a) * r, e.y - i(a) * r),
          t.lineTo(s, l)
      }),
      JS)
  function JS(t) {
    t = KS.call(this, t) || this
    return (t.type = 'pointer'), t
  }
  function tM(t, e) {
    var n = null == t ? '' : t + ''
    return e && (F(e) ? (n = e.replace('{value}', n)) : A(e) && (n = e(t))), n
  }
  u(iM, (eM = hy)),
    (iM.prototype.render = function(t, e, n) {
      this.group.removeAll()
      var i,
        o,
        r,
        a,
        s = t.get(['axisLine', 'lineStyle', 'color']),
        l =
          ((o = n),
          (r = (i = t).get('center')),
          (a = o.getWidth()),
          (l = o.getHeight()),
          (a = Math.min(a, l)),
          { cx: W(r[0], o.getWidth()), cy: W(r[1], o.getHeight()), r: W(i.get('radius'), a / 2) })
      this._renderMain(t, e, n, s, l), (this._data = t.getData())
    }),
    (iM.prototype.dispose = function() {}),
    (iM.prototype._renderMain = function(t, e, n, i, o) {
      for (
        var r = this.group,
          a = t.get('clockwise'),
          s = (-t.get('startAngle') / 180) * Math.PI,
          l = (-t.get('endAngle') / 180) * Math.PI,
          u = t.getModel('axisLine'),
          h = u.get('roundCap') ? Hx : Vu,
          c = u.get('show'),
          p = u.getModel('lineStyle'),
          d = p.get('width'),
          u = [s, l],
          f = (es(u, !a), (l = u[1]) - (s = u[0])),
          g = s,
          y = [],
          m = 0;
        c && m < i.length;
        m++
      ) {
        var v = new h({
          shape: {
            startAngle: g,
            endAngle: (l = s + f * Math.min(Math.max(i[m][0], 0), 1)),
            cx: o.cx,
            cy: o.cy,
            clockwise: a,
            r0: o.r - d,
            r: o.r,
          },
          silent: !0,
        })
        v.setStyle({ fill: i[m][1] }), v.setStyle(p.getLineStyle(['color', 'width'])), y.push(v), (g = l)
      }
      y.reverse(),
        E(y, function(t) {
          return r.add(t)
        })
      function _(t) {
        if (t <= 0) return i[0][1]
        for (var e = 0; e < i.length; e++) if (i[e][0] >= t && (0 === e ? 0 : i[e - 1][0]) < t) return i[e][1]
        return i[e - 1][1]
      }
      this._renderTicks(t, e, n, _, o, s, l, a, d),
        this._renderTitleAndDetail(t, e, n, _, o),
        this._renderAnchor(t, o),
        this._renderPointer(t, e, n, _, o, s, l, a, d)
    }),
    (iM.prototype._renderTicks = function(t, E, z, e, n, i, o, B, r) {
      for (
        var a,
          s,
          l,
          u,
          h,
          c,
          p,
          d = this.group,
          f = n.cx,
          g = n.cy,
          y = n.r,
          m = +t.get('min'),
          V = +t.get('max'),
          v = t.getModel('splitLine'),
          _ = t.getModel('axisTick'),
          x = t.getModel('axisLabel'),
          w = t.get('splitNumber'),
          b = _.get('splitNumber'),
          S = W(v.get('length'), y),
          M = W(_.get('length'), y),
          T = i,
          I = (o - i) / w,
          C = I / b,
          A = v.getModel('lineStyle').getLineStyle(),
          D = _.getModel('lineStyle').getLineStyle(),
          k = v.get('distance'),
          L = 0;
        L <= w;
        L++
      )
        if (
          ((O = Math.cos(T)),
          (R = Math.sin(T)),
          v.get('show') &&
            ((a = new ih({
              shape: { x1: O * (y - (p = k ? k + r : r)) + f, y1: R * (y - p) + g, x2: O * (y - S - p) + f, y2: R * (y - S - p) + g },
              style: A,
              silent: !0,
            })),
            'auto' === A.stroke && a.setStyle({ stroke: e(L / w) }),
            d.add(a)),
          x.get('show') &&
            ((p = x.get('distance') + k),
            (a = tM(or((L / w) * (V - m) + m), x.get('formatter'))),
            (s = e(L / w)),
            (l = O * (y - S - p) + f),
            (u = R * (y - S - p) + g),
            (c = 0),
            'radial' === (h = x.get('rotate'))
              ? (c = -T + 2 * Math.PI) > Math.PI / 2 && (c += Math.PI)
              : 'tangential' === h
              ? (c = -T - Math.PI / 2)
              : H(h) && (c = (h * Math.PI) / 180),
            0 === c
              ? d.add(
                  new Hs({
                    style: bc(
                      x,
                      {
                        text: a,
                        x: l,
                        y: u,
                        verticalAlign: R < -0.8 ? 'top' : 0.8 < R ? 'bottom' : 'middle',
                        align: O < -0.4 ? 'left' : 0.4 < O ? 'right' : 'center',
                      },
                      { inheritColor: s }
                    ),
                    silent: !0,
                  })
                )
              : d.add(
                  new Hs({
                    style: bc(x, { text: a, x: l, y: u, verticalAlign: 'middle', align: 'center' }, { inheritColor: s }),
                    silent: !0,
                    originX: l,
                    originY: u,
                    rotation: c,
                  })
                )),
          _.get('show') && L !== w)
        ) {
          p = (p = _.get('distance')) ? p + r : r
          for (var P = 0; P <= b; P++) {
            var O = Math.cos(T),
              R = Math.sin(T),
              N = new ih({
                shape: { x1: O * (y - p) + f, y1: R * (y - p) + g, x2: O * (y - M - p) + f, y2: R * (y - M - p) + g },
                silent: !0,
                style: D,
              })
            'auto' === D.stroke && N.setStyle({ stroke: e((L + P / b) / w) }), d.add(N), (T += C)
          }
          T -= C
        } else T += I
    }),
    (iM.prototype._renderPointer = function(s, t, e, u, l, a, n, h, c) {
      var r = this.group,
        p = this._data,
        d = this._progressEls,
        f = [],
        g = s.get(['pointer', 'show']),
        y = s.getModel('progress'),
        m = y.get('show'),
        v = s.getData(),
        _ = v.mapDimension('value'),
        x = +s.get('min'),
        w = +s.get('max'),
        b = [x, w],
        S = [a, n]
      function M(t, e) {
        var t = v.getItemModel(t).getModel('pointer'),
          n = W(t.get('width'), l.r),
          i = W(t.get('length'), l.r),
          o = s.get(['pointer', 'icon']),
          r = t.get('offsetCenter'),
          a = W(r[0], l.r),
          r = W(r[1], l.r),
          t = t.get('keepAspect'),
          o = o ? dm(o, a - n / 2, r - i, n, i, null, t) : new QS({ shape: { angle: -Math.PI / 2, width: n, r: i, x: a, y: r } })
        return (o.rotation = -(e + Math.PI / 2)), (o.x = l.cx), (o.y = l.cy), o
      }
      function T(t, e) {
        var n = y.get('roundCap') ? Hx : Vu,
          i = y.get('overlap'),
          o = i ? y.get('width') : c / v.count(),
          r = i ? l.r - o : l.r - (t + 1) * o,
          o = i ? l.r : l.r - t * o,
          n = new n({ shape: { startAngle: a, endAngle: e, cx: l.cx, cy: l.cy, clockwise: h, r0: r, r: o } })
        return i && (n.z2 = ir(v.get(_, t), [x, w], [100, 0], !0)), n
      }
      ;(m || g) &&
        (v
          .diff(p)
          .add(function(t) {
            var e,
              n,
              i = v.get(_, t)
            g &&
              (zh((e = M(t, a)), { rotation: -((isNaN(+i) ? S[0] : ir(i, b, S, !0)) + Math.PI / 2) }, s),
              r.add(e),
              v.setItemGraphicEl(t, e)),
              m &&
                ((e = T(t, a)),
                (n = y.get('clip')),
                zh(e, { shape: { endAngle: ir(i, b, S, n) } }, s),
                r.add(e),
                Js(s.seriesIndex, v.dataType, t, e),
                (f[t] = e))
          })
          .update(function(t, e) {
            var n,
              i,
              o = v.get(_, t)
            g &&
              (((i = M(t, (n = (n = p.getItemGraphicEl(e)) ? n.rotation : a))).rotation = n),
              Eh(i, { rotation: -((isNaN(+o) ? S[0] : ir(o, b, S, !0)) + Math.PI / 2) }, s),
              r.add(i),
              v.setItemGraphicEl(t, i)),
              m &&
                ((i = T(t, (n = d[e]) ? n.shape.endAngle : a)),
                (e = y.get('clip')),
                Eh(i, { shape: { endAngle: ir(o, b, S, e) } }, s),
                r.add(i),
                Js(s.seriesIndex, v.dataType, t, i),
                (f[t] = i))
          })
          .execute(),
        v.each(function(t) {
          var e,
            n,
            i,
            o,
            r = v.getItemModel(t),
            a = r.getModel('emphasis'),
            s = a.get('focus'),
            l = a.get('blurScope'),
            a = a.get('disabled')
          g &&
            ((e = v.getItemGraphicEl(t)),
            (i = (n = v.getItemVisual(t, 'style')).fill),
            e instanceof Cs
              ? ((o = e.style), e.useStyle(P({ image: o.image, x: o.x, y: o.y, width: o.width, height: o.height }, n)))
              : (e.useStyle(n), 'pointer' !== e.type && e.setColor(i)),
            e.setStyle(r.getModel(['pointer', 'itemStyle']).getItemStyle()),
            'auto' === e.style.fill && e.setStyle('fill', u(ir(v.get(_, t), b, [0, 1], !0))),
            (e.z2EmphasisLift = 0),
            Xl(e, r),
            Wl(e, s, l, a)),
            m &&
              ((o = f[t]).useStyle(v.getItemVisual(t, 'style')),
              o.setStyle(r.getModel(['progress', 'itemStyle']).getItemStyle()),
              (o.z2EmphasisLift = 0),
              Xl(o, r),
              Wl(o, s, l, a))
        }),
        (this._progressEls = f))
    }),
    (iM.prototype._renderAnchor = function(t, e) {
      var n,
        i,
        o,
        r,
        t = t.getModel('anchor')
      t.get('show') &&
        ((n = t.get('size')),
        (r = t.get('icon')),
        (i = t.get('offsetCenter')),
        (o = t.get('keepAspect')),
        ((r = dm(r, e.cx - n / 2 + W(i[0], e.r), e.cy - n / 2 + W(i[1], e.r), n, n, null, o)).z2 = t.get('showAbove') ? 1 : 0),
        r.setStyle(t.getModel('itemStyle').getItemStyle()),
        this.group.add(r))
    }),
    (iM.prototype._renderTitleAndDetail = function(c, t, e, p, d) {
      var n = this,
        f = c.getData(),
        g = f.mapDimension('value'),
        y = +c.get('min'),
        m = +c.get('max'),
        v = new Yo(),
        _ = [],
        x = [],
        w = c.isAnimationEnabled(),
        b = c.get(['pointer', 'showAbove'])
      f
        .diff(this._data)
        .add(function(t) {
          ;(_[t] = new Hs({ silent: !0 })), (x[t] = new Hs({ silent: !0 }))
        })
        .update(function(t, e) {
          ;(_[t] = n._titleEls[e]), (x[t] = n._detailEls[e])
        })
        .execute(),
        f.each(function(t) {
          var e,
            n,
            i,
            o,
            a,
            r = f.getItemModel(t),
            s = f.get(g, t),
            l = new Yo(),
            u = p(ir(s, [y, m], [0, 1], !0)),
            h = r.getModel('title'),
            h =
              (h.get('show') &&
                ((e = h.get('offsetCenter')),
                (n = d.cx + W(e[0], d.r)),
                (e = d.cy + W(e[1], d.r)),
                (o = _[t]).attr({
                  z2: b ? 0 : 2,
                  style: bc(h, { x: n, y: e, text: f.getName(t), align: 'center', verticalAlign: 'middle' }, { inheritColor: u }),
                }),
                l.add(o)),
              r.getModel('detail'))
          h.get('show') &&
            ((n = h.get('offsetCenter')),
            (e = d.cx + W(n[0], d.r)),
            (r = d.cy + W(n[1], d.r)),
            (n = W(h.get('width'), d.r)),
            (i = W(h.get('height'), d.r)),
            (u = c.get(['progress', 'show']) ? f.getItemVisual(t, 'style').fill : u),
            (o = x[t]),
            (a = h.get('formatter')),
            o.attr({
              z2: b ? 0 : 2,
              style: bc(
                h,
                {
                  x: e,
                  y: r,
                  text: tM(s, a),
                  width: isNaN(n) ? null : n,
                  height: isNaN(i) ? null : i,
                  align: 'center',
                  verticalAlign: 'middle',
                },
                { inheritColor: u }
              ),
            }),
            Dc(o, { normal: h }, s, function(t) {
              return tM(t, a)
            }),
            w &&
              kc(o, t, f, c, {
                getFormattedLabel: function(t, e, n, i, o, r) {
                  return tM(r ? r.interpolatedValue : s, a)
                },
              }),
            l.add(o)),
            v.add(l)
        }),
        this.group.add(v),
        (this._titleEls = _),
        (this._detailEls = x)
    }),
    (iM.type = 'gauge')
  var eM,
    nM = iM
  function iM() {
    var t = (null !== eM && eM.apply(this, arguments)) || this
    return (t.type = iM.type), t
  }
  u(aM, (oM = $g)),
    (aM.prototype.getInitialData = function(t, e) {
      return Sb(this, ['value'])
    }),
    (aM.type = 'series.gauge'),
    (aM.defaultOption = {
      z: 2,
      colorBy: 'data',
      center: ['50%', '50%'],
      legendHoverLink: !0,
      radius: '75%',
      startAngle: 225,
      endAngle: -45,
      clockwise: !0,
      min: 0,
      max: 100,
      splitNumber: 10,
      axisLine: { show: !0, roundCap: !1, lineStyle: { color: [[1, '#E6EBF8']], width: 10 } },
      progress: { show: !1, overlap: !0, width: 10, roundCap: !1, clip: !0 },
      splitLine: { show: !0, length: 10, distance: 10, lineStyle: { color: '#63677A', width: 3, type: 'solid' } },
      axisTick: { show: !0, splitNumber: 5, length: 6, distance: 10, lineStyle: { color: '#63677A', width: 1, type: 'solid' } },
      axisLabel: { show: !0, distance: 15, color: '#464646', fontSize: 12, rotate: 0 },
      pointer: { icon: null, offsetCenter: [0, 0], show: !0, showAbove: !0, length: '60%', width: 6, keepAspect: !1 },
      anchor: {
        show: !1,
        showAbove: !1,
        size: 6,
        icon: 'circle',
        offsetCenter: [0, 0],
        keepAspect: !1,
        itemStyle: { color: '#fff', borderWidth: 0, borderColor: '#5470c6' },
      },
      title: { show: !0, offsetCenter: [0, '20%'], color: '#464646', fontSize: 16, valueAnimation: !1 },
      detail: {
        show: !0,
        backgroundColor: 'rgba(0,0,0,0)',
        borderWidth: 0,
        borderColor: '#ccc',
        width: 100,
        height: null,
        padding: [5, 10],
        offsetCenter: [0, '40%'],
        color: '#464646',
        fontSize: 30,
        fontWeight: 'bold',
        lineHeight: 30,
        valueAnimation: !1,
      },
    })
  var oM,
    rM = aM
  function aM() {
    var t = (null !== oM && oM.apply(this, arguments)) || this
    return (t.type = aM.type), (t.visualStyleAccessPath = 'itemStyle'), t
  }
  i1(function(t) {
    t.registerChartView(nM), t.registerSeriesModel(rM)
  }),
    i1(jS)
  var sM = Nr(),
    lM = y,
    uM = S,
    bu =
      ((hM.prototype.render = function(t, e, n, i) {
        var o,
          r,
          a = e.get('value'),
          s = e.get('status')
        ;(this._axisModel = t),
          (this._axisPointerModel = e),
          (this._api = n),
          (!i && this._lastValue === a && this._lastStatus === s) ||
            ((this._lastValue = a),
            (this._lastStatus = s),
            (i = this._group),
            (o = this._handle),
            s && 'hide' !== s
              ? (i && i.show(),
                o && o.show(),
                this.makeElOption((s = {}), a, t, e, n),
                (r = s.graphicKey) !== this._lastGraphicKey && this.clear(n),
                (this._lastGraphicKey = r),
                (r = this._moveAnimation = this.determineAnimation(t, e)),
                i
                  ? ((r = M(cM, e, r)), this.updatePointerEl(i, s, r), this.updateLabelEl(i, s, r, e))
                  : ((i = this._group = new Yo()), this.createPointerEl(i, s, t, e), this.createLabelEl(i, s, t, e), n.getZr().add(i)),
                fM(i, e, !0),
                this._renderHandle(a))
              : (i && i.hide(), o && o.hide()))
      }),
      (hM.prototype.remove = function(t) {
        this.clear(t)
      }),
      (hM.prototype.dispose = function(t) {
        this.clear(t)
      }),
      (hM.prototype.determineAnimation = function(t, e) {
        var n,
          i = e.get('animation'),
          o = t.axis,
          r = 'category' === o.type,
          e = e.get('snap')
        return (
          !(!e && !r) &&
          ('auto' === i || null == i
            ? ((n = this.animationThreshold),
              (r && o.getBandWidth() > n) || (!!e && ((r = IS(t).seriesDataCount), (e = o.getExtent()), Math.abs(e[0] - e[1]) / r > n)))
            : !0 === i)
        )
      }),
      (hM.prototype.makeElOption = function(t, e, n, i, o) {}),
      (hM.prototype.createPointerEl = function(t, e, n, i) {
        var o = e.pointer
        o && ((o = sM(t).pointerEl = new yc[o.type](lM(e.pointer))), t.add(o))
      }),
      (hM.prototype.createLabelEl = function(t, e, n, i) {
        e.label && ((e = sM(t).labelEl = new Hs(lM(e.label))), t.add(e), pM(e, i))
      }),
      (hM.prototype.updatePointerEl = function(t, e, n) {
        t = sM(t).pointerEl
        t && e.pointer && (t.setStyle(e.pointer.style), n(t, { shape: e.pointer.shape }))
      }),
      (hM.prototype.updateLabelEl = function(t, e, n, i) {
        t = sM(t).labelEl
        t && (t.setStyle(e.label.style), n(t, { x: e.label.x, y: e.label.y }), pM(t, i))
      }),
      (hM.prototype._renderHandle = function(t) {
        var e, n, i, o, r, a
        !this._dragging &&
          this.updateHandleTransform &&
          ((e = this._axisPointerModel),
          (n = this._api.getZr()),
          (i = this._handle),
          (o = e.getModel('handle')),
          (a = e.get('status')),
          o.get('show') && a && 'hide' !== a
            ? (this._handle ||
                ((r = !0),
                (i = this._handle = cc(o.get('icon'), {
                  cursor: 'move',
                  draggable: !0,
                  onmousemove: function(t) {
                    Ie(t.event)
                  },
                  onmousedown: uM(this._onHandleDragMove, this, 0, 0),
                  drift: uM(this._onHandleDragMove, this),
                  ondragend: uM(this._onHandleDragEnd, this),
                })),
                n.add(i)),
              fM(i, e, !1),
              i.setStyle(
                o.getItemStyle(null, [
                  'color',
                  'borderColor',
                  'borderWidth',
                  'opacity',
                  'shadowColor',
                  'shadowBlur',
                  'shadowOffsetX',
                  'shadowOffsetY',
                ])
              ),
              V((a = o.get('size'))) || (a = [a, a]),
              (i.scaleX = a[0] / 2),
              (i.scaleY = a[1] / 2),
              wy(this, '_doDispatchAxisPointer', o.get('throttle') || 0, 'fixRate'),
              this._moveHandleToValue(t, r))
            : (i && n.remove(i), (this._handle = null)))
      }),
      (hM.prototype._moveHandleToValue = function(t, e) {
        cM(
          this._axisPointerModel,
          !e && this._moveAnimation,
          this._handle,
          dM(this.getHandleTransform(t, this._axisModel, this._axisPointerModel))
        )
      }),
      (hM.prototype._onHandleDragMove = function(t, e) {
        var n = this._handle
        n &&
          ((this._dragging = !0),
          (t = this.updateHandleTransform(dM(n), [t, e], this._axisModel, this._axisPointerModel)),
          (this._payloadInfo = t),
          n.stopAnimation(),
          n.attr(dM(t)),
          (sM(n).lastProp = null),
          this._doDispatchAxisPointer())
      }),
      (hM.prototype._doDispatchAxisPointer = function() {
        var t, e
        this._handle &&
          ((t = this._payloadInfo),
          (e = this._axisModel),
          this._api.dispatchAction({
            type: 'updateAxisPointer',
            x: t.cursorPoint[0],
            y: t.cursorPoint[1],
            tooltipOption: t.tooltipOption,
            axesInfo: [{ axisDim: e.axis.dim, axisIndex: e.componentIndex }],
          }))
      }),
      (hM.prototype._onHandleDragEnd = function() {
        var t
        ;(this._dragging = !1),
          this._handle &&
            ((t = this._axisPointerModel.get('value')), this._moveHandleToValue(t), this._api.dispatchAction({ type: 'hideTip' }))
      }),
      (hM.prototype.clear = function(t) {
        ;(this._lastValue = null), (this._lastStatus = null)
        var t = t.getZr(),
          e = this._group,
          n = this._handle
        t &&
          e &&
          ((this._lastGraphicKey = null),
          e && t.remove(e),
          n && t.remove(n),
          (this._group = null),
          (this._handle = null),
          (this._payloadInfo = null)),
          by(this, '_doDispatchAxisPointer')
      }),
      (hM.prototype.doClear = function() {}),
      (hM.prototype.buildLabel = function(t, e, n) {
        return { x: t[(n = n || 0)], y: t[1 - n], width: e[n], height: e[1 - n] }
      }),
      hM)
  function hM() {
    ;(this._dragging = !1), (this.animationThreshold = 15)
  }
  function cM(t, e, n, i) {
    !(function n(i, t) {
      {
        var o
        return O(i) && O(t)
          ? ((o = !0),
            E(t, function(t, e) {
              o = o && n(i[e], t)
            }),
            !!o)
          : i === t
      }
    })(sM(n).lastProp, i) && ((sM(n).lastProp = i), e ? Eh(n, i, t) : (n.stopAnimation(), n.attr(i)))
  }
  function pM(t, e) {
    t[e.get(['label', 'show']) ? 'show' : 'hide']()
  }
  function dM(t) {
    return { x: t.x || 0, y: t.y || 0, rotation: t.rotation || 0 }
  }
  function fM(t, e, n) {
    var i = e.get('z'),
      o = e.get('zlevel')
    t &&
      t.traverse(function(t) {
        'group' !== t.type && (null != i && (t.z = i), null != o && (t.zlevel = o), (t.silent = n))
      })
  }
  function gM(t) {
    var e,
      n = t.get('type'),
      t = t.getModel(n + 'Style')
    return 'line' === n ? ((e = t.getLineStyle()).fill = null) : 'shadow' === n && ((e = t.getAreaStyle()).stroke = null), e
  }
  function yM(t, e, n, i, o) {
    var r = mM(n.get('value'), e.axis, e.ecModel, n.get('seriesDataIndices'), {
        precision: n.get(['label', 'precision']),
        formatter: n.get(['label', 'formatter']),
      }),
      n = n.getModel('label'),
      a = Lp(n.get('padding') || 0),
      s = n.getFont(),
      l = Co(r, s),
      u = o.position,
      h = l.width + a[1] + a[3],
      l = l.height + a[0] + a[2],
      c = o.align,
      c = ('right' === c && (u[0] -= h), 'center' === c && (u[0] -= h / 2), o.verticalAlign),
      i =
        ('bottom' === c && (u[1] -= l),
        'middle' === c && (u[1] -= l / 2),
        (o = u),
        (c = h),
        (h = l),
        (i = (l = i).getWidth()),
        (l = l.getHeight()),
        (o[0] = Math.min(o[0] + c, i) - c),
        (o[1] = Math.min(o[1] + h, l) - h),
        (o[0] = Math.max(o[0], 0)),
        (o[1] = Math.max(o[1], 0)),
        n.get('backgroundColor'))
    ;(i && 'auto' !== i) || (i = e.get(['axisLine', 'lineStyle', 'color'])),
      (t.label = { x: u[0], y: u[1], style: bc(n, { text: r, font: s, fill: n.getTextColor(), padding: a, backgroundColor: i }), z2: 10 })
  }
  function mM(t, e, n, i, o) {
    t = e.scale.parse(t)
    var r,
      a = e.scale.getLabel({ value: t }, { precision: o.precision }),
      o = o.formatter
    return (
      o &&
        ((r = { value: q_(e, { value: t }), axisDimension: e.dim, axisIndex: e.index, seriesData: [] }),
        E(i, function(t) {
          var e = n.getSeriesByIndex(t.seriesIndex),
            t = t.dataIndexInside,
            e = e && e.getDataParams(t)
          e && r.seriesData.push(e)
        }),
        F(o) ? (a = o.replace('{value}', a)) : A(o) && (a = o(r))),
      a
    )
  }
  function vM(t, e, n) {
    var i = Pe()
    return (
      ze(i, i, n.rotation),
      Ee(i, i, n.position),
      rc([t.dataToCoord(e), (n.labelOffset || 0) + (n.labelDirection || 1) * (n.labelMargin || 0)], i)
    )
  }
  function _M(t, e, n) {
    return { x1: t[(n = n || 0)], y1: t[1 - n], x2: e[n], y2: e[1 - n] }
  }
  function xM(t, e, n, i, o, r) {
    return { cx: t, cy: e, r0: n, r: i, startAngle: o, endAngle: r, clockwise: !0 }
  }
  u(SM, (wM = bu)),
    (SM.prototype.makeElOption = function(t, e, n, i, o) {
      var r,
        a = n.axis,
        s = ('angle' === a.dim && (this.animationThreshold = Math.PI / 18), a.polar),
        l = s.getOtherAxis(a).getExtent(),
        u = a.dataToCoord(e),
        h = i.get('type'),
        a =
          (h && 'none' !== h && ((r = gM(i)), ((h = TM[h](a, s, u, l)).style = r), (t.graphicKey = h.type), (t.pointer = h)),
          i.get(['label', 'margin']))
      yM(
        t,
        n,
        i,
        o,
        (function(t, e, n, i) {
          var o,
            r,
            a = e.axis,
            t = a.dataToCoord(t),
            s = ((l = ((l = n.getAngleAxis().getExtent()[0]) / 180) * Math.PI), n.getRadiusAxis().getExtent())
          {
            var l
            s =
              'radius' === a.dim
                ? ((a = Pe()),
                  ze(a, a, l),
                  Ee(a, a, [n.cx, n.cy]),
                  (o = rc([t, -i], a)),
                  (a = e.getModel('axisLabel').get('rotate') || 0),
                  (e = mS.innerTextLayout(l, (a * Math.PI) / 180, -1)),
                  (r = e.textAlign),
                  e.textVerticalAlign)
                : ((l = s[1]),
                  (o = n.coordToPoint([l + i, t])),
                  (a = n.cx),
                  (e = n.cy),
                  (r = Math.abs(o[0] - a) / l < 0.3 ? 'center' : o[0] > a ? 'left' : 'right'),
                  Math.abs(o[1] - e) / l < 0.3 ? 'middle' : o[1] > e ? 'top' : 'bottom')
          }
          return { position: o, align: r, verticalAlign: s }
        })(e, n, s, a)
      )
    })
  var wM,
    bM = SM
  function SM() {
    return (null !== wM && wM.apply(this, arguments)) || this
  }
  var MM,
    TM = {
      line: function(t, e, n, i) {
        return 'angle' === t.dim
          ? { type: 'Line', shape: _M(e.coordToPoint([i[0], n]), e.coordToPoint([i[1], n])) }
          : { type: 'Circle', shape: { cx: e.cx, cy: e.cy, r: n } }
      },
      shadow: function(t, e, n, i) {
        var o = Math.max(1, t.getBandWidth()),
          r = Math.PI / 180
        return 'angle' === t.dim
          ? { type: 'Sector', shape: xM(e.cx, e.cy, i[0], i[1], (-n - o / 2) * r, (o / 2 - n) * r) }
          : { type: 'Sector', shape: xM(e.cx, e.cy, n - o / 2, n + o / 2, 0, 2 * Math.PI) }
      },
    },
    IM =
      (u(CM, (MM = bu)),
      (CM.prototype.makeElOption = function(t, e, n, i, o) {
        var r,
          a = n.axis,
          s = a.grid,
          l = i.get('type'),
          u = AM(s, a)
            .getOtherAxis(a)
            .getGlobalExtent(),
          h = a.toGlobalCoord(a.dataToCoord(e, !0)),
          a =
            (l && 'none' !== l && ((r = gM(i)), ((l = DM[l](a, h, u)).style = r), (t.graphicKey = l.type), (t.pointer = l)), sS(s.model, n))
        ;(h = e),
          (u = t),
          (r = a),
          (l = n),
          (s = i),
          (e = o),
          (t = mS.innerTextLayout(r.rotation, 0, r.labelDirection)),
          (r.labelMargin = s.get(['label', 'margin'])),
          yM(u, l, s, e, { position: vM(l.axis, h, r), align: t.textAlign, verticalAlign: t.textVerticalAlign })
      }),
      (CM.prototype.getHandleTransform = function(t, e, n) {
        var i = sS(e.axis.grid.model, e, { labelInside: !1 }),
          n = ((i.labelMargin = n.get(['handle', 'margin'])), vM(e.axis, t, i))
        return { x: n[0], y: n[1], rotation: i.rotation + (i.labelDirection < 0 ? Math.PI : 0) }
      }),
      (CM.prototype.updateHandleTransform = function(t, e, n, i) {
        var n = n.axis,
          o = n.grid,
          r = n.getGlobalExtent(!0),
          o = AM(o, n)
            .getOtherAxis(n)
            .getGlobalExtent(),
          n = 'x' === n.dim ? 0 : 1,
          a = [t.x, t.y],
          e = ((a[n] += e[n]), (a[n] = Math.min(r[1], a[n])), (a[n] = Math.max(r[0], a[n])), (o[1] + o[0]) / 2),
          r = [e, e]
        r[n] = a[n]
        return {
          x: a[0],
          y: a[1],
          rotation: t.rotation,
          cursorPoint: r,
          tooltipOption: [{ verticalAlign: 'middle' }, { align: 'center' }][n],
        }
      }),
      CM)
  function CM() {
    return (null !== MM && MM.apply(this, arguments)) || this
  }
  function AM(t, e) {
    var n = {}
    return (n[e.dim + 'AxisIndex'] = e.index), t.getCartesian(n)
  }
  var DM = {
    line: function(t, e, n) {
      return { type: 'Line', subPixelOptimize: !0, shape: _M([e, n[0]], [e, n[1]], kM(t)) }
    },
    shadow: function(t, e, n) {
      var i = Math.max(1, t.getBandWidth()),
        o = n[1] - n[0]
      return {
        type: 'Rect',
        shape: ((e = [e - i / 2, n[0]]), (n = [i, o]), (i = kM(t)), { x: e[(i = i || 0)], y: e[1 - i], width: n[i], height: n[1 - i] }),
      }
    },
  }
  function kM(t) {
    return 'x' === t.dim ? 0 : 1
  }
  u(OM, (LM = g)),
    (OM.type = 'axisPointer'),
    (OM.defaultOption = {
      show: 'auto',
      z: 50,
      type: 'line',
      snap: !1,
      triggerTooltip: !0,
      triggerEmphasis: !0,
      value: null,
      status: null,
      link: [],
      animation: null,
      animationDurationUpdate: 200,
      lineStyle: { color: '#B9BEC9', width: 1, type: 'dashed' },
      shadowStyle: { color: 'rgba(210,219,238,0.2)' },
      label: {
        show: !0,
        formatter: null,
        precision: 'auto',
        margin: 3,
        color: '#fff',
        padding: [5, 7, 5, 7],
        backgroundColor: 'auto',
        borderColor: null,
        borderWidth: 0,
        borderRadius: 3,
      },
      handle: {
        show: !1,
        icon:
          'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z',
        size: 45,
        margin: 50,
        color: '#333',
        shadowBlur: 3,
        shadowColor: '#aaa',
        shadowOffsetX: 0,
        shadowOffsetY: 2,
        throttle: 40,
      },
    })
  var LM,
    PM = OM
  function OM() {
    var t = (null !== LM && LM.apply(this, arguments)) || this
    return (t.type = OM.type), t
  }
  var RM = Nr(),
    NM = E
  function EM(t, e, n) {
    var i, c, p
    function o(t, h) {
      c.on(t, function(e) {
        n = p
        var n,
          i,
          o = { dispatchAction: r, pendings: (i = { showTip: [], hideTip: [] }) }
        function r(t) {
          var e = i[t.type]
          e ? e.push(t) : ((t.dispatchAction = r), n.dispatchAction(t))
        }
        NM(RM(c).records, function(t) {
          t && h(t, e, o.dispatchAction)
        })
        var t,
          a = o.pendings,
          s = p,
          l = a.showTip.length,
          u = a.hideTip.length
        l ? (t = a.showTip[l - 1]) : u && (t = a.hideTip[u - 1]), t && ((t.dispatchAction = null), s.dispatchAction(t))
      })
    }
    b.node ||
      ((i = e.getZr()),
      RM(i).records || (RM(i).records = {}),
      (p = e),
      RM((c = i)).initialized ||
        ((RM(c).initialized = !0), o('click', M(BM, 'click')), o('mousemove', M(BM, 'mousemove')), o('globalout', zM)),
      ((RM(i).records[t] || (RM(i).records[t] = {})).handler = n))
  }
  function zM(t, e, n) {
    t.handler('leave', null, n)
  }
  function BM(t, e, n, i) {
    e.handler(t, n, i)
  }
  function VM(t, e) {
    b.node || ((e = e.getZr()), (RM(e).records || {})[t] && (RM(e).records[t] = null))
  }
  u(GM, (FM = ry)),
    (GM.prototype.render = function(t, e, n) {
      var e = e.getComponent('tooltip'),
        i = t.get('triggerOn') || (e && e.get('triggerOn')) || 'mousemove|click'
      EM('axisPointer', n, function(t, e, n) {
        'none' !== i &&
          ('leave' === t || 0 <= i.indexOf(t)) &&
          n({ type: 'updateAxisPointer', currTrigger: t, x: e && e.offsetX, y: e && e.offsetY })
      })
    }),
    (GM.prototype.remove = function(t, e) {
      VM('axisPointer', e)
    }),
    (GM.prototype.dispose = function(t, e) {
      VM('axisPointer', e)
    }),
    (GM.type = 'axisPointer')
  var FM,
    HM = GM
  function GM() {
    var t = (null !== FM && FM.apply(this, arguments)) || this
    return (t.type = GM.type), t
  }
  function WM(t, e) {
    var n,
      i,
      o,
      r,
      a = [],
      s = t.seriesIndex
    return null == s || !(e = e.getSeriesByIndex(s)) || null == (s = Rr((n = e.getData()), t)) || s < 0 || V(s)
      ? { point: [] }
      : ((i = n.getItemGraphicEl(s)),
        (o = e.coordinateSystem),
        e.getTooltipPosition
          ? (a = e.getTooltipPosition(s) || [])
          : o && o.dataToPoint
          ? (a = t.isStacked
              ? ((e = o.getBaseAxis()),
                (t = o.getOtherAxis(e).dim),
                (e = e.dim),
                (t = 'x' === t || 'radius' === t ? 1 : 0),
                (e = n.mapDimension(e)),
                ((r = [])[t] = n.get(e, s)),
                (r[1 - t] = n.get(n.getCalculationInfo('stackResultDimension'), s)),
                o.dataToPoint(r) || [])
              : o.dataToPoint(
                  n.getValues(
                    B(o.dimensions, function(t) {
                      return n.mapDimension(t)
                    }),
                    s
                  )
                ) || [])
          : i && ((e = i.getBoundingRect().clone()).applyTransform(i.transform), (a = [e.x + e.width / 2, e.y + e.height / 2])),
        { point: a, el: i })
  }
  var UM = Nr()
  function YM(t, e, n) {
    var r,
      a,
      i,
      s,
      l,
      o,
      u,
      h,
      c,
      p,
      d,
      f,
      g,
      y,
      m = t.currTrigger,
      v = [t.x, t.y],
      _ = t,
      x = t.dispatchAction || S(n.dispatchAction, n),
      w = e.getComponent('axisPointer').coordSysAxesInfo
    if (w)
      return (
        KM(v) && (v = WM({ seriesIndex: _.seriesIndex, dataIndex: _.dataIndex }, e).point),
        (r = KM(v)),
        (a = _.axesInfo),
        (i = w.axesInfo),
        (s = 'leave' === m || KM(v)),
        (l = {}),
        (e = { list: [], map: {} }),
        (u = { showPointer: M(ZM, (o = {})), showTooltip: M(qM, e) }),
        E(w.coordSysMap, function(t, e) {
          var o = r || t.containPoint(v)
          E(w.coordSysAxesInfo[e], function(t, e) {
            var n = t.axis,
              i = (function(t, e) {
                for (var n = 0; n < (t || []).length; n++) {
                  var i = t[n]
                  if (e.axis.dim === i.axisDim && e.axis.model.componentIndex === i.axisIndex) return i
                }
              })(a, t)
            s || !o || (a && !i) || (null != (i = null != (i = i && i.value) || r ? i : n.pointToData(v)) && XM(t, i, u, !1, l))
          })
        }),
        (h = {}),
        E(i, function(n, t) {
          var i = n.linkGroup
          i &&
            !o[t] &&
            E(i.axesInfo, function(t, e) {
              var e = o[e]
              t !== n && e && ((e = e.value), i.mapper && (e = n.axis.scale.parse(i.mapper(e, jM(t), jM(n)))), (h[n.key] = e))
            })
        }),
        E(h, function(t, e) {
          XM(i[e], t, u, !0, l)
        }),
        (c = o),
        (_ = i),
        (p = l.axesInfo = []),
        E(_, function(t, e) {
          var n = t.axisPointerModel.option,
            e = c[e]
          e
            ? (t.useHandle || (n.status = 'show'), (n.value = e.value), (n.seriesDataIndices = (e.payloadBatch || []).slice()))
            : t.useHandle || (n.status = 'hide'),
            'show' === n.status && p.push({ axisDim: t.axis.dim, axisIndex: t.axis.model.componentIndex, value: n.value })
        }),
        (m = e),
        (_ = t),
        (e = x),
        KM((t = v)) || !m.list.length
          ? e({ type: 'hideTip' })
          : ((x = ((m.list[0].dataByAxis[0] || {}).seriesDataIndices || [])[0] || {}),
            e({
              type: 'showTip',
              escapeConnect: !0,
              x: t[0],
              y: t[1],
              tooltipOption: _.tooltipOption,
              position: _.position,
              dataIndexInside: x.dataIndexInside,
              dataIndex: x.dataIndex,
              seriesIndex: x.seriesIndex,
              dataByCoordSys: m.list,
            })),
        (e = i),
        (_ = (t = n).getZr()),
        (x = 'axisPointerLastHighlights'),
        (d = UM(_)[x] || {}),
        (f = UM(_)[x] = {}),
        E(e, function(t, e) {
          var n = t.axisPointerModel.option
          'show' === n.status &&
            t.triggerEmphasis &&
            E(n.seriesDataIndices, function(t) {
              var e = t.seriesIndex + ' | ' + t.dataIndex
              f[e] = t
            })
        }),
        (g = []),
        (y = []),
        E(d, function(t, e) {
          f[e] || y.push(t)
        }),
        E(f, function(t, e) {
          d[e] || g.push(t)
        }),
        y.length && t.dispatchAction({ type: 'downplay', escapeConnect: !0, notBlur: !0, batch: y }),
        g.length && t.dispatchAction({ type: 'highlight', escapeConnect: !0, notBlur: !0, batch: g }),
        l
      )
  }
  function XM(t, e, n, i, o) {
    var r,
      a,
      s,
      l,
      u,
      h,
      c,
      p,
      d,
      f,
      g = t.axis
    !g.scale.isBlank() &&
      g.containData(e) &&
      (t.involveSeries
        ? ((a = e),
          (s = t.axis),
          (l = s.dim),
          (u = a),
          (h = []),
          (c = Number.MAX_VALUE),
          (p = -1),
          E(t.seriesModels, function(e, t) {
            var n,
              i = e.getData().mapDimensionsAll(l)
            if (e.getAxisTooltipData)
              var o = e.getAxisTooltipData(i, a, s),
                r = o.dataIndices,
                o = o.nestestValue
            else {
              if (!(r = e.getData().indicesOfNearest(i[0], a, 'category' === s.type ? 0.5 : null)).length) return
              o = e.getData().get(i[0], r[0])
            }
            null != o &&
              isFinite(o) &&
              ((i = a - o), (n = Math.abs(i)) <= c) &&
              ((n < c || (0 <= i && p < 0)) && ((c = n), (p = i), (u = o), (h.length = 0)),
              E(r, function(t) {
                h.push({ seriesIndex: e.seriesIndex, dataIndexInside: t, dataIndex: e.getData().getRawIndex(t) })
              }))
          }),
          (f = (r = { payloadBatch: h, snapToValue: u }).snapToValue),
          (d = r.payloadBatch)[0] && null == o.seriesIndex && P(o, d[0]),
          !i && t.snap && g.containData(f) && null != f && (e = f),
          n.showPointer(t, e, d),
          n.showTooltip(t, r, f))
        : n.showPointer(t, e))
  }
  function ZM(t, e, n, i) {
    t[e.key] = { value: n, payloadBatch: i }
  }
  function qM(t, e, n, i) {
    var o,
      r,
      n = n.payloadBatch,
      a = e.axis,
      s = a.model,
      l = e.axisPointerModel
    e.triggerTooltip &&
      n.length &&
      ((o = AS((e = e.coordSys.model))),
      (r = t.map[o]) ||
        ((r = t.map[o] = {
          coordSysId: e.id,
          coordSysIndex: e.componentIndex,
          coordSysType: e.type,
          coordSysMainType: e.mainType,
          dataByAxis: [],
        }),
        t.list.push(r)),
      r.dataByAxis.push({
        axisDim: a.dim,
        axisIndex: s.componentIndex,
        axisType: s.type,
        axisId: s.id,
        value: i,
        valueLabelOpt: { precision: l.get(['label', 'precision']), formatter: l.get(['label', 'formatter']) },
        seriesDataIndices: n.slice(),
      }))
  }
  function jM(t) {
    var e = t.axis.model,
      n = {},
      t = (n.axisDim = t.axis.dim)
    return (
      (n.axisIndex = n[t + 'AxisIndex'] = e.componentIndex),
      (n.axisName = n[t + 'AxisName'] = e.name),
      (n.axisId = n[t + 'AxisId'] = e.id),
      n
    )
  }
  function KM(t) {
    return !t || null == t[0] || isNaN(t[0]) || null == t[1] || isNaN(t[1])
  }
  function $M(t) {
    LS.registerAxisPointerClass('CartesianAxisPointer', IM),
      t.registerComponentModel(PM),
      t.registerComponentView(HM),
      t.registerPreprocessor(function(t) {
        var e
        t &&
          ((t.axisPointer && 0 !== t.axisPointer.length) || (t.axisPointer = {}), (e = t.axisPointer.link)) &&
          !V(e) &&
          (t.axisPointer.link = [e])
      }),
      t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC, function(t, e) {
        t.getComponent('axisPointer').coordSysAxesInfo = MS(t, e)
      }),
      t.registerAction({ type: 'updateAxisPointer', event: 'updateAxisPointer', update: ':updateAxisPointer' }, YM)
  }
  u(tT, (QM = g)),
    (tT.prototype.findAxisModel = function(t) {
      var e
      return (
        this.ecModel.eachComponent(
          t,
          function(t) {
            t.getCoordSysModel() === this && (e = t)
          },
          this
        ),
        e
      )
    }),
    (tT.type = 'polar'),
    (tT.dependencies = ['radiusAxis', 'angleAxis']),
    (tT.defaultOption = { z: 0, center: ['50%', '50%'], radius: '80%' })
  var QM,
    JM = tT
  function tT() {
    var t = (null !== QM && QM.apply(this, arguments)) || this
    return (t.type = tT.type), t
  }
  u(nT, (eT = g)),
    (nT.prototype.getCoordSysModel = function() {
      return this.getReferringComponents('polar', Vr).models[0]
    }),
    (nT.type = 'polarAxis')
  var eT,
    e = nT
  function nT() {
    return (null !== eT && eT.apply(this, arguments)) || this
  }
  st(e, J_)
  u(rT, (iT = e)), (rT.type = 'angleAxis')
  var iT,
    oT = rT
  function rT() {
    var t = (null !== iT && iT.apply(this, arguments)) || this
    return (t.type = rT.type), t
  }
  u(lT, (aT = e)), (lT.type = 'radiusAxis')
  var aT,
    sT = lT
  function lT() {
    var t = (null !== aT && aT.apply(this, arguments)) || this
    return (t.type = lT.type), t
  }
  u(cT, (uT = sp)),
    (cT.prototype.pointToData = function(t, e) {
      return this.polar.pointToData(t, e)['radius' === this.dim ? 0 : 1]
    })
  var uT,
    hT = cT
  function cT(t, e) {
    return uT.call(this, 'radius', t, e) || this
  }
  ;(hT.prototype.dataToRadius = sp.prototype.dataToCoord), (hT.prototype.radiusToData = sp.prototype.coordToData)
  var pT,
    dT = Nr(),
    fT =
      (u(gT, (pT = sp)),
      (gT.prototype.pointToData = function(t, e) {
        return this.polar.pointToData(t, e)['radius' === this.dim ? 0 : 1]
      }),
      (gT.prototype.calculateCategoryInterval = function() {
        var t,
          e,
          n = this.getLabelModel(),
          i = this.scale,
          o = i.getExtent(),
          i = i.count()
        return o[1] - o[0] < 1
          ? 0
          : ((o = o[0]),
            (t = this.dataToCoord(o + 1) - this.dataToCoord(o)),
            (t = Math.abs(t)),
            (o = Co(null == o ? '' : o + '', n.getFont(), 'center', 'top')),
            (n = Math.max(o.height, 7) / t),
            isNaN(n) && (n = 1 / 0),
            (o = Math.max(0, Math.floor(n))),
            (n = (t = dT(this.model)).lastAutoInterval),
            (e = t.lastTickCount),
            null != n && null != e && Math.abs(n - o) <= 1 && Math.abs(e - i) <= 1 && o < n
              ? (o = n)
              : ((t.lastTickCount = i), (t.lastAutoInterval = o)),
            o)
      }),
      gT)
  function gT(t, e) {
    return pT.call(this, 'angle', t, e || [0, 360]) || this
  }
  ;(fT.prototype.dataToAngle = sp.prototype.dataToCoord), (fT.prototype.angleToData = sp.prototype.coordToData)
  var yT = ['radius', 'angle'],
    mT =
      ((vT.prototype.containPoint = function(t) {
        t = this.pointToCoord(t)
        return this._radiusAxis.contain(t[0]) && this._angleAxis.contain(t[1])
      }),
      (vT.prototype.containData = function(t) {
        return this._radiusAxis.containData(t[0]) && this._angleAxis.containData(t[1])
      }),
      (vT.prototype.getAxis = function(t) {
        return this['_' + t + 'Axis']
      }),
      (vT.prototype.getAxes = function() {
        return [this._radiusAxis, this._angleAxis]
      }),
      (vT.prototype.getAxesByScale = function(t) {
        var e = [],
          n = this._angleAxis,
          i = this._radiusAxis
        return n.scale.type === t && e.push(n), i.scale.type === t && e.push(i), e
      }),
      (vT.prototype.getAngleAxis = function() {
        return this._angleAxis
      }),
      (vT.prototype.getRadiusAxis = function() {
        return this._radiusAxis
      }),
      (vT.prototype.getOtherAxis = function(t) {
        var e = this._angleAxis
        return t === e ? this._radiusAxis : e
      }),
      (vT.prototype.getBaseAxis = function() {
        return this.getAxesByScale('ordinal')[0] || this.getAxesByScale('time')[0] || this.getAngleAxis()
      }),
      (vT.prototype.getTooltipAxes = function(t) {
        t = null != t && 'auto' !== t ? this.getAxis(t) : this.getBaseAxis()
        return { baseAxes: [t], otherAxes: [this.getOtherAxis(t)] }
      }),
      (vT.prototype.dataToPoint = function(t, e) {
        return this.coordToPoint([this._radiusAxis.dataToRadius(t[0], e), this._angleAxis.dataToAngle(t[1], e)])
      }),
      (vT.prototype.pointToData = function(t, e) {
        t = this.pointToCoord(t)
        return [this._radiusAxis.radiusToData(t[0], e), this._angleAxis.angleToData(t[1], e)]
      }),
      (vT.prototype.pointToCoord = function(t) {
        for (
          var e = t[0] - this.cx,
            t = t[1] - this.cy,
            n = this.getAngleAxis(),
            i = n.getExtent(),
            o = Math.min(i[0], i[1]),
            r = Math.max(i[0], i[1]),
            i = (n.inverse ? (o = r - 360) : (r = o + 360), Math.sqrt(e * e + t * t)),
            a = ((e /= i), (t /= i), (Math.atan2(-t, e) / Math.PI) * 180),
            s = a < o ? 1 : -1;
          a < o || r < a;

        )
          a += 360 * s
        return [i, a]
      }),
      (vT.prototype.coordToPoint = function(t) {
        var e = t[0],
          t = (t[1] / 180) * Math.PI
        return [Math.cos(t) * e + this.cx, -Math.sin(t) * e + this.cy]
      }),
      (vT.prototype.getArea = function() {
        var t = this.getAngleAxis(),
          e = this.getRadiusAxis()
            .getExtent()
            .slice(),
          n = (e[0] > e[1] && e.reverse(), t.getExtent()),
          i = Math.PI / 180
        return {
          cx: this.cx,
          cy: this.cy,
          r0: e[0],
          r: e[1],
          startAngle: -n[0] * i,
          endAngle: -n[1] * i,
          clockwise: t.inverse,
          contain: function(t, e) {
            var t = t - this.cx,
              e = e - this.cy,
              t = t * t + e * e,
              e = this.r,
              n = this.r0
            return e !== n && t - 1e-4 <= e * e && n * n <= 1e-4 + t
          },
        }
      }),
      (vT.prototype.convertToPixel = function(t, e, n) {
        return _T(e) === this ? this.dataToPoint(n) : null
      }),
      (vT.prototype.convertFromPixel = function(t, e, n) {
        return _T(e) === this ? this.pointToData(n) : null
      }),
      vT)
  function vT(t) {
    ;(this.dimensions = yT),
      (this.type = 'polar'),
      (this.cx = 0),
      (this.cy = 0),
      (this._radiusAxis = new hT()),
      (this._angleAxis = new fT()),
      (this.axisPointerEnabled = !0),
      (this.name = t || ''),
      (this._radiusAxis.polar = this._angleAxis.polar = this)
  }
  function _T(t) {
    var e = t.seriesModel,
      t = t.polarModel
    return (t && t.coordinateSystem) || (e && e.coordinateSystem)
  }
  function xT(t, e) {
    var n,
      i = this,
      o = i.getAngleAxis(),
      r = i.getRadiusAxis()
    o.scale.setExtent(1 / 0, -1 / 0),
      r.scale.setExtent(1 / 0, -1 / 0),
      t.eachSeries(function(t) {
        var e
        t.coordinateSystem === i &&
          (E(Q_((e = t.getData()), 'radius'), function(t) {
            r.scale.unionExtentFromData(e, t)
          }),
          E(Q_(e, 'angle'), function(t) {
            o.scale.unionExtentFromData(e, t)
          }))
      }),
      Y_(o.scale, o.model),
      Y_(r.scale, r.model),
      'category' !== o.type ||
        o.onBand ||
        ((t = o.getExtent()), (n = 360 / o.scale.count()), o.inverse ? (t[1] += n) : (t[1] -= n), o.setExtent(t[0], t[1]))
  }
  function wT(t, e) {
    var n, i
    ;(t.type = e.get('type')),
      (t.scale = X_(e)),
      (t.onBand = e.get('boundaryGap') && 'category' === t.type),
      (t.inverse = e.get('inverse')),
      'angleAxis' === e.mainType &&
        ((t.inverse = t.inverse !== e.get('clockwise')),
        (n = e.get('startAngle')),
        (i = null != (i = e.get('endAngle')) ? i : n + (t.inverse ? -360 : 360)),
        t.setExtent(n, i)),
      ((e.axis = t).model = e)
  }
  var bT = {
      dimensions: yT,
      create: function(t, s) {
        var l = []
        return (
          t.eachComponent('polar', function(t, e) {
            var n,
              e = new mT(e + ''),
              i = ((e.update = xT), e.getRadiusAxis()),
              o = e.getAngleAxis(),
              r = t.findAxisModel('radiusAxis'),
              a = t.findAxisModel('angleAxis')
            wT(i, r),
              wT(o, a),
              (i = e),
              (r = s),
              (a = (o = t).get('center')),
              (n = r.getWidth()),
              (r = r.getHeight()),
              (i.cx = W(a[0], n)),
              (i.cy = W(a[1], r)),
              (a = i.getRadiusAxis()),
              (i = Math.min(n, r) / 2),
              null == (n = o.get('radius')) ? (n = [0, '100%']) : V(n) || (n = [0, n]),
              (r = [W(n[0], i), W(n[1], i)]),
              a.inverse ? a.setExtent(r[1], r[0]) : a.setExtent(r[0], r[1]),
              l.push(e),
              ((t.coordinateSystem = e).model = t)
          }),
          t.eachSeries(function(t) {
            var e
            'polar' === t.get('coordinateSystem') &&
              ((e = t.getReferringComponents('polar', Vr).models[0]), (t.coordinateSystem = e.coordinateSystem))
          }),
          l
        )
      },
    },
    ST = ['axisLine', 'axisLabel', 'axisTick', 'minorTick', 'splitLine', 'minorSplitLine', 'splitArea']
  function MT(t, e, n) {
    e[1] > e[0] && (e = e.slice().reverse())
    var i = t.coordToPoint([e[0], n]),
      t = t.coordToPoint([e[1], n])
    return { x1: i[0], y1: i[1], x2: t[0], y2: t[1] }
  }
  function TT(t) {
    return t.getRadiusAxis().inverse ? 0 : 1
  }
  function IT(t) {
    var e = t[0],
      n = t[t.length - 1]
    e && n && Math.abs(Math.abs(e.coord - n.coord) - 360) < 1e-4 && t.pop()
  }
  u(DT, (CT = LS)),
    (DT.prototype.render = function(e, t) {
      var n, i, o, r, a, s
      this.group.removeAll(),
        e.get('show') &&
          ((n = e.axis),
          (i = n.polar),
          (o = i.getRadiusAxis().getExtent()),
          (r = n.getTicksCoords()),
          (a = n.getMinorTicksCoords()),
          IT(
            (s = B(n.getViewLabels(), function(t) {
              t = y(t)
              var e = n.scale,
                e = 'ordinal' === e.type ? e.getRawOrdinalNumber(t.tickValue) : t.tickValue
              return (t.coord = n.dataToCoord(e)), t
            }))
          ),
          IT(r),
          E(
            ST,
            function(t) {
              !e.get([t, 'show']) || (n.scale.isBlank() && 'axisLine' !== t) || LT[t](this.group, e, i, r, a, o, s)
            },
            this
          ))
    }),
    (DT.type = 'angleAxis')
  var CT,
    AT = DT
  function DT() {
    var t = (null !== CT && CT.apply(this, arguments)) || this
    return (t.type = DT.type), (t.axisPointerClass = 'PolarAxisPointer'), t
  }
  var kT,
    LT = {
      axisLine: function(t, e, n, i, o, r) {
        var e = e.getModel(['axisLine', 'lineStyle']),
          a = n.getAngleAxis(),
          s = Math.PI / 180,
          l = a.getExtent(),
          u = TT(n),
          h = u ? 0 : 1,
          c = 360 === Math.abs(l[1] - l[0]) ? 'Circle' : 'Arc',
          c =
            0 === r[h]
              ? new yc[c]({
                  shape: { cx: n.cx, cy: n.cy, r: r[u], startAngle: -l[0] * s, endAngle: -l[1] * s, clockwise: a.inverse },
                  style: e.getLineStyle(),
                  z2: 1,
                  silent: !0,
                })
              : new Wu({ shape: { cx: n.cx, cy: n.cy, r: r[u], r0: r[h] }, style: e.getLineStyle(), z2: 1, silent: !0 })
        ;(c.style.fill = null), t.add(c)
      },
      axisTick: function(t, e, n, i, o, r) {
        var a = e.getModel('axisTick'),
          s = (a.get('inside') ? -1 : 1) * a.get('length'),
          l = r[TT(n)],
          r = B(i, function(t) {
            return new ih({ shape: MT(n, [l, l + s], t.coord) })
          })
        t.add(tc(r, { style: z(a.getModel('lineStyle').getLineStyle(), { stroke: e.get(['axisLine', 'lineStyle', 'color']) }) }))
      },
      minorTick: function(t, e, n, i, o, r) {
        if (o.length) {
          for (
            var a = e.getModel('axisTick'),
              s = e.getModel('minorTick'),
              l = (a.get('inside') ? -1 : 1) * s.get('length'),
              u = r[TT(n)],
              h = [],
              c = 0;
            c < o.length;
            c++
          )
            for (var p = 0; p < o[c].length; p++) h.push(new ih({ shape: MT(n, [u, u + l], o[c][p].coord) }))
          t.add(
            tc(h, {
              style: z(s.getModel('lineStyle').getLineStyle(), z(a.getLineStyle(), { stroke: e.get(['axisLine', 'lineStyle', 'color']) })),
            })
          )
        }
      },
      axisLabel: function(l, u, h, t, e, c, n) {
        var p = u.getCategories(!0),
          d = u.getModel('axisLabel'),
          f = d.get('margin'),
          g = u.get('triggerEvent')
        E(
          n,
          function(t, e) {
            var n = d,
              i = t.tickValue,
              o = c[TT(h)],
              r = h.coordToPoint([o + f, t.coord]),
              a = h.cx,
              s = h.cy,
              a = Math.abs(r[0] - a) / o < 0.3 ? 'center' : r[0] > a ? 'left' : 'right',
              o = Math.abs(r[1] - s) / o < 0.3 ? 'middle' : r[1] > s ? 'top' : 'bottom',
              i =
                (p && p[i] && O((s = p[i])) && s.textStyle && (n = new Uc(s.textStyle, d, d.ecModel)),
                new Hs({
                  silent: mS.isLabelSilent(u),
                  style: bc(n, {
                    x: r[0],
                    y: r[1],
                    fill: n.getTextColor() || u.get(['axisLine', 'lineStyle', 'color']),
                    text: t.formattedLabel,
                    align: a,
                    verticalAlign: o,
                  }),
                }))
            l.add(i), g && (((s = mS.makeAxisEventDataBase(u)).targetType = 'axisLabel'), (s.value = t.rawLabel), (D(i).eventData = s))
          },
          this
        )
      },
      splitLine: function(t, e, n, i, o, r) {
        for (
          var a = e.getModel('splitLine').getModel('lineStyle'), s = 0, l = (l = a.get('color')) instanceof Array ? l : [l], u = [], h = 0;
          h < i.length;
          h++
        ) {
          var c = s++ % l.length
          ;(u[c] = u[c] || []), u[c].push(new ih({ shape: MT(n, r, i[h].coord) }))
        }
        for (h = 0; h < u.length; h++)
          t.add(tc(u[h], { style: z({ stroke: l[h % l.length] }, a.getLineStyle()), silent: !0, z: e.get('z') }))
      },
      minorSplitLine: function(t, e, n, i, o, r) {
        if (o.length) {
          for (var a = e.getModel('minorSplitLine').getModel('lineStyle'), s = [], l = 0; l < o.length; l++)
            for (var u = 0; u < o[l].length; u++) s.push(new ih({ shape: MT(n, r, o[l][u].coord) }))
          t.add(tc(s, { style: a.getLineStyle(), silent: !0, z: e.get('z') }))
        }
      },
      splitArea: function(t, e, n, i, o, r) {
        if (i.length) {
          for (
            var a = e.getModel('splitArea').getModel('areaStyle'),
              s = 0,
              l = (l = a.get('color')) instanceof Array ? l : [l],
              u = [],
              h = Math.PI / 180,
              c = -i[0].coord * h,
              p = Math.min(r[0], r[1]),
              d = Math.max(r[0], r[1]),
              f = e.get('clockwise'),
              g = 1,
              y = i.length;
            g <= y;
            g++
          ) {
            var m = (g === y ? i[0] : i[g]).coord,
              v = s++ % l.length
            ;(u[v] = u[v] || []),
              u[v].push(new Vu({ shape: { cx: n.cx, cy: n.cy, r0: p, r: d, startAngle: c, endAngle: -m * h, clockwise: f }, silent: !0 })),
              (c = -m * h)
          }
          for (g = 0; g < u.length; g++) t.add(tc(u[g], { style: z({ fill: l[g % l.length] }, a.getAreaStyle()), silent: !0 }))
        }
      },
    },
    PT = ['axisLine', 'axisTickLabel', 'axisName'],
    OT = ['splitLine', 'splitArea', 'minorSplitLine'],
    RT =
      (u(NT, (kT = LS)),
      (NT.prototype.render = function(e, t) {
        var n, i, o, r, a, s, l, u, h
        this.group.removeAll(),
          e.get('show') &&
            ((n = this._axisGroup),
            (i = this._axisGroup = new Yo()),
            this.group.add(i),
            (o = e.axis),
            (h = (r = o.polar).getAngleAxis()),
            (a = o.getTicksCoords()),
            (s = o.getMinorTicksCoords()),
            (l = h.getExtent()[0]),
            (u = o.getExtent()),
            (h = {
              position: [r.cx, r.cy],
              rotation: (l / 180) * Math.PI,
              labelDirection: -1,
              tickDirection: -1,
              nameDirection: 1,
              labelRotate: e.getModel('axisLabel').get('rotate'),
              z2: 1,
            }),
            (h = new mS(e, h)),
            E(PT, h.add, h),
            i.add(h.getGroup()),
            lc(n, i, e),
            E(
              OT,
              function(t) {
                e.get([t, 'show']) && !o.scale.isBlank() && ET[t](this.group, e, r, l, u, a, s)
              },
              this
            ))
      }),
      (NT.type = 'radiusAxis'),
      NT)
  function NT() {
    var t = (null !== kT && kT.apply(this, arguments)) || this
    return (t.type = NT.type), (t.axisPointerClass = 'PolarAxisPointer'), t
  }
  var ET = {
    splitLine: function(t, e, n, i, o, r) {
      for (
        var a = e.getModel('splitLine').getModel('lineStyle'),
          s = a.get('color'),
          l = 0,
          u = n.getAngleAxis(),
          h = Math.PI / 180,
          c = u.getExtent(),
          p = 360 === Math.abs(c[1] - c[0]) ? 'Circle' : 'Arc',
          s = s instanceof Array ? s : [s],
          d = [],
          f = 0;
        f < r.length;
        f++
      ) {
        var g = l++ % s.length
        ;(d[g] = d[g] || []),
          d[g].push(
            new yc[p]({
              shape: { cx: n.cx, cy: n.cy, r: Math.max(r[f].coord, 0), startAngle: -c[0] * h, endAngle: -c[1] * h, clockwise: u.inverse },
            })
          )
      }
      for (f = 0; f < d.length; f++) t.add(tc(d[f], { style: z({ stroke: s[f % s.length], fill: null }, a.getLineStyle()), silent: !0 }))
    },
    minorSplitLine: function(t, e, n, i, o, r, a) {
      if (a.length) {
        for (var e = e.getModel('minorSplitLine').getModel('lineStyle'), s = [], l = 0; l < a.length; l++)
          for (var u = 0; u < a[l].length; u++) s.push(new vu({ shape: { cx: n.cx, cy: n.cy, r: a[l][u].coord } }))
        t.add(tc(s, { style: z({ fill: null }, e.getLineStyle()), silent: !0 }))
      }
    },
    splitArea: function(t, e, n, i, o, r) {
      if (r.length) {
        for (
          var a = e.getModel('splitArea').getModel('areaStyle'),
            s = 0,
            l = (l = a.get('color')) instanceof Array ? l : [l],
            u = [],
            h = r[0].coord,
            c = 1;
          c < r.length;
          c++
        ) {
          var p = s++ % l.length
          ;(u[p] = u[p] || []),
            u[p].push(new Vu({ shape: { cx: n.cx, cy: n.cy, r0: h, r: r[c].coord, startAngle: 0, endAngle: 2 * Math.PI }, silent: !0 })),
            (h = r[c].coord)
        }
        for (c = 0; c < u.length; c++) t.add(tc(u[c], { style: z({ fill: l[c % l.length] }, a.getAreaStyle()), silent: !0 }))
      }
    },
  }
  function zT(t) {
    return t.get('stack') || '__ec_stack_' + t.seriesIndex
  }
  function BT(t, e) {
    return e.dim + t.model.componentIndex
  }
  function VT(t, e, n) {
    var i,
      l,
      c,
      k = {},
      L =
        ((i = ht(e.getSeriesByType(t), function(t) {
          return !e.isSeriesFiltered(t) && t.coordinateSystem && 'polar' === t.coordinateSystem.type
        })),
        (l = {}),
        E(i, function(t, e) {
          var n = t.getData(),
            i = t.coordinateSystem,
            o = i.getBaseAxis(),
            i = BT(i, o),
            r = o.getExtent(),
            o = 'category' === o.type ? o.getBandWidth() : Math.abs(r[1] - r[0]) / n.count(),
            r = l[i] || { bandWidth: o, remainedWidth: o, autoWidthCount: 0, categoryGap: '20%', gap: '30%', stacks: {} },
            n = r.stacks,
            i = ((l[i] = r), zT(t)),
            a = (n[i] || r.autoWidthCount++, (n[i] = n[i] || { width: 0, maxWidth: 0 }), W(t.get('barWidth'), o)),
            o = W(t.get('barMaxWidth'), o),
            s = t.get('barGap'),
            t = t.get('barCategoryGap')
          a && !n[i].width && ((a = Math.min(r.remainedWidth, a)), (n[i].width = a), (r.remainedWidth -= a)),
            o && (n[i].maxWidth = o),
            null != s && (r.gap = s),
            null != t && (r.categoryGap = t)
        }),
        (c = {}),
        E(l, function(t, n) {
          c[n] = {}
          var i,
            e = t.stacks,
            o = t.bandWidth,
            o = W(t.categoryGap, o),
            r = W(t.gap, 1),
            a = t.remainedWidth,
            s = t.autoWidthCount,
            l = (a - o) / (s + (s - 1) * r),
            l = Math.max(l, 0),
            u =
              (E(e, function(t, e) {
                var n = t.maxWidth
                n && n < l && ((n = Math.min(n, a)), t.width && (n = Math.min(n, t.width)), (a -= n), (t.width = n), s--)
              }),
              (l = (a - o) / (s + (s - 1) * r)),
              (l = Math.max(l, 0)),
              0),
            h =
              (E(e, function(t, e) {
                t.width || (t.width = l), (u += (i = t).width * (1 + r))
              }),
              i && (u -= i.width * r),
              -u / 2)
          E(e, function(t, e) {
            ;(c[n][e] = c[n][e] || { offset: h, width: t.width }), (h += t.width * (1 + r))
          })
        }),
        c)
    e.eachSeriesByType(t, function(t) {
      if ('polar' === t.coordinateSystem.type)
        for (
          var e = t.getData(),
            n = t.coordinateSystem,
            i = n.getBaseAxis(),
            o = BT(n, i),
            r = zT(t),
            o = L[o][r],
            a = o.offset,
            s = o.width,
            l = n.getOtherAxis(i),
            u = t.coordinateSystem.cx,
            h = t.coordinateSystem.cy,
            c = t.get('barMinHeight') || 0,
            p = t.get('barMinAngle') || 0,
            d = ((k[r] = k[r] || []), e.mapDimension(l.dim)),
            f = e.mapDimension(i.dim),
            g = Fv(e, d),
            y = 'radius' !== i.dim || !t.get('roundCap', !0),
            o = l.model.get('startValue'),
            m = l.dataToCoord(o || 0),
            v = 0,
            _ = e.count();
          v < _;
          v++
        ) {
          var x,
            w,
            b = e.get(d, v),
            S = e.get(f, v),
            M = 0 <= b ? 'p' : 'n',
            T = m,
            I = (g && (k[r][S] || (k[r][S] = { p: m, n: m }), (T = k[r][S][M])), void 0),
            C = void 0,
            A = void 0,
            D = void 0
          'radius' === l.dim
            ? ((w = l.dataToCoord(b) - m),
              (x = i.dataToCoord(S)),
              (C = (I = T) + (w = Math.abs(w) < c ? (w < 0 ? -1 : 1) * c : w)),
              (D = (A = x - a) - s),
              g && (k[r][S][M] = C))
            : ((w = l.dataToCoord(b, y) - m),
              (C = (I = i.dataToCoord(S) + a) + s),
              (D = (A = T) + (w = Math.abs(w) < p ? (w < 0 ? -1 : 1) * p : w)),
              g && (k[r][S][M] = D)),
            e.setItemLayout(v, {
              cx: u,
              cy: h,
              r0: I,
              r: C,
              startAngle: (-A * Math.PI) / 180,
              endAngle: (-D * Math.PI) / 180,
              clockwise: D <= A,
            })
        }
    })
  }
  var FT,
    HT = { startAngle: 90, clockwise: !0, splitNumber: 12, axisLabel: { rotate: 0 } },
    GT = { splitNumber: 5 },
    WT = (u(UT, (FT = ry)), (UT.type = 'polar'), UT)
  function UT() {
    var t = (null !== FT && FT.apply(this, arguments)) || this
    return (t.type = UT.type), t
  }
  i1(function(t) {
    i1($M),
      LS.registerAxisPointerClass('PolarAxisPointer', bM),
      t.registerCoordinateSystem('polar', bT),
      t.registerComponentModel(JM),
      t.registerComponentView(WT),
      Kb(t, 'angle', oT, HT),
      Kb(t, 'radius', sT, GT),
      t.registerComponentView(AT),
      t.registerComponentView(RT),
      t.registerLayout(M(VT, 'bar'))
  })
  u(ZT, (YT = g)),
    (ZT.type = 'title'),
    (ZT.defaultOption = {
      z: 6,
      show: !0,
      text: '',
      target: 'blank',
      subtext: '',
      subtarget: 'blank',
      left: 0,
      top: 0,
      backgroundColor: 'rgba(0,0,0,0)',
      borderColor: '#ccc',
      borderWidth: 0,
      padding: 5,
      itemGap: 10,
      textStyle: { fontSize: 18, fontWeight: 'bold', color: '#464646' },
      subtextStyle: { fontSize: 12, color: '#6E7079' },
    })
  var YT,
    XT = ZT
  function ZT() {
    var t = (null !== YT && YT.apply(this, arguments)) || this
    return (t.type = ZT.type), (t.layoutMode = { type: 'box', ignoreSize: !0 }), t
  }
  u(KT, (qT = ry)),
    (KT.prototype.render = function(t, e, n) {
      var i, o, r, a, s, l, u, h, c
      this.group.removeAll(),
        t.get('show') &&
          ((i = this.group),
          (u = t.getModel('textStyle')),
          (o = t.getModel('subtextStyle')),
          (h = t.get('textAlign')),
          (c = R(t.get('textBaseline'), t.get('textVerticalAlign'))),
          (s = (u = new Hs({
            style: bc(u, { text: t.get('text'), fill: u.getTextColor() }, { disableBox: !0 }),
            z2: 10,
          })).getBoundingRect()),
          (l = t.get('subtext')),
          (o = new Hs({
            style: bc(o, { text: l, fill: o.getTextColor(), y: s.height + t.get('itemGap'), verticalAlign: 'top' }, { disableBox: !0 }),
            z2: 10,
          })),
          (r = t.get('link')),
          (a = t.get('sublink')),
          (s = t.get('triggerEvent', !0)),
          (u.silent = !r && !s),
          (o.silent = !a && !s),
          r &&
            u.on('click', function() {
              Bp(r, '_' + t.get('target'))
            }),
          a &&
            o.on('click', function() {
              Bp(a, '_' + t.get('subtarget'))
            }),
          (D(u).eventData = D(o).eventData = s ? { componentType: 'title', componentIndex: t.componentIndex } : null),
          i.add(u),
          l && i.add(o),
          (s = i.getBoundingRect()),
          ((l = t.getBoxLayoutParams()).width = s.width),
          (l.height = s.height),
          (l = Up(l, { width: n.getWidth(), height: n.getHeight() }, t.get('padding'))),
          h ||
            ('right' === (h = 'middle' === (h = t.get('left') || t.get('right')) ? 'center' : h)
              ? (l.x += l.width)
              : 'center' === h && (l.x += l.width / 2)),
          c ||
            ('bottom' === (c = 'center' === (c = t.get('top') || t.get('bottom')) ? 'middle' : c)
              ? (l.y += l.height)
              : 'middle' === c && (l.y += l.height / 2),
            (c = c || 'top')),
          (i.x = l.x),
          (i.y = l.y),
          i.markRedraw(),
          u.setStyle((n = { align: h, verticalAlign: c })),
          o.setStyle(n),
          (s = i.getBoundingRect()),
          (u = l.margin),
          ((h = t.getItemStyle(['color', 'opacity'])).fill = t.get('backgroundColor')),
          (c = new Es({
            shape: { x: s.x - u[3], y: s.y - u[0], width: s.width + u[1] + u[3], height: s.height + u[0] + u[2], r: t.get('borderRadius') },
            style: h,
            subPixelOptimize: !0,
            silent: !0,
          })),
          i.add(c))
    }),
    (KT.type = 'title')
  var qT,
    jT = KT
  function KT() {
    var t = (null !== qT && qT.apply(this, arguments)) || this
    return (t.type = KT.type), t
  }
  i1(function(t) {
    t.registerComponentModel(XT), t.registerComponentView(jT)
  })
  u(JT, ($T = g)),
    (JT.prototype.init = function(t, e, n) {
      this.mergeDefaultAndTheme(t, n), (t.selected = t.selected || {}), this._updateSelector(t)
    }),
    (JT.prototype.mergeOption = function(t, e) {
      $T.prototype.mergeOption.call(this, t, e), this._updateSelector(t)
    }),
    (JT.prototype._updateSelector = function(t) {
      var n = t.selector,
        i = this.ecModel
      V((n = !0 === n ? (t.selector = ['all', 'inverse']) : n)) &&
        E(n, function(t, e) {
          F(t) && (t = { type: t }),
            (n[e] = d(
              t,
              ((e = i),
              'all' === (t = t.type)
                ? { type: 'all', title: e.getLocaleModel().get(['legend', 'selector', 'all']) }
                : 'inverse' === t
                ? { type: 'inverse', title: e.getLocaleModel().get(['legend', 'selector', 'inverse']) }
                : void 0)
            ))
        })
    }),
    (JT.prototype.optionUpdated = function() {
      this._updateData(this.ecModel)
      var t = this._data
      if (t[0] && 'single' === this.get('selectedMode')) {
        for (var e = !1, n = 0; n < t.length; n++) {
          var i = t[n].get('name')
          if (this.isSelected(i)) {
            this.select(i), (e = !0)
            break
          }
        }
        e || this.select(t[0].get('name'))
      }
    }),
    (JT.prototype._updateData = function(i) {
      var o = [],
        r = [],
        t =
          (i.eachRawSeries(function(t) {
            var e,
              n = t.name
            r.push(n),
              t.legendVisualProvider && ((n = t.legendVisualProvider.getAllNames()), i.isSeriesFiltered(t) || (r = r.concat(n)), n.length)
                ? (o = o.concat(n))
                : (e = !0),
              e && Lr(t) && o.push(t.name)
          }),
          (this._availableNames = r),
          this.get('data') || o),
        e = N(),
        t = B(
          t,
          function(t) {
            return (F(t) || H(t)) && (t = { name: t }), e.get(t.name) ? null : (e.set(t.name, !0), new Uc(t, this, this.ecModel))
          },
          this
        )
      this._data = ht(t, function(t) {
        return !!t
      })
    }),
    (JT.prototype.getData = function() {
      return this._data
    }),
    (JT.prototype.select = function(t) {
      var e = this.option.selected
      'single' === this.get('selectedMode') &&
        E(this._data, function(t) {
          e[t.get('name')] = !1
        }),
        (e[t] = !0)
    }),
    (JT.prototype.unSelect = function(t) {
      'single' !== this.get('selectedMode') && (this.option.selected[t] = !1)
    }),
    (JT.prototype.toggleSelected = function(t) {
      var e = this.option.selected
      e.hasOwnProperty(t) || (e[t] = !0), this[e[t] ? 'unSelect' : 'select'](t)
    }),
    (JT.prototype.allSelect = function() {
      var t = this._data,
        e = this.option.selected
      E(t, function(t) {
        e[t.get('name', !0)] = !0
      })
    }),
    (JT.prototype.inverseSelect = function() {
      var t = this._data,
        e = this.option.selected
      E(t, function(t) {
        t = t.get('name', !0)
        e.hasOwnProperty(t) || (e[t] = !0), (e[t] = !e[t])
      })
    }),
    (JT.prototype.isSelected = function(t) {
      var e = this.option.selected
      return !(e.hasOwnProperty(t) && !e[t]) && 0 <= C(this._availableNames, t)
    }),
    (JT.prototype.getOrient = function() {
      return 'vertical' === this.get('orient') ? { index: 1, name: 'vertical' } : { index: 0, name: 'horizontal' }
    }),
    (JT.type = 'legend.plain'),
    (JT.dependencies = ['series']),
    (JT.defaultOption = {
      z: 4,
      show: !0,
      orient: 'horizontal',
      left: 'center',
      top: 0,
      align: 'auto',
      backgroundColor: 'rgba(0,0,0,0)',
      borderColor: '#ccc',
      borderRadius: 0,
      borderWidth: 0,
      padding: 5,
      itemGap: 10,
      itemWidth: 25,
      itemHeight: 14,
      symbolRotate: 'inherit',
      symbolKeepAspect: !0,
      inactiveColor: '#ccc',
      inactiveBorderColor: '#ccc',
      inactiveBorderWidth: 'auto',
      itemStyle: {
        color: 'inherit',
        opacity: 'inherit',
        borderColor: 'inherit',
        borderWidth: 'auto',
        borderCap: 'inherit',
        borderJoin: 'inherit',
        borderDashOffset: 'inherit',
        borderMiterLimit: 'inherit',
      },
      lineStyle: {
        width: 'auto',
        color: 'inherit',
        inactiveColor: '#ccc',
        inactiveWidth: 2,
        opacity: 'inherit',
        type: 'inherit',
        cap: 'inherit',
        join: 'inherit',
        dashOffset: 'inherit',
        miterLimit: 'inherit',
      },
      textStyle: { color: '#333' },
      selectedMode: !0,
      selector: !1,
      selectorLabel: {
        show: !0,
        borderRadius: 10,
        padding: [3, 5, 3, 5],
        fontSize: 12,
        fontFamily: 'sans-serif',
        color: '#666',
        borderWidth: 1,
        borderColor: '#666',
      },
      emphasis: { selectorLabel: { show: !0, color: '#eee', backgroundColor: '#666' } },
      selectorPosition: 'auto',
      selectorItemGap: 7,
      selectorButtonGap: 10,
      tooltip: { show: !1 },
    })
  var $T,
    QT = JT
  function JT() {
    var t = (null !== $T && $T.apply(this, arguments)) || this
    return (t.type = JT.type), (t.layoutMode = { type: 'box', ignoreSize: !0 }), t
  }
  var t2,
    e2 = M,
    n2 = E,
    i2 = Yo,
    o2 =
      (u(r2, (t2 = ry)),
      (r2.prototype.init = function() {
        this.group.add((this._contentGroup = new i2())), this.group.add((this._selectorGroup = new i2())), (this._isFirstRender = !0)
      }),
      (r2.prototype.getContentGroup = function() {
        return this._contentGroup
      }),
      (r2.prototype.getSelectorGroup = function() {
        return this._selectorGroup
      }),
      (r2.prototype.render = function(t, e, n) {
        var i,
          o,
          r,
          a,
          s,
          l = this._isFirstRender
        ;(this._isFirstRender = !1),
          this.resetInner(),
          t.get('show', !0) &&
            ((o = t.get('align')),
            (i = t.get('orient')),
            (o && 'auto' !== o) || (o = 'right' === t.get('left') && 'vertical' === i ? 'right' : 'left'),
            (a = t.get('selector', !0)),
            (s = t.get('selectorPosition', !0)),
            this.renderInner(o, t, e, n, a, i, (s = !a || (s && 'auto' !== s) ? s : 'horizontal' === i ? 'end' : 'start')),
            (r = Up((e = t.getBoxLayoutParams()), (i = { width: n.getWidth(), height: n.getHeight() }), (n = t.get('padding')))),
            (r = Up(z({ width: (o = this.layoutInner(t, o, r, l, a, s)).width, height: o.height }, e), i, n)),
            (this.group.x = r.x - o.x),
            (this.group.y = r.y - o.y),
            this.group.markRedraw(),
            this.group.add(
              (this._backgroundEl =
                ((l = o),
                (s = Lp((a = t).get('padding'))),
                ((e = a.getItemStyle(['color', 'opacity'])).fill = a.get('backgroundColor')),
                (l = new Es({
                  shape: {
                    x: l.x - s[3],
                    y: l.y - s[0],
                    width: l.width + s[1] + s[3],
                    height: l.height + s[0] + s[2],
                    r: a.get('borderRadius'),
                  },
                  style: e,
                  silent: !0,
                  z2: -1,
                }))))
            ))
      }),
      (r2.prototype.resetInner = function() {
        this.getContentGroup().removeAll(), this._backgroundEl && this.group.remove(this._backgroundEl), this.getSelectorGroup().removeAll()
      }),
      (r2.prototype.renderInner = function(s, l, u, h, t, e, n) {
        var c = this.getContentGroup(),
          p = N(),
          d = l.get('selectedMode'),
          f = []
        u.eachRawSeries(function(t) {
          t.get('legendHoverLink') || f.push(t.id)
        }),
          n2(
            l.getData(),
            function(o, r) {
              var e,
                t,
                n,
                i,
                a = o.get('name')
              this.newlineDisabled || ('' !== a && '\n' !== a)
                ? ((e = u.getSeriesByName(a)[0]),
                  p.get(a) ||
                    (e
                      ? ((i = (n = e.getData()).getVisual('legendLineStyle') || {}),
                        (t = n.getVisual('legendIcon')),
                        (n = n.getVisual('style')),
                        (i = this._createItem(e, a, r, o, l, s, i, n, t, d, h))
                          .on('click', e2(a2, a, null, h, f))
                          .on('mouseover', e2(l2, e.name, null, h, f))
                          .on('mouseout', e2(u2, e.name, null, h, f)),
                        u.ssr &&
                          i.eachChild(function(t) {
                            t = D(t)
                            ;(t.seriesIndex = e.seriesIndex), (t.dataIndex = r), (t.ssrType = 'legend')
                          }),
                        p.set(a, !0))
                      : u.eachRawSeries(function(e) {
                          var t, n, i
                          p.get(a) ||
                            (e.legendVisualProvider &&
                              (n = e.legendVisualProvider).containName(a) &&
                              ((i = n.indexOfName(a)),
                              (t = n.getItemVisual(i, 'style')),
                              (n = n.getItemVisual(i, 'legendIcon')),
                              (i = yi(t.fill)) && 0 === i[3] && ((i[3] = 0.2), (t = P(P({}, t), { fill: Si(i, 'rgba') }))),
                              (i = this._createItem(e, a, r, o, l, s, {}, t, n, d, h))
                                .on('click', e2(a2, null, a, h, f))
                                .on('mouseover', e2(l2, null, a, h, f))
                                .on('mouseout', e2(u2, null, a, h, f)),
                              u.ssr &&
                                i.eachChild(function(t) {
                                  t = D(t)
                                  ;(t.seriesIndex = e.seriesIndex), (t.dataIndex = r), (t.ssrType = 'legend')
                                }),
                              p.set(a, !0)))
                        }, this)))
                : (((n = new i2()).newline = !0), c.add(n))
            },
            this
          ),
          t && this._createSelector(t, l, h, e, n)
      }),
      (r2.prototype._createSelector = function(t, i, o, e, n) {
        var r = this.getSelectorGroup()
        n2(t, function(t) {
          var e = t.type,
            n = new Hs({
              style: { x: 0, y: 0, align: 'center', verticalAlign: 'middle' },
              onclick: function() {
                o.dispatchAction({ type: 'all' === e ? 'legendAllSelect' : 'legendInverseSelect', legendId: i.id })
              },
            })
          r.add(n),
            xc(n, { normal: i.getModel('selectorLabel'), emphasis: i.getModel(['emphasis', 'selectorLabel']) }, { defaultText: t.title }),
            Gl(n)
        })
      }),
      (r2.prototype._createItem = function(t, e, n, i, o, r, a, s, l, u, h) {
        var c = t.visualDrawType,
          p = o.get('itemWidth'),
          d = o.get('itemHeight'),
          f = o.isSelected(e),
          g = i.get('symbolRotate'),
          y = i.get('symbolKeepAspect'),
          m = i.get('icon'),
          a = (function(t, e, n, i, o, r, a) {
            function s(n, i) {
              'auto' === n.lineWidth && (n.lineWidth = 0 < i.lineWidth ? 2 : 0),
                n2(n, function(t, e) {
                  'inherit' === n[e] && (n[e] = i[e])
                })
            }
            var l = e.getModel('itemStyle'),
              u = l.getItemStyle(),
              t = 0 === t.lastIndexOf('empty', 0) ? 'fill' : 'stroke',
              l = l.getShallow('decal')
            ;(u.decal = l && 'inherit' !== l ? Um(l, a) : i.decal), 'inherit' === u.fill && (u.fill = i[o])
            'inherit' === u.stroke && (u.stroke = i[t])
            'inherit' === u.opacity && (u.opacity = ('fill' === o ? i : n).opacity)
            s(u, i)
            ;(l = e.getModel('lineStyle')), (a = l.getLineStyle())
            s(a, n),
              'auto' === u.fill && (u.fill = i.fill),
              'auto' === u.stroke && (u.stroke = i.fill),
              'auto' === a.stroke && (a.stroke = i.fill),
              r ||
                ((o = e.get('inactiveBorderWidth')),
                (n = u[t]),
                (u.lineWidth = 'auto' === o ? (0 < i.lineWidth && n ? 2 : 0) : u.lineWidth),
                (u.fill = e.get('inactiveColor')),
                (u.stroke = e.get('inactiveBorderColor')),
                (a.stroke = l.get('inactiveColor')),
                (a.lineWidth = l.get('inactiveWidth')))
            return { itemStyle: u, lineStyle: a }
          })((l = m || l || 'roundRect'), i, a, s, c, f, h),
          s = new i2(),
          c = i.getModel('textStyle'),
          m =
            (!A(t.getLegendIcon) || (m && 'inherit' !== m)
              ? ((h =
                  'inherit' === m && t.getData().getVisual('symbol') ? ('inherit' === g ? t.getData().getVisual('symbolRotate') : g) : 0),
                s.add(
                  (function(t) {
                    var e = t.icon || 'roundRect',
                      n = dm(e, 0, 0, t.itemWidth, t.itemHeight, t.itemStyle.fill, t.symbolKeepAspect)
                    n.setStyle(t.itemStyle),
                      (n.rotation = ((t.iconRotate || 0) * Math.PI) / 180),
                      n.setOrigin([t.itemWidth / 2, t.itemHeight / 2]),
                      -1 < e.indexOf('empty') && ((n.style.stroke = n.style.fill), (n.style.fill = '#fff'), (n.style.lineWidth = 2))
                    return n
                  })({
                    itemWidth: p,
                    itemHeight: d,
                    icon: l,
                    iconRotate: h,
                    itemStyle: a.itemStyle,
                    lineStyle: a.lineStyle,
                    symbolKeepAspect: y,
                  })
                ))
              : s.add(
                  t.getLegendIcon({
                    itemWidth: p,
                    itemHeight: d,
                    icon: l,
                    iconRotate: g,
                    itemStyle: a.itemStyle,
                    lineStyle: a.lineStyle,
                    symbolKeepAspect: y,
                  })
                ),
            'left' === r ? p + 5 : -5),
          h = r,
          t = o.get('formatter'),
          l = e,
          g =
            (F(t) && t ? (l = t.replace('{name}', null != e ? e : '')) : A(t) && (l = t(e)), f ? c.getTextColor() : i.get('inactiveColor')),
          a =
            (s.add(new Hs({ style: bc(c, { text: l, x: m, y: d / 2, fill: g, align: h, verticalAlign: 'middle' }, { inheritColor: g }) })),
            new Es({ shape: s.getBoundingRect(), style: { fill: 'transparent' } })),
          y = i.getModel('tooltip')
        return (
          y.get('show') && dc({ el: a, componentModel: o, itemName: e, itemTooltipOption: y.option }),
          s.add(a),
          s.eachChild(function(t) {
            t.silent = !0
          }),
          (a.silent = !u),
          this.getContentGroup().add(s),
          Gl(s),
          (s.__legendDataIndex = n),
          s
        )
      }),
      (r2.prototype.layoutInner = function(t, e, n, i, o, r) {
        var a,
          s,
          l,
          u,
          h,
          c = this.getContentGroup(),
          p = this.getSelectorGroup(),
          n = (Wp(t.get('orient'), c, t.get('itemGap'), n.width, n.height), c.getBoundingRect()),
          d = [-n.x, -n.y]
        return (
          p.markRedraw(),
          c.markRedraw(),
          o
            ? (Wp('horizontal', p, t.get('selectorItemGap', !0)),
              (a = [-(o = p.getBoundingRect()).x, -o.y]),
              (s = t.get('selectorButtonGap', !0)),
              (l = 0 === (t = t.getOrient().index) ? 'width' : 'height'),
              (u = 0 === t ? 'height' : 'width'),
              (h = 0 === t ? 'y' : 'x'),
              'end' === r ? (a[t] += n[l] + s) : (d[t] += o[l] + s),
              (a[1 - t] += n[u] / 2 - o[u] / 2),
              (p.x = a[0]),
              (p.y = a[1]),
              (c.x = d[0]),
              (c.y = d[1]),
              ((r = { x: 0, y: 0 })[l] = n[l] + s + o[l]),
              (r[u] = Math.max(n[u], o[u])),
              (r[h] = Math.min(0, o[h] + a[1 - t])),
              r)
            : ((c.x = d[0]), (c.y = d[1]), this.group.getBoundingRect())
        )
      }),
      (r2.prototype.remove = function() {
        this.getContentGroup().removeAll(), (this._isFirstRender = !0)
      }),
      (r2.type = 'legend.plain'),
      r2)
  function r2() {
    var t = (null !== t2 && t2.apply(this, arguments)) || this
    return (t.type = r2.type), (t.newlineDisabled = !1), t
  }
  function a2(t, e, n, i) {
    u2(t, e, n, i), n.dispatchAction({ type: 'legendToggleSelect', name: null != t ? t : e }), l2(t, e, n, i)
  }
  function s2(t) {
    for (var e, n = t.getZr().storage.getDisplayList(), i = 0, o = n.length; i < o && !(e = n[i].states.emphasis); ) i++
    return e && e.hoverLayer
  }
  function l2(t, e, n, i) {
    s2(n) || n.dispatchAction({ type: 'highlight', seriesName: t, name: e, excludeSeriesId: i })
  }
  function u2(t, e, n, i) {
    s2(n) || n.dispatchAction({ type: 'downplay', seriesName: t, name: e, excludeSeriesId: i })
  }
  function h2(t) {
    var n = t.findComponents({ mainType: 'legend' })
    n &&
      n.length &&
      t.filterSeries(function(t) {
        for (var e = 0; e < n.length; e++) if (!n[e].isSelected(t.name)) return !1
        return !0
      })
  }
  function c2(e, n, t) {
    var i = 'allSelect' === e || 'inverseSelect' === e,
      o = {},
      r = [],
      a =
        (t.eachComponent({ mainType: 'legend', query: n }, function(t) {
          i ? t[e]() : t[e](n.name), p2(t, o), r.push(t.componentIndex)
        }),
        {})
    return (
      t.eachComponent('legend', function(n) {
        E(o, function(t, e) {
          n[t ? 'select' : 'unSelect'](e)
        }),
          p2(n, a)
      }),
      i ? { selected: a, legendIndex: r } : { name: n.name, selected: a }
    )
  }
  function p2(n, t) {
    var i = t || {}
    E(n.getData(), function(t) {
      var e,
        t = t.get('name')
      '\n' !== t && '' !== t && ((e = n.isSelected(t)), zt(i, t) ? (i[t] = i[t] && e) : (i[t] = e))
    })
  }
  function d2(t) {
    t.registerComponentModel(QT),
      t.registerComponentView(o2),
      t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER, h2),
      t.registerSubTypeDefaulter('legend', function() {
        return 'plain'
      }),
      (t = t).registerAction('legendToggleSelect', 'legendselectchanged', M(c2, 'toggleSelected')),
      t.registerAction('legendAllSelect', 'legendselectall', M(c2, 'allSelect')),
      t.registerAction('legendInverseSelect', 'legendinverseselect', M(c2, 'inverseSelect')),
      t.registerAction('legendSelect', 'legendselected', M(c2, 'select')),
      t.registerAction('legendUnSelect', 'legendunselected', M(c2, 'unSelect'))
  }
  u(y2, (f2 = QT)),
    (y2.prototype.setScrollDataIndex = function(t) {
      this.option.scrollDataIndex = t
    }),
    (y2.prototype.init = function(t, e, n) {
      var i = Zp(t)
      f2.prototype.init.call(this, t, e, n), m2(this, t, i)
    }),
    (y2.prototype.mergeOption = function(t, e) {
      f2.prototype.mergeOption.call(this, t, e), m2(this, this.option, t)
    }),
    (y2.type = 'legend.scroll'),
    (y2.defaultOption = qc(QT.defaultOption, {
      scrollDataIndex: 0,
      pageButtonItemGap: 5,
      pageButtonGap: null,
      pageButtonPosition: 'end',
      pageFormatter: '{current}/{total}',
      pageIcons: { horizontal: ['M0,0L12,-10L12,10z', 'M0,0L-12,-10L-12,10z'], vertical: ['M0,0L20,0L10,-20z', 'M0,0L20,0L10,20z'] },
      pageIconColor: '#2f4554',
      pageIconInactiveColor: '#aaa',
      pageIconSize: 15,
      pageTextStyle: { color: '#333' },
      animationDurationUpdate: 800,
    }))
  var f2,
    g2 = y2
  function y2() {
    var t = (null !== f2 && f2.apply(this, arguments)) || this
    return (t.type = y2.type), t
  }
  function m2(t, e, n) {
    var i = [1, 1]
    ;(i[t.getOrient().index] = 0), Xp(e, n, { type: 'box', ignoreSize: !!i })
  }
  var v2,
    _2 = Yo,
    x2 = ['width', 'height'],
    w2 = ['x', 'y'],
    b2 =
      (u(S2, (v2 = o2)),
      (S2.prototype.init = function() {
        v2.prototype.init.call(this),
          this.group.add((this._containerGroup = new _2())),
          this._containerGroup.add(this.getContentGroup()),
          this.group.add((this._controllerGroup = new _2()))
      }),
      (S2.prototype.resetInner = function() {
        v2.prototype.resetInner.call(this),
          this._controllerGroup.removeAll(),
          this._containerGroup.removeClipPath(),
          (this._containerGroup.__rectSize = null)
      }),
      (S2.prototype.renderInner = function(t, i, e, o, n, r, a) {
        var s = this,
          l = (v2.prototype.renderInner.call(this, t, i, e, o, n, r, a), this._controllerGroup),
          t = i.get('pageIconSize', !0),
          u = V(t) ? t : [t, t],
          e = (h('pagePrev', 0), i.getModel('pageTextStyle'))
        function h(t, e) {
          var n = t + 'DataIndex',
            e = cc(
              i.get('pageIcons', !0)[i.getOrient().name][e],
              { onclick: S(s._pageGo, s, n, i, o) },
              { x: -u[0] / 2, y: -u[1] / 2, width: u[0], height: u[1] }
            )
          ;(e.name = t), l.add(e)
        }
        l.add(
          new Hs({
            name: 'pageText',
            style: { text: 'xx/xx', fill: e.getTextColor(), font: e.getFont(), verticalAlign: 'middle', align: 'center' },
            silent: !0,
          })
        ),
          h('pageNext', 1)
      }),
      (S2.prototype.layoutInner = function(t, e, n, i, o, r) {
        var a = this.getSelectorGroup(),
          s = t.getOrient().index,
          l = x2[s],
          u = w2[s],
          h = x2[1 - s],
          c = w2[1 - s],
          p = (o && Wp('horizontal', a, t.get('selectorItemGap', !0)), t.get('selectorButtonGap', !0)),
          d = a.getBoundingRect(),
          f = [-d.x, -d.y],
          g = y(n),
          n = (o && (g[l] = n[l] - d[l] - p), this._layoutContentAndController(t, i, g, s, l, h, c, u))
        return (
          o &&
            ('end' === r ? (f[s] += n[l] + p) : ((t = d[l] + p), (f[s] -= t), (n[u] -= t)),
            (n[l] += d[l] + p),
            (f[1 - s] += n[c] + n[h] / 2 - d[h] / 2),
            (n[h] = Math.max(n[h], d[h])),
            (n[c] = Math.min(n[c], d[c] + f[1 - s])),
            (a.x = f[0]),
            (a.y = f[1]),
            a.markRedraw()),
          n
        )
      }),
      (S2.prototype._layoutContentAndController = function(t, e, n, i, o, r, a, s) {
        var l = this.getContentGroup(),
          u = this._containerGroup,
          h = this._controllerGroup,
          c =
            (Wp(t.get('orient'), l, t.get('itemGap'), i ? n.width : null, i ? null : n.height),
            Wp('horizontal', h, t.get('pageButtonItemGap', !0)),
            l.getBoundingRect()),
          p = h.getBoundingRect(),
          d = (this._showController = c[o] > n[o]),
          f = [-c.x, -c.y],
          e = (e || (f[i] = l[s]), [0, 0]),
          s = [-p.x, -p.y],
          g = R(t.get('pageButtonGap', !0), t.get('itemGap', !0)),
          f =
            (d && ('end' === t.get('pageButtonPosition', !0) ? (s[i] += n[o] - p[o]) : (e[i] += p[o] + g)),
            (s[1 - i] += c[r] / 2 - p[r] / 2),
            l.setPosition(f),
            u.setPosition(e),
            h.setPosition(s),
            { x: 0, y: 0 }),
          c =
            ((f[o] = (d ? n : c)[o]),
            (f[r] = Math.max(c[r], p[r])),
            (f[a] = Math.min(0, p[a] + s[1 - i])),
            (u.__rectSize = n[o]),
            d
              ? (((e = { x: 0, y: 0 })[o] = Math.max(n[o] - p[o] - g, 0)),
                (e[r] = f[r]),
                u.setClipPath(new Es({ shape: e })),
                (u.__rectSize = e[o]))
              : h.eachChild(function(t) {
                  t.attr({ invisible: !0, silent: !0 })
                }),
            this._getPageInfo(t))
        return (
          null != c.pageIndex && Eh(l, { x: c.contentPosition[0], y: c.contentPosition[1] }, d ? t : null),
          this._updatePageInfoView(t, c),
          f
        )
      }),
      (S2.prototype._pageGo = function(t, e, n) {
        t = this._getPageInfo(e)[t]
        null != t && n.dispatchAction({ type: 'legendScroll', scrollDataIndex: t, legendId: e.id })
      }),
      (S2.prototype._updatePageInfoView = function(n, i) {
        var o = this._controllerGroup,
          t =
            (E(['pagePrev', 'pageNext'], function(t) {
              var e = null != i[t + 'DataIndex'],
                t = o.childOfName(t)
              t &&
                (t.setStyle('fill', e ? n.get('pageIconColor', !0) : n.get('pageIconInactiveColor', !0)),
                (t.cursor = e ? 'pointer' : 'default'))
            }),
            o.childOfName('pageText')),
          e = n.get('pageFormatter'),
          r = i.pageIndex,
          r = null != r ? r + 1 : 0,
          a = i.pageCount
        t &&
          e &&
          t.setStyle(
            'text',
            F(e) ? e.replace('{current}', null == r ? '' : r + '').replace('{total}', null == a ? '' : a + '') : e({ current: r, total: a })
          )
      }),
      (S2.prototype._getPageInfo = function(t) {
        var e = t.get('scrollDataIndex', !0),
          n = this.getContentGroup(),
          i = this._containerGroup.__rectSize,
          t = t.getOrient().index,
          o = x2[t],
          r = w2[t],
          e = this._findTargetItemIndex(e),
          a = n.children(),
          s = a[e],
          l = a.length,
          u = l ? 1 : 0,
          h = { contentPosition: [n.x, n.y], pageCount: u, pageIndex: u - 1, pagePrevDataIndex: null, pageNextDataIndex: null }
        if (s) {
          n = g(s)
          h.contentPosition[t] = -n.s
          for (var c = e + 1, p = n, d = n, f = null; c <= l; ++c)
            ((!(f = g(a[c])) && d.e > p.s + i) || (f && !y(f, p.s))) &&
              (p = d.i > p.i ? d : f) &&
              (null == h.pageNextDataIndex && (h.pageNextDataIndex = p.i), ++h.pageCount),
              (d = f)
          for (c = e - 1, p = n, d = n, f = null; -1 <= c; --c)
            ((f = g(a[c])) && y(d, f.s)) ||
              !(p.i < d.i) ||
              ((d = p), null == h.pagePrevDataIndex && (h.pagePrevDataIndex = p.i), ++h.pageCount, ++h.pageIndex),
              (p = f)
        }
        return h
        function g(t) {
          var e, n
          if (t) return { s: (n = (e = t.getBoundingRect())[r] + t[r]), e: n + e[o], i: t.__legendDataIndex }
        }
        function y(t, e) {
          return t.e >= e && t.s <= e + i
        }
      }),
      (S2.prototype._findTargetItemIndex = function(n) {
        var i, o
        return this._showController
          ? (this.getContentGroup().eachChild(function(t, e) {
              t = t.__legendDataIndex
              null == o && null != t && (o = e), t === n && (i = e)
            }),
            null != i ? i : o)
          : 0
      }),
      (S2.type = 'legend.scroll'),
      S2)
  function S2() {
    var t = (null !== v2 && v2.apply(this, arguments)) || this
    return (t.type = S2.type), (t.newlineDisabled = !0), (t._currentIndex = 0), t
  }
  i1(function(t) {
    i1(d2),
      t.registerComponentModel(g2),
      t.registerComponentView(b2),
      t.registerAction('legendScroll', 'legendscroll', function(t, e) {
        var n = t.scrollDataIndex
        null != n &&
          e.eachComponent({ mainType: 'legend', subType: 'scroll', query: t }, function(t) {
            t.setScrollDataIndex(n)
          })
      })
  })
  u(I2, (M2 = g)),
    (I2.type = 'tooltip'),
    (I2.dependencies = ['axisPointer']),
    (I2.defaultOption = {
      z: 60,
      show: !0,
      showContent: !0,
      trigger: 'item',
      triggerOn: 'mousemove|click',
      alwaysShowContent: !1,
      displayMode: 'single',
      renderMode: 'auto',
      confine: null,
      showDelay: 0,
      hideDelay: 100,
      transitionDuration: 0.4,
      enterable: !1,
      backgroundColor: '#fff',
      shadowBlur: 10,
      shadowColor: 'rgba(0, 0, 0, .2)',
      shadowOffsetX: 1,
      shadowOffsetY: 2,
      borderRadius: 4,
      borderWidth: 1,
      padding: null,
      extraCssText: '',
      axisPointer: {
        type: 'line',
        axis: 'auto',
        animation: 'auto',
        animationDurationUpdate: 200,
        animationEasingUpdate: 'exponentialOut',
        crossStyle: { color: '#999', width: 1, type: 'dashed', textStyle: {} },
      },
      textStyle: { color: '#666', fontSize: 14 },
    })
  var M2,
    T2 = I2
  function I2() {
    var t = (null !== M2 && M2.apply(this, arguments)) || this
    return (t.type = I2.type), t
  }
  function C2(t) {
    var e = t.get('confine')
    return null != e ? e : 'richText' === t.get('renderMode')
  }
  function A2(t) {
    if (b.domSupported) for (var e = document.documentElement.style, n = 0, i = t.length; n < i; n++) if (t[n] in e) return t[n]
  }
  var D2 = A2(['transform', 'webkitTransform', 'OTransform', 'MozTransform', 'msTransform'])
  function k2(t, e) {
    if (!t) return e
    e = kp(e, !0)
    var n = t.indexOf(e)
    return (t = -1 === n ? e : '-' + t.slice(0, n) + '-' + e).toLowerCase()
  }
  var L2 = k2(A2(['webkitTransition', 'transition', 'OTransition', 'MozTransition', 'msTransition']), 'transition'),
    P2 = k2(D2, 'transform'),
    O2 =
      'position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;' +
      (b.transform3dSupported ? 'will-change:transform;' : '')
  function R2(t, e, n) {
    var i,
      t = t.toFixed(0) + 'px',
      e = e.toFixed(0) + 'px'
    return b.transformSupported
      ? ((i = 'translate' + ((i = b.transform3dSupported) ? '3d' : '') + '(' + t + ',' + e + (i ? ',0' : '') + ')'),
        n
          ? 'top:0;left:0;' + P2 + ':' + i + ';'
          : [
              ['top', 0],
              ['left', 0],
              [D2, i],
            ])
      : n
      ? 'top:' + e + ';left:' + t + ';'
      : [
          ['top', e],
          ['left', t],
        ]
  }
  function N2(i, t, e) {
    var n,
      o,
      r = [],
      a = i.get('transitionDuration'),
      s = i.get('backgroundColor'),
      l = i.get('shadowBlur'),
      u = i.get('shadowColor'),
      h = i.get('shadowOffsetX'),
      c = i.get('shadowOffsetY'),
      p = i.getModel('textStyle'),
      d = Ug(i, 'html')
    return (
      r.push('box-shadow:' + (h + 'px ' + c + 'px ' + l + 'px ' + u)),
      t &&
        a &&
        r.push(
          ((u = 'opacity' + (l = ' ' + (h = a) / 2 + 's ' + (c = 'cubic-bezier(0.23,1,0.32,1)')) + ',visibility' + l),
          e || ((l = ' ' + h + 's ' + c), (u += b.transformSupported ? ',' + P2 + l : ',left' + l + ',top' + l)),
          L2 + ':' + u)
        ),
      s && r.push('background-color:' + s),
      E(['width', 'color', 'radius'], function(t) {
        var e = 'border-' + t,
          n = kp(e),
          n = i.get(n)
        null != n && r.push(e + ':' + n + ('color' === t ? '' : 'px'))
      }),
      r.push(
        ((o = []),
        (t = (n = p).get('fontSize')),
        (a = n.getTextColor()) && o.push('color:' + a),
        o.push('font:' + n.getFont()),
        (a = R(n.get('lineHeight'), Math.round((3 * t) / 2))),
        t && o.push('line-height:' + a + 'px'),
        (t = n.get('textShadowColor')),
        (a = n.get('textShadowBlur') || 0),
        (e = n.get('textShadowOffsetX') || 0),
        (h = n.get('textShadowOffsetY') || 0),
        t && a && o.push('text-shadow:' + e + 'px ' + h + 'px ' + a + 'px ' + t),
        E(['decoration', 'align'], function(t) {
          var e = n.get(t)
          e && o.push('text-' + t + ':' + e)
        }),
        o.join(';'))
      ),
      null != d && r.push('padding:' + Lp(d).join('px ') + 'px'),
      r.join(';') + ';'
    )
  }
  function E2(t, e, n, i, o) {
    var r,
      a,
      s = e && e.painter
    n
      ? (r = s && s.getViewportRoot()) && ((a = t), (n = n), fe(de, r, i, o, !0)) && fe(a, n, de[0], de[1])
      : ((t[0] = i), (t[1] = o), (r = s && s.getViewportRootOffset()) && ((t[0] += r.offsetLeft), (t[1] += r.offsetTop))),
      (t[2] = t[0] / e.getWidth()),
      (t[3] = t[1] / e.getHeight())
  }
  ;(B2.prototype.update = function(t) {
    this._container ||
      ((i = this._api.getDom()),
      (n = 'position'),
      (n = (e = (e = i).currentStyle || (document.defaultView && document.defaultView.getComputedStyle(e))) ? (n ? e[n] : e) : null),
      'absolute' !== (e = i.style).position && 'absolute' !== n && (e.position = 'relative'))
    var e,
      n,
      i = t.get('alwaysShowContent')
    i && this._moveIfResized(), (this._alwaysShowContent = i), (this.el.className = t.get('className') || '')
  }),
    (B2.prototype.show = function(t, e) {
      clearTimeout(this._hideTimeout), clearTimeout(this._longHideTimeout)
      var n = this.el,
        i = n.style,
        o = this._styleCoord
      n.innerHTML
        ? (i.cssText =
            O2 +
            N2(t, !this._firstShow, this._longHide) +
            R2(o[0], o[1], !0) +
            'border-color:' +
            zp(e) +
            ';' +
            (t.get('extraCssText') || '') +
            ';pointer-events:' +
            (this._enterable ? 'auto' : 'none'))
        : (i.display = 'none'),
        (this._show = !0),
        (this._firstShow = !1),
        (this._longHide = !1)
    }),
    (B2.prototype.setContent = function(t, e, n, i, o) {
      var r = this.el
      if (null == t) r.innerHTML = ''
      else {
        var a,
          s,
          l,
          u,
          h,
          c = ''
        if (
          (F(o) &&
            'item' === n.get('trigger') &&
            !C2(n) &&
            ((n = n),
            (i = i),
            (c =
              F((o = o)) && 'inside' !== o
                ? ((a = n.get('backgroundColor')),
                  (n = n.get('borderWidth')),
                  (i = zp(i)),
                  (o = o = 'left' === (o = o) ? 'right' : 'right' === o ? 'left' : 'top' === o ? 'bottom' : 'top'),
                  (p = Math.max(1.5 * Math.round(n), 6)),
                  (s = ''),
                  (l = P2 + ':'),
                  -1 < C(['left', 'right'], o)
                    ? ((s += 'top:50%'), (l += 'translateY(-50%) rotate(' + (h = 'left' == o ? -225 : -45) + 'deg)'))
                    : ((s += 'left:50%'), (l += 'translateX(-50%) rotate(' + (h = 'top' == o ? 225 : 45) + 'deg)')),
                  (h = (h * Math.PI) / 180),
                  (h = (u = p + n) * Math.abs(Math.cos(h)) + u * Math.abs(Math.sin(h))),
                  (i = i + ' solid ' + n + 'px;'),
                  '<div style="' +
                    [
                      'position:absolute;width:' + p + 'px;height:' + p + 'px;z-index:-1;',
                      (s += ';' + o + ':-' + Math.round(100 * ((h - Math.SQRT2 * n) / 2 + Math.SQRT2 * n - (h - u) / 2)) / 100 + 'px') +
                        ';' +
                        l +
                        ';',
                      'border-bottom:' + i,
                      'border-right:' + i,
                      'background-color:' + a + ';',
                    ].join('') +
                    '"></div>')
                : '')),
          F(t))
        )
          r.innerHTML = t + c
        else if (t) {
          ;(r.innerHTML = ''), V(t) || (t = [t])
          for (var p, d = 0; d < t.length; d++) gt(t[d]) && t[d].parentNode !== r && r.appendChild(t[d])
          c && r.childNodes.length && (((p = document.createElement('div')).innerHTML = c), r.appendChild(p))
        }
      }
    }),
    (B2.prototype.setEnterable = function(t) {
      this._enterable = t
    }),
    (B2.prototype.getSize = function() {
      var t = this.el
      return t ? [t.offsetWidth, t.offsetHeight] : [0, 0]
    }),
    (B2.prototype.moveTo = function(t, e) {
      var n, i
      this.el &&
        (E2((n = this._styleCoord), this._zr, this._container, t, e), null != n[0]) &&
        null != n[1] &&
        ((i = this.el.style),
        E(R2(n[0], n[1]), function(t) {
          i[t[0]] = t[1]
        }))
    }),
    (B2.prototype._moveIfResized = function() {
      var t = this._styleCoord[2],
        e = this._styleCoord[3]
      this.moveTo(t * this._zr.getWidth(), e * this._zr.getHeight())
    }),
    (B2.prototype.hide = function() {
      var t = this,
        e = this.el.style
      ;(e.visibility = 'hidden'),
        (e.opacity = '0'),
        b.transform3dSupported && (e.willChange = ''),
        (this._show = !1),
        (this._longHideTimeout = setTimeout(function() {
          return (t._longHide = !0)
        }, 500))
    }),
    (B2.prototype.hideLater = function(t) {
      !this._show ||
        (this._inContent && this._enterable) ||
        this._alwaysShowContent ||
        (t ? ((this._hideDelay = t), (this._show = !1), (this._hideTimeout = setTimeout(S(this.hide, this), t))) : this.hide())
    }),
    (B2.prototype.isShow = function() {
      return this._show
    }),
    (B2.prototype.dispose = function() {
      clearTimeout(this._hideTimeout), clearTimeout(this._longHideTimeout)
      var t = this.el.parentNode
      t && t.removeChild(this.el), (this.el = this._container = null)
    })
  var z2 = B2
  function B2(t, e) {
    if (
      ((this._show = !1),
      (this._styleCoord = [0, 0, 0, 0]),
      (this._enterable = !0),
      (this._alwaysShowContent = !1),
      (this._firstShow = !0),
      (this._longHide = !0),
      b.wxa)
    )
      return null
    var n = document.createElement('div'),
      i = ((n.domBelongToZr = !0), (this.el = n), (this._zr = t.getZr())),
      e = e.appendTo,
      e = e && (F(e) ? document.querySelector(e) : gt(e) ? e : A(e) && e(t.getDom())),
      o =
        (E2(this._styleCoord, i, e, t.getWidth() / 2, t.getHeight() / 2),
        (e || t.getDom()).appendChild(n),
        (this._api = t),
        (this._container = e),
        this)
    ;(n.onmouseenter = function() {
      o._enterable && (clearTimeout(o._hideTimeout), (o._show = !0)), (o._inContent = !0)
    }),
      (n.onmousemove = function(t) {
        var e
        ;(t = t || window.event), o._enterable || ((e = i.handler), Te(i.painter.getViewportRoot(), t, !0), e.dispatch('mousemove', t))
      }),
      (n.onmouseleave = function() {
        ;(o._inContent = !1), o._enterable && o._show && o.hideLater(o._hideDelay)
      })
  }
  ;(F2.prototype.update = function(t) {
    t = t.get('alwaysShowContent')
    t && this._moveIfResized(), (this._alwaysShowContent = t)
  }),
    (F2.prototype.show = function() {
      this._hideTimeout && clearTimeout(this._hideTimeout), this.el.show(), (this._show = !0)
    }),
    (F2.prototype.setContent = function(t, e, n, i, o) {
      var r = this,
        a = (O(t) && f(''), this.el && this._zr.remove(this.el), n.getModel('textStyle')),
        s =
          ((this.el = new Hs({
            style: {
              rich: e.richTextStyles,
              text: t,
              lineHeight: 22,
              borderWidth: 1,
              borderColor: i,
              textShadowColor: a.get('textShadowColor'),
              fill: n.get(['textStyle', 'color']),
              padding: Ug(n, 'richText'),
              verticalAlign: 'top',
              align: 'left',
            },
            z: n.get('z'),
          })),
          E(['backgroundColor', 'borderRadius', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY'], function(t) {
            r.el.style[t] = n.get(t)
          }),
          E(['textShadowBlur', 'textShadowOffsetX', 'textShadowOffsetY'], function(t) {
            r.el.style[t] = a.get(t) || 0
          }),
          this._zr.add(this.el),
          this)
      this.el.on('mouseover', function() {
        s._enterable && (clearTimeout(s._hideTimeout), (s._show = !0)), (s._inContent = !0)
      }),
        this.el.on('mouseout', function() {
          s._enterable && s._show && s.hideLater(s._hideDelay), (s._inContent = !1)
        })
    }),
    (F2.prototype.setEnterable = function(t) {
      this._enterable = t
    }),
    (F2.prototype.getSize = function() {
      var t = this.el,
        e = this.el.getBoundingRect(),
        t = G2(t.style)
      return [e.width + t.left + t.right, e.height + t.top + t.bottom]
    }),
    (F2.prototype.moveTo = function(t, e) {
      var n,
        i,
        o = this.el
      o &&
        (W2((i = this._styleCoord), this._zr, t, e),
        (t = i[0]),
        (e = i[1]),
        (n = H2((i = o.style).borderWidth || 0)),
        (i = G2(i)),
        (o.x = t + n + i.left),
        (o.y = e + n + i.top),
        o.markRedraw())
    }),
    (F2.prototype._moveIfResized = function() {
      var t = this._styleCoord[2],
        e = this._styleCoord[3]
      this.moveTo(t * this._zr.getWidth(), e * this._zr.getHeight())
    }),
    (F2.prototype.hide = function() {
      this.el && this.el.hide(), (this._show = !1)
    }),
    (F2.prototype.hideLater = function(t) {
      !this._show ||
        (this._inContent && this._enterable) ||
        this._alwaysShowContent ||
        (t ? ((this._hideDelay = t), (this._show = !1), (this._hideTimeout = setTimeout(S(this.hide, this), t))) : this.hide())
    }),
    (F2.prototype.isShow = function() {
      return this._show
    }),
    (F2.prototype.dispose = function() {
      this._zr.remove(this.el)
    })
  var V2 = F2
  function F2(t) {
    ;(this._show = !1),
      (this._styleCoord = [0, 0, 0, 0]),
      (this._alwaysShowContent = !1),
      (this._enterable = !0),
      (this._zr = t.getZr()),
      W2(this._styleCoord, this._zr, t.getWidth() / 2, t.getHeight() / 2)
  }
  function H2(t) {
    return Math.max(0, t)
  }
  function G2(t) {
    var e = H2(t.shadowBlur || 0),
      n = H2(t.shadowOffsetX || 0),
      t = H2(t.shadowOffsetY || 0)
    return { left: H2(e - n), right: H2(e + n), top: H2(e - t), bottom: H2(e + t) }
  }
  function W2(t, e, n, i) {
    ;(t[0] = n), (t[1] = i), (t[2] = t[0] / e.getWidth()), (t[3] = t[1] / e.getHeight())
  }
  var U2,
    Y2 = new Es({ shape: { x: -1, y: -1, width: 2, height: 2 } }),
    X2 =
      (u(Z2, (U2 = ry)),
      (Z2.prototype.init = function(t, e) {
        var n
        !b.node &&
          e.getDom() &&
          ((t = t.getComponent('tooltip')),
          (n = this._renderMode = 'auto' === (n = t.get('renderMode')) ? (b.domSupported ? 'html' : 'richText') : n || 'html'),
          (this._tooltipContent =
            'richText' === n ? new V2(e) : new z2(e, { appendTo: t.get('appendToBody', !0) ? 'body' : t.get('appendTo', !0) })))
      }),
      (Z2.prototype.render = function(t, e, n) {
        !b.node &&
          n.getDom() &&
          (this.group.removeAll(),
          (this._tooltipModel = t),
          (this._ecModel = e),
          (this._api = n),
          (e = this._tooltipContent).update(t),
          e.setEnterable(t.get('enterable')),
          this._initGlobalListener(),
          this._keepShow(),
          'richText' !== this._renderMode && t.get('transitionDuration')
            ? wy(this, '_updatePosition', 50, 'fixRate')
            : by(this, '_updatePosition'))
      }),
      (Z2.prototype._initGlobalListener = function() {
        var i = this._tooltipModel.get('triggerOn')
        EM(
          'itemTooltip',
          this._api,
          S(function(t, e, n) {
            'none' !== i && (0 <= i.indexOf(t) ? this._tryShow(e, n) : 'leave' === t && this._hide(n))
          }, this)
        )
      }),
      (Z2.prototype._keepShow = function() {
        var t,
          e = this._tooltipModel,
          n = this._ecModel,
          i = this._api,
          o = e.get('triggerOn')
        null != this._lastX &&
          null != this._lastY &&
          'none' !== o &&
          'click' !== o &&
          ((t = this),
          clearTimeout(this._refreshUpdateTimeout),
          (this._refreshUpdateTimeout = setTimeout(function() {
            i.isDisposed() || t.manuallyShowTip(e, n, i, { x: t._lastX, y: t._lastY, dataByCoordSys: t._lastDataByCoordSys })
          })))
      }),
      (Z2.prototype.manuallyShowTip = function(t, e, n, i) {
        var o, r, a, s
        i.from !== this.uid &&
          !b.node &&
          n.getDom() &&
          ((o = j2(i, n)),
          (this._ticket = ''),
          (s = i.dataByCoordSys),
          (r = (function(n, t, e) {
            var i = Br(n).queryOptionMap,
              o = i.keys()[0]
            if (o && 'series' !== o) {
              var r,
                t = Hr(t, o, i.get(o), { useDefault: !1, enableAll: !1, enableNone: !1 }).models[0]
              if (t)
                if (
                  (e.getViewOfComponentModel(t).group.traverse(function(t) {
                    var e = D(t).tooltipConfig
                    if (e && e.name === n.name) return (r = t), !0
                  }),
                  r)
                )
                  return { componentMainType: o, componentIndex: t.componentIndex, el: r }
            }
          })(i, e, n))
            ? ((a = r.el.getBoundingRect().clone()).applyTransform(r.el.transform),
              this._tryShow(
                { offsetX: a.x + a.width / 2, offsetY: a.y + a.height / 2, target: r.el, position: i.position, positionDefault: 'bottom' },
                o
              ))
            : i.tooltip && null != i.x && null != i.y
            ? (((a = Y2).x = i.x),
              (a.y = i.y),
              a.update(),
              (D(a).tooltipConfig = { name: null, option: i.tooltip }),
              this._tryShow({ offsetX: i.x, offsetY: i.y, target: a }, o))
            : s
            ? this._tryShow({ offsetX: i.x, offsetY: i.y, position: i.position, dataByCoordSys: s, tooltipOption: i.tooltipOption }, o)
            : null != i.seriesIndex
            ? this._manuallyAxisShowTip(t, e, n, i) ||
              ((a = (r = WM(i, e)).point[0]),
              (s = r.point[1]),
              null != a &&
                null != s &&
                this._tryShow({ offsetX: a, offsetY: s, target: r.el, position: i.position, positionDefault: 'bottom' }, o))
            : null != i.x &&
              null != i.y &&
              (n.dispatchAction({ type: 'updateAxisPointer', x: i.x, y: i.y }),
              this._tryShow({ offsetX: i.x, offsetY: i.y, position: i.position, target: n.getZr().findHover(i.x, i.y).target }, o)))
      }),
      (Z2.prototype.manuallyHideTip = function(t, e, n, i) {
        var o = this._tooltipContent
        this._tooltipModel && o.hideLater(this._tooltipModel.get('hideDelay')),
          (this._lastX = this._lastY = this._lastDataByCoordSys = null),
          i.from !== this.uid && this._hide(j2(i, n))
      }),
      (Z2.prototype._manuallyAxisShowTip = function(t, e, n, i) {
        var o = i.seriesIndex,
          r = i.dataIndex,
          a = e.getComponent('axisPointer').coordSysAxesInfo
        if (null != o && null != r && null != a) {
          a = e.getSeriesByIndex(o)
          if (a) {
            e = q2([a.getData().getItemModel(r), a, (a.coordinateSystem || {}).model], this._tooltipModel)
            if ('axis' === e.get('trigger'))
              return n.dispatchAction({ type: 'updateAxisPointer', seriesIndex: o, dataIndex: r, position: i.position }), !0
          }
        }
      }),
      (Z2.prototype._tryShow = function(t, e) {
        var n,
          i,
          o,
          r = t.target
        this._tooltipModel &&
          ((this._lastX = t.offsetX),
          (this._lastY = t.offsetY),
          (n = t.dataByCoordSys) && n.length
            ? this._showAxisTooltip(n, t)
            : r
            ? 'legend' !== D(r).ssrType &&
              (tm(
                r,
                function(t) {
                  return null != D(t).dataIndex ? ((i = t), 1) : null != D(t).tooltipConfig && ((o = t), 1)
                },
                !(this._lastDataByCoordSys = null)
              ),
              i ? this._showSeriesItemTooltip(t, i, e) : o ? this._showComponentItemTooltip(t, o, e) : this._hide(e))
            : ((this._lastDataByCoordSys = null), this._hide(e)))
      }),
      (Z2.prototype._showOrMove = function(t, e) {
        t = t.get('showDelay')
        ;(e = S(e, this)), clearTimeout(this._showTimout), 0 < t ? (this._showTimout = setTimeout(e, t)) : e()
      }),
      (Z2.prototype._showAxisTooltip = function(t, e) {
        var u = this._ecModel,
          h = this._tooltipModel,
          n = [e.offsetX, e.offsetY],
          i = q2([e.tooltipOption], h),
          c = this._renderMode,
          p = [],
          d = Eg('section', { blocks: [], noHeader: !0 }),
          f = [],
          g = new Yg(),
          o =
            (E(t, function(t) {
              E(t.dataByAxis, function(o) {
                var r,
                  a,
                  s = u.getComponent(o.axisDim + 'Axis', o.axisIndex),
                  l = o.value
                s &&
                  null != l &&
                  ((r = mM(l, s.axis, u, o.seriesDataIndices, o.valueLabelOpt)),
                  (a = Eg('section', { header: r, noHeader: !Tt(r), sortBlocks: !0, blocks: [] })),
                  d.blocks.push(a),
                  E(o.seriesDataIndices, function(t) {
                    var e,
                      n = u.getSeriesByIndex(t.seriesIndex),
                      t = t.dataIndexInside,
                      i = n.getDataParams(t)
                    i.dataIndex < 0 ||
                      ((i.axisDim = o.axisDim),
                      (i.axisIndex = o.axisIndex),
                      (i.axisType = o.axisType),
                      (i.axisId = o.axisId),
                      (i.axisValue = q_(s.axis, { value: l })),
                      (i.axisValueLabel = r),
                      (i.marker = g.makeTooltipMarker('item', zp(i.color), c)),
                      (e = (t = Bf(n.formatTooltip(t, !0, null))).frag) &&
                        ((n = q2([n], h).get('valueFormatter')), a.blocks.push(n ? P({ valueFormatter: n }, e) : e)),
                      t.text && f.push(t.text),
                      p.push(i))
                  }))
              })
            }),
            d.blocks.reverse(),
            f.reverse(),
            e.position),
          e = i.get('order'),
          e = Hg(d, g, c, e, u.get('useUTC'), i.get('textStyle')),
          e = (e && f.unshift(e), 'richText' === c ? '\n\n' : '<br/>'),
          r = f.join(e)
        this._showOrMove(i, function() {
          this._updateContentNotChangedOnAxis(t, p)
            ? this._updatePosition(i, o, n[0], n[1], this._tooltipContent, p)
            : this._showTooltipContent(i, r, p, Math.random() + '', n[0], n[1], o, null, g)
        })
      }),
      (Z2.prototype._showSeriesItemTooltip = function(t, e, n) {
        var i,
          o,
          r,
          a,
          s,
          l = this._ecModel,
          e = D(e),
          u = e.seriesIndex,
          h = l.getSeriesByIndex(u),
          c = e.dataModel || h,
          p = e.dataIndex,
          e = e.dataType,
          d = c.getData(e),
          f = this._renderMode,
          g = t.positionDefault,
          y = q2([d.getItemModel(p), c, h && (h.coordinateSystem || {}).model], this._tooltipModel, g ? { position: g } : null),
          h = y.get('trigger')
        ;(null != h && 'item' !== h) ||
          ((i = c.getDataParams(p, e)),
          (o = new Yg()),
          (i.marker = o.makeTooltipMarker('item', zp(i.color), f)),
          (g = Bf(c.formatTooltip(p, !1, e))),
          (h = y.get('order')),
          (e = y.get('valueFormatter')),
          (r = g.frag),
          (a = r ? Hg(e ? P({ valueFormatter: e }, r) : r, o, f, h, l.get('useUTC'), y.get('textStyle')) : g.text),
          (s = 'item_' + c.name + '_' + p),
          this._showOrMove(y, function() {
            this._showTooltipContent(y, a, i, s, t.offsetX, t.offsetY, t.position, t.target, o)
          }),
          n({ type: 'showTip', dataIndexInside: p, dataIndex: d.getRawIndex(p), seriesIndex: u, from: this.uid }))
      }),
      (Z2.prototype._showComponentItemTooltip = function(e, n, t) {
        var i = 'html' === this._renderMode,
          o = D(n),
          r = o.tooltipConfig.option || {},
          a = r.encodeHTMLContent,
          a = (F(r) && ((r = { content: r, formatter: r }), (a = !0)), a && i && r.content && ((r = y(r)).content = ve(r.content)), [r]),
          i = this._ecModel.getComponent(o.componentMainType, o.componentIndex),
          o = (i && a.push(i), a.push({ formatter: r.content }), e.positionDefault),
          s = q2(a, this._tooltipModel, o ? { position: o } : null),
          l = s.get('content'),
          u = Math.random() + '',
          h = new Yg()
        this._showOrMove(s, function() {
          var t = y(s.get('formatterParams') || {})
          this._showTooltipContent(s, l, t, u, e.offsetX, e.offsetY, e.position, n, h)
        }),
          t({ type: 'showTip', from: this.uid })
      }),
      (Z2.prototype._showTooltipContent = function(n, t, i, e, o, r, a, s, l) {
        var u, h, c, p, d
        ;(this._ticket = ''),
          n.get('showContent') &&
            n.get('show') &&
            ((u = this._tooltipContent).setEnterable(n.get('enterable')),
            (h = n.get('formatter')),
            (a = a || n.get('position')),
            (t = t),
            (c = this._getNearestPoint([o, r], i, n.get('trigger'), n.get('borderColor')).color),
            h &&
              (t = F(h)
                ? ((p = n.ecModel.get('useUTC')),
                  (t = h),
                  Np((t = (d = V(i) ? i[0] : i) && d.axisType && 0 <= d.axisType.indexOf('time') ? dp(d.axisValue, t, p) : t), i, !0))
                : A(h)
                ? ((d = S(function(t, e) {
                    t === this._ticket && (u.setContent(e, l, n, c, a), this._updatePosition(n, a, o, r, u, i, s))
                  }, this)),
                  (this._ticket = e),
                  h(i, e, d))
                : h),
            u.setContent(t, l, n, c, a),
            u.show(n, c),
            this._updatePosition(n, a, o, r, u, i, s))
      }),
      (Z2.prototype._getNearestPoint = function(t, e, n, i) {
        return 'axis' === n || V(e)
          ? { color: i || ('html' === this._renderMode ? '#fff' : 'none') }
          : V(e)
          ? void 0
          : { color: i || e.color || e.borderColor }
      }),
      (Z2.prototype._updatePosition = function(t, e, n, i, o, r, a) {
        var s,
          l = this._api.getWidth(),
          u = this._api.getHeight(),
          h = ((e = e || t.get('position')), o.getSize()),
          c = t.get('align'),
          p = t.get('verticalAlign'),
          d = a && a.getBoundingRect().clone()
        a && d.applyTransform(a.transform),
          V((e = A(e) ? e([n, i], r, o.el, d, { viewSize: [l, u], contentSize: h.slice() }) : e))
            ? ((n = W(e[0], l)), (i = W(e[1], u)))
            : O(e)
            ? (((r = e).width = h[0]), (r.height = h[1]), (n = (r = Up(r, { width: l, height: u })).x), (i = r.y), (p = c = null))
            : (i =
                ((n = (s =
                  F(e) && a
                    ? (function(t, e, n, i) {
                        var o = n[0],
                          r = n[1],
                          a = Math.ceil(Math.SQRT2 * i) + 8,
                          s = 0,
                          l = 0,
                          u = e.width,
                          h = e.height
                        switch (t) {
                          case 'inside':
                            ;(s = e.x + u / 2 - o / 2), (l = e.y + h / 2 - r / 2)
                            break
                          case 'top':
                            ;(s = e.x + u / 2 - o / 2), (l = e.y - r - a)
                            break
                          case 'bottom':
                            ;(s = e.x + u / 2 - o / 2), (l = e.y + h + a)
                            break
                          case 'left':
                            ;(s = e.x - o - a), (l = e.y + h / 2 - r / 2)
                            break
                          case 'right':
                            ;(s = e.x + u + a), (l = e.y + h / 2 - r / 2)
                        }
                        return [s, l]
                      })(e, d, h, t.get('borderWidth'))
                    : (function(t, e, n, i, o, r, a) {
                        var n = n.getSize(),
                          s = n[0],
                          n = n[1]
                        null != r && (i < t + s + r + 2 ? (t -= s + r) : (t += r))
                        null != a && (o < e + n + a ? (e -= n + a) : (e += a))
                        return [t, e]
                      })(n, i, o, l, u, c ? null : 20, p ? null : 20))[0]),
                s[1])),
          c && (n -= K2(c) ? h[0] / 2 : 'right' === c ? h[0] : 0),
          p && (i -= K2(p) ? h[1] / 2 : 'bottom' === p ? h[1] : 0),
          C2(t) &&
            ((r = n),
            (a = i),
            (e = l),
            (d = u),
            (c = (c = o).getSize()),
            (p = c[0]),
            (c = c[1]),
            (r = Math.min(r + p, e) - p),
            (a = Math.min(a + c, d) - c),
            (r = Math.max(r, 0)),
            (a = Math.max(a, 0)),
            (n = (s = [r, a])[0]),
            (i = s[1])),
          o.moveTo(n, i)
      }),
      (Z2.prototype._updateContentNotChangedOnAxis = function(n, r) {
        var t = this._lastDataByCoordSys,
          a = this._cbParamsList,
          s = !!t && t.length === n.length
        return (
          s &&
            E(t, function(t, e) {
              var t = t.dataByAxis || [],
                o = (n[e] || {}).dataByAxis || []
              ;(s = s && t.length === o.length) &&
                E(t, function(t, e) {
                  var e = o[e] || {},
                    n = t.seriesDataIndices || [],
                    i = e.seriesDataIndices || []
                  ;(s = s && t.value === e.value && t.axisType === e.axisType && t.axisId === e.axisId && n.length === i.length) &&
                    E(n, function(t, e) {
                      e = i[e]
                      s = s && t.seriesIndex === e.seriesIndex && t.dataIndex === e.dataIndex
                    }),
                    a &&
                      E(t.seriesDataIndices, function(t) {
                        var t = t.seriesIndex,
                          e = r[t],
                          t = a[t]
                        e && t && t.data !== e.data && (s = !1)
                      })
                })
            }),
          (this._lastDataByCoordSys = n),
          (this._cbParamsList = r),
          !!s
        )
      }),
      (Z2.prototype._hide = function(t) {
        ;(this._lastDataByCoordSys = null), t({ type: 'hideTip', from: this.uid })
      }),
      (Z2.prototype.dispose = function(t, e) {
        !b.node && e.getDom() && (by(this, '_updatePosition'), this._tooltipContent.dispose(), VM('itemTooltip', e))
      }),
      (Z2.type = 'tooltip'),
      Z2)
  function Z2() {
    var t = (null !== U2 && U2.apply(this, arguments)) || this
    return (t.type = Z2.type), t
  }
  function q2(t, e, n) {
    for (var i = e.ecModel, o = n ? ((o = new Uc(n, i, i)), new Uc(e.option, o, i)) : e, r = t.length - 1; 0 <= r; r--) {
      var a = t[r]
      ;(a = a && (F((a = a instanceof Uc ? a.get('tooltip', !0) : a)) ? { formatter: a } : a)) && (o = new Uc(a, o, i))
    }
    return o
  }
  function j2(t, e) {
    return t.dispatchAction || S(e.dispatchAction, e)
  }
  function K2(t) {
    return 'center' === t || 'middle' === t
  }
  function $2(t, e) {
    if (t) for (var n = V(t) ? t : [t], i = 0; i < n.length; i++) if (n[i] && n[i][e]) return 1
  }
  function Q2(t) {
    Mr(t, 'label', ['show'])
  }
  i1(function(t) {
    i1($M),
      t.registerComponentModel(T2),
      t.registerComponentView(X2),
      t.registerAction({ type: 'showTip', event: 'showTip', update: 'tooltip:manuallyShowTip' }, Bt),
      t.registerAction({ type: 'hideTip', event: 'hideTip', update: 'tooltip:manuallyHideTip' }, Bt)
  })
  var J2,
    tI = Nr(),
    eI =
      (u(nI, (J2 = g)),
      (nI.prototype.init = function(t, e, n) {
        this.mergeDefaultAndTheme(t, n), this._mergeOption(t, n, !1, !0)
      }),
      (nI.prototype.isAnimationEnabled = function() {
        var t
        return !b.node && ((t = this.__hostSeries), this.getShallow('animation')) && t && t.isAnimationEnabled()
      }),
      (nI.prototype.mergeOption = function(t, e) {
        this._mergeOption(t, e, !1, !1)
      }),
      (nI.prototype._mergeOption = function(t, i, e, o) {
        var r = this.mainType
        e ||
          i.eachSeries(function(t) {
            var e = t.get(this.mainType, !0),
              n = tI(t)[r]
            e && e.data
              ? (n
                  ? n._mergeOption(e, i, !0)
                  : (o && Q2(e),
                    E(e.data, function(t) {
                      t instanceof Array ? (Q2(t[0]), Q2(t[1])) : Q2(t)
                    }),
                    P((n = this.createMarkerModelFromSeries(e, this, i)), {
                      mainType: this.mainType,
                      seriesIndex: t.seriesIndex,
                      name: t.name,
                      createdBySelf: !0,
                    }),
                    (n.__hostSeries = t)),
                (tI(t)[r] = n))
              : (tI(t)[r] = null)
          }, this)
      }),
      (nI.prototype.formatTooltip = function(t, e, n) {
        var i = this.getData(),
          o = this.getRawValue(t),
          i = i.getName(t)
        return Eg('section', { header: this.name, blocks: [Eg('nameValue', { name: i, value: o, noName: !i, noValue: null == o })] })
      }),
      (nI.prototype.getData = function() {
        return this._data
      }),
      (nI.prototype.setData = function(t) {
        this._data = t
      }),
      (nI.prototype.getDataParams = function(t, e) {
        ;(t = Ef.prototype.getDataParams.call(this, t, e)), (e = this.__hostSeries)
        return e && ((t.seriesId = e.id), (t.seriesName = e.name), (t.seriesType = e.subType)), t
      }),
      (nI.getMarkerModelFromSeries = function(t, e) {
        return tI(t)[e]
      }),
      (nI.type = 'marker'),
      (nI.dependencies = ['series', 'grid', 'polar', 'geo']),
      nI)
  function nI() {
    var t = (null !== J2 && J2.apply(this, arguments)) || this
    return (t.type = nI.type), (t.createdBySelf = !1), t
  }
  st(eI, Ef.prototype)
  u(rI, (iI = eI)),
    (rI.prototype.createMarkerModelFromSeries = function(t, e, n) {
      return new rI(t, e, n)
    }),
    (rI.type = 'markPoint'),
    (rI.defaultOption = {
      z: 5,
      symbol: 'pin',
      symbolSize: 50,
      tooltip: { trigger: 'item' },
      label: { show: !0, position: 'inside' },
      itemStyle: { borderWidth: 2 },
      emphasis: { label: { show: !0 } },
    })
  var iI,
    oI = rI
  function rI() {
    var t = (null !== iI && iI.apply(this, arguments)) || this
    return (t.type = rI.type), t
  }
  function aI(t) {
    return !isNaN(parseFloat(t.x)) || !isNaN(parseFloat(t.y))
  }
  function sI(t, e, n, i, o, r) {
    var a = [],
      s = Fv(e, i) ? e.getCalculationInfo('stackResultDimension') : i,
      t = dI(e, s, t),
      t = e.indicesOfNearest(s, t)[0],
      o = ((a[o] = e.get(n, t)), (a[r] = e.get(s, t)), e.get(i, t)),
      n = ar(e.get(i, t))
    return 0 <= (n = Math.min(n, 20)) && (a[r] = +a[r].toFixed(n)), [a, o]
  }
  var lI = { min: M(sI, 'min'), max: M(sI, 'max'), average: M(sI, 'average'), median: M(sI, 'median') }
  function uI(t, e) {
    if (e) {
      var n,
        i = t.getData(),
        o = t.coordinateSystem,
        r = o && o.dimensions
      if (
        ((n = e),
        (isNaN(parseFloat(n.x)) || isNaN(parseFloat(n.y))) &&
          !V(e.coord) &&
          V(r) &&
          ((n = hI(e, i, o, t)),
          (e = y(e)).type && lI[e.type] && n.baseAxis && n.valueAxis
            ? ((o = C(r, n.baseAxis.dim)),
              (t = C(r, n.valueAxis.dim)),
              (n = lI[e.type](i, n.baseDataDim, n.valueDataDim, o, t)),
              (e.coord = n[0]),
              (e.value = n[1]))
            : (e.coord = [null != e.xAxis ? e.xAxis : e.radiusAxis, null != e.yAxis ? e.yAxis : e.angleAxis])),
        null != e.coord && V(r))
      )
        for (var a = e.coord, s = 0; s < 2; s++) lI[a[s]] && (a[s] = dI(i, i.mapDimension(r[s]), a[s]))
      else e.coord = []
      return e
    }
  }
  function hI(t, e, n, i) {
    var o = {}
    return (
      null != t.valueIndex || null != t.valueDim
        ? ((o.valueDataDim = null != t.valueIndex ? e.getDimension(t.valueIndex) : t.valueDim),
          (o.valueAxis = n.getAxis(
            (function(t, e) {
              t = t.getData().getDimensionInfo(e)
              return t && t.coordDim
            })(i, o.valueDataDim)
          )),
          (o.baseAxis = n.getOtherAxis(o.valueAxis)),
          (o.baseDataDim = e.mapDimension(o.baseAxis.dim)))
        : ((o.baseAxis = i.getBaseAxis()),
          (o.valueAxis = n.getOtherAxis(o.baseAxis)),
          (o.baseDataDim = e.mapDimension(o.baseAxis.dim)),
          (o.valueDataDim = e.mapDimension(o.valueAxis.dim))),
      o
    )
  }
  function cI(t, e) {
    return !(t && t.containData && e.coord && !aI(e)) || t.containData(e.coord)
  }
  function pI(t, o) {
    return t
      ? function(t, e, n, i) {
          return $f(i < 2 ? t.coord && t.coord[i] : t.value, o[i])
        }
      : function(t, e, n, i) {
          return $f(t.value, o[i])
        }
  }
  function dI(t, e, n) {
    var i, o
    return 'average' === n
      ? ((o = i = 0),
        t.each(e, function(t, e) {
          isNaN(t) || ((i += t), o++)
        }),
        i / o)
      : 'median' === n
      ? t.getMedian(e)
      : t.getDataExtent(e)['max' === n ? 1 : 0]
  }
  var fI,
    gI = Nr(),
    vh =
      (u(yI, (fI = ry)),
      (yI.prototype.init = function() {
        this.markerGroupMap = N()
      }),
      (yI.prototype.render = function(t, n, i) {
        var o = this,
          e = this.markerGroupMap
        e.each(function(t) {
          gI(t).keep = !1
        }),
          n.eachSeries(function(t) {
            var e = eI.getMarkerModelFromSeries(t, o.type)
            e && o.renderSeries(t, e, n, i)
          }),
          e.each(function(t) {
            gI(t).keep || o.group.remove(t.group)
          })
      }),
      (yI.prototype.markKeep = function(t) {
        gI(t).keep = !0
      }),
      (yI.prototype.toggleBlurSeries = function(t, e) {
        var n = this
        E(t, function(t) {
          t = eI.getMarkerModelFromSeries(t, n.type)
          t &&
            t.getData().eachItemGraphicEl(function(t) {
              t && (e ? Pl : Ol)(t)
            })
        })
      }),
      (yI.type = 'marker'),
      yI)
  function yI() {
    var t = (null !== fI && fI.apply(this, arguments)) || this
    return (t.type = yI.type), t
  }
  function mI(a, s, l) {
    var u = s.coordinateSystem
    a.each(function(t) {
      var e,
        n,
        i,
        o = a.getItemModel(t),
        r = W(o.get('x'), l.getWidth()),
        o = W(o.get('y'), l.getHeight())
      isNaN(r) || isNaN(o)
        ? s.getMarkerPosition
          ? (i = s.getMarkerPosition(a.getValues(a.dimensions, t)))
          : u && ((e = a.get(u.dimensions[0], t)), (n = a.get(u.dimensions[1], t)), (i = u.dataToPoint([e, n])))
        : (i = [r, o]),
        isNaN(r) || (i[0] = r),
        isNaN(o) || (i[1] = o),
        a.setItemLayout(t, i)
    })
  }
  u(xI, (vI = vh)),
    (xI.prototype.updateTransform = function(t, e, n) {
      e.eachSeries(function(t) {
        var e = eI.getMarkerModelFromSeries(t, 'markPoint')
        e && (mI(e.getData(), t, n), this.markerGroupMap.get(t.id).updateLayout())
      }, this)
    }),
    (xI.prototype.renderSeries = function(t, u, e, n) {
      var i = t.coordinateSystem,
        o = t.id,
        h = t.getData(),
        r = this.markerGroupMap,
        r = r.get(o) || r.set(o, new Cw()),
        c = (function(t, e, n) {
          var i
          i = t
            ? B(t && t.dimensions, function(t) {
                return P(P({}, e.getData().getDimensionInfo(e.getData().mapDimension(t)) || {}), { name: t, ordinalMeta: null })
              })
            : [{ name: 'value', type: 'float' }]
          var o = new Rv(i, n),
            n = B(n.get('data'), M(uI, e))
          t && (n = ht(n, M(cI, t)))
          t = pI(!!t, i)
          return o.initData(n, null, t), o
        })(i, t, u)
      u.setData(c),
        mI(u.getData(), t, n),
        c.each(function(t) {
          var e = c.getItemModel(t),
            n = e.getShallow('symbol'),
            i = e.getShallow('symbolSize'),
            o = e.getShallow('symbolRotate'),
            r = e.getShallow('symbolOffset'),
            a = e.getShallow('symbolKeepAspect'),
            s =
              ((A(n) || A(i) || A(o) || A(r)) &&
                ((s = u.getRawValue(t)),
                (l = u.getDataParams(t)),
                A(n) && (n = n(s, l)),
                A(i) && (i = i(s, l)),
                A(o) && (o = o(s, l)),
                A(r)) &&
                (r = r(s, l)),
              e.getModel('itemStyle').getItemStyle()),
            l = $y(h, 'color')
          s.fill || (s.fill = l),
            c.setItemVisual(t, { symbol: n, symbolSize: i, symbolRotate: o, symbolOffset: r, symbolKeepAspect: a, style: s })
        }),
        r.updateData(c),
        this.group.add(r.group),
        c.eachItemGraphicEl(function(t) {
          t.traverse(function(t) {
            D(t).dataModel = u
          })
        }),
        this.markKeep(r),
        (r.group.silent = u.get('silent') || t.get('silent'))
    }),
    (xI.type = 'markPoint')
  var vI,
    _I = xI
  function xI() {
    var t = (null !== vI && vI.apply(this, arguments)) || this
    return (t.type = xI.type), t
  }
  i1(function(t) {
    t.registerComponentModel(oI),
      t.registerComponentView(_I),
      t.registerPreprocessor(function(t) {
        $2(t.series, 'markPoint') && (t.markPoint = t.markPoint || {})
      })
  })
  u(SI, (wI = eI)),
    (SI.prototype.createMarkerModelFromSeries = function(t, e, n) {
      return new SI(t, e, n)
    }),
    (SI.type = 'markLine'),
    (SI.defaultOption = {
      z: 5,
      symbol: ['circle', 'arrow'],
      symbolSize: [8, 16],
      symbolOffset: 0,
      precision: 2,
      tooltip: { trigger: 'item' },
      label: { show: !0, position: 'end', distance: 5 },
      lineStyle: { type: 'dashed' },
      emphasis: { label: { show: !0 }, lineStyle: { width: 3 } },
      animationEasing: 'linear',
    })
  var wI,
    bI = SI
  function SI() {
    var t = (null !== wI && wI.apply(this, arguments)) || this
    return (t.type = SI.type), t
  }
  var MI,
    TI = ih.prototype,
    II = uh.prototype,
    CI = function() {
      ;(this.x1 = 0), (this.y1 = 0), (this.x2 = 0), (this.y2 = 0), (this.percent = 1)
    }
  function AI() {
    return (null !== MI && MI.apply(this, arguments)) || this
  }
  function DI(t) {
    return isNaN(+t.cpx1) || isNaN(+t.cpy1)
  }
  u(AI, (MI = CI))
  u(PI, (kI = j)),
    (PI.prototype.getDefaultStyle = function() {
      return { stroke: '#000', fill: null }
    }),
    (PI.prototype.getDefaultShape = function() {
      return new CI()
    }),
    (PI.prototype.buildPath = function(t, e) {
      ;(DI(e) ? TI : II).buildPath.call(this, t, e)
    }),
    (PI.prototype.pointAt = function(t) {
      return (DI(this.shape) ? TI : II).pointAt.call(this, t)
    }),
    (PI.prototype.tangentAt = function(t) {
      var e = this.shape,
        e = DI(e) ? [e.x2 - e.x1, e.y2 - e.y1] : II.tangentAt.call(this, t)
      return qt(e, e)
    })
  var kI,
    LI = PI
  function PI(t) {
    t = kI.call(this, t) || this
    return (t.type = 'ec-line'), t
  }
  var OI = ['fromSymbol', 'toSymbol']
  function RI(t) {
    return '_' + t + 'Type'
  }
  function NI(t, e, n) {
    var i,
      o,
      r,
      a = e.getItemVisual(n, t)
    return a && 'none' !== a
      ? ((i = e.getItemVisual(n, t + 'Size')),
        (o = e.getItemVisual(n, t + 'Rotate')),
        (r = e.getItemVisual(n, t + 'Offset')),
        (e = e.getItemVisual(n, t + 'KeepAspect')),
        a + (n = fm(i)) + gm(r || 0, n) + (o || '') + (e || ''))
      : a
  }
  function EI(t, e, n) {
    var i,
      o,
      r,
      a = e.getItemVisual(n, t)
    if (a && 'none' !== a)
      return (
        (r = e.getItemVisual(n, t + 'Size')),
        (i = e.getItemVisual(n, t + 'Rotate')),
        (o = e.getItemVisual(n, t + 'Offset')),
        (e = e.getItemVisual(n, t + 'KeepAspect')),
        (o = gm(o || 0, (n = fm(r)))),
        ((r = dm(a, -n[0] / 2 + o[0], -n[1] / 2 + o[1], n[0], n[1], null, e)).__specifiedRotation =
          null == i || isNaN(i) ? void 0 : (+i * Math.PI) / 180 || 0),
        (r.name = t),
        r
      )
  }
  function zI(t, e) {
    ;(t.x1 = e[0][0]), (t.y1 = e[0][1]), (t.x2 = e[1][0]), (t.y2 = e[1][1]), (t.percent = 1)
    e = e[2]
    e ? ((t.cpx1 = e[0]), (t.cpy1 = e[1])) : ((t.cpx1 = NaN), (t.cpy1 = NaN))
  }
  u(FI, (BI = Yo)),
    (FI.prototype._createLine = function(n, i, t) {
      var e,
        o = n.hostModel,
        r = n.getItemLayout(i),
        r = ((r = r), zI((e = new LI({ name: 'line', subPixelOptimize: !0 })).shape, r), e)
      ;(r.shape.percent = 0),
        zh(r, { shape: { percent: 1 } }, o, i),
        this.add(r),
        E(
          OI,
          function(t) {
            var e = EI(t, n, i)
            this.add(e), (this[RI(t)] = NI(t, n, i))
          },
          this
        ),
        this._updateCommonStl(n, i, t)
    }),
    (FI.prototype.updateData = function(i, o, t) {
      var e = i.hostModel,
        n = this.childOfName('line'),
        r = i.getItemLayout(o),
        a = { shape: {} }
      zI(a.shape, r),
        Eh(n, a, e, o),
        E(
          OI,
          function(t) {
            var e = NI(t, i, o),
              n = RI(t)
            this[n] !== e && (this.remove(this.childOfName(t)), (t = EI(t, i, o)), this.add(t)), (this[n] = e)
          },
          this
        ),
        this._updateCommonStl(i, o, t)
    }),
    (FI.prototype.getLinePath = function() {
      return this.childAt(0)
    }),
    (FI.prototype._updateCommonStl = function(n, t, e) {
      var i = n.hostModel,
        r = this.childOfName('line'),
        o = e && e.emphasisLineStyle,
        a = e && e.blurLineStyle,
        s = e && e.selectLineStyle,
        l = e && e.labelStatesModels,
        u = e && e.emphasisDisabled,
        h = e && e.focus,
        c = e && e.blurScope,
        p =
          ((e && !n.hasItemOption) ||
            ((o = (f = (e = n.getItemModel(t)).getModel('emphasis')).getModel('lineStyle').getLineStyle()),
            (a = e.getModel(['blur', 'lineStyle']).getLineStyle()),
            (s = e.getModel(['select', 'lineStyle']).getLineStyle()),
            (u = f.get('disabled')),
            (h = f.get('focus')),
            (c = f.get('blurScope')),
            (l = wc(e))),
          n.getItemVisual(t, 'style')),
        d = p.stroke,
        f =
          (r.useStyle(p),
          (r.style.fill = null),
          (r.style.strokeNoScale = !0),
          (r.ensureState('emphasis').style = o),
          (r.ensureState('blur').style = a),
          (r.ensureState('select').style = s),
          E(
            OI,
            function(t) {
              var e = this.childOfName(t)
              if (e) {
                e.setColor(d), (e.style.opacity = p.opacity)
                for (var n = 0; n < sl.length; n++) {
                  var i = sl[n],
                    o = r.getState(i)
                  o &&
                    ((o = o.style || {}),
                    (i = (i = e.ensureState(i)).style || (i.style = {})),
                    null != o.stroke && (i[e.__isEmptyBrush ? 'stroke' : 'fill'] = o.stroke),
                    null != o.opacity) &&
                    (i.opacity = o.opacity)
                }
                e.markRedraw()
              }
            },
            this
          ),
          i.getRawValue(t)),
        e =
          (xc(this, l, {
            labelDataIndex: t,
            labelFetcher: {
              getFormattedLabel: function(t, e) {
                return i.getFormattedLabel(t, e, n.dataType)
              },
            },
            inheritColor: d || '#000',
            defaultOpacity: p.opacity,
            defaultText: (null == f ? n.getName(t) : isFinite(f) ? or(f) : f) + '',
          }),
          this.getTextContent())
      e &&
        ((o = l.normal),
        (e.__align = e.style.align),
        (e.__verticalAlign = e.style.verticalAlign),
        (e.__position = o.get('position') || 'middle'),
        V((a = o.get('distance'))) || (a = [a, a]),
        (e.__labelDistance = a)),
        this.setTextConfig({ position: null, local: !0, inside: !1 }),
        Wl(this, h, c, u)
    }),
    (FI.prototype.highlight = function() {
      kl(this)
    }),
    (FI.prototype.downplay = function() {
      Ll(this)
    }),
    (FI.prototype.updateLayout = function(t, e) {
      this.setLinePoints(t.getItemLayout(e))
    }),
    (FI.prototype.setLinePoints = function(t) {
      var e = this.childOfName('line')
      zI(e.shape, t), e.dirty()
    }),
    (FI.prototype.beforeUpdate = function() {
      var t = this.childOfName('fromSymbol'),
        e = this.childOfName('toSymbol'),
        n = this.getTextContent()
      if (t || e || (n && !n.ignore)) {
        for (var i = 1, o = this.parent; o; ) o.scaleX && (i /= o.scaleX), (o = o.parent)
        var r = this.childOfName('line')
        if (this.__dirty || r.__dirty) {
          var a = r.shape.percent,
            s = r.pointAt(0),
            l = r.pointAt(a),
            u = Ut([], l, s)
          if (
            (qt(u, u),
            t && (t.setPosition(s), v(t, 0), (t.scaleX = t.scaleY = i * a), t.markRedraw()),
            e && (e.setPosition(l), v(e, 1), (e.scaleX = e.scaleY = i * a), e.markRedraw()),
            n && !n.ignore)
          ) {
            n.x = n.y = 0
            var h = void (n.originX = n.originY = 0),
              c = void 0,
              t = n.__labelDistance,
              p = t[0] * i,
              d = t[1] * i,
              e = a / 2,
              f = r.tangentAt(e),
              t = [f[1], -f[0]],
              g = r.pointAt(e),
              y = (0 < t[1] && ((t[0] = -t[0]), (t[1] = -t[1])), f[0] < 0 ? -1 : 1),
              m =
                ('start' !== n.__position &&
                  'end' !== n.__position &&
                  ((a = -Math.atan2(f[1], f[0])), l[0] < s[0] && (a = Math.PI + a), (n.rotation = a)),
                void 0)
            switch (n.__position) {
              case 'insideStartTop':
              case 'insideMiddleTop':
              case 'insideEndTop':
              case 'middle':
                ;(m = -d), (c = 'bottom')
                break
              case 'insideStartBottom':
              case 'insideMiddleBottom':
              case 'insideEndBottom':
                ;(m = d), (c = 'top')
                break
              default:
                ;(m = 0), (c = 'middle')
            }
            switch (n.__position) {
              case 'end':
                ;(n.x = u[0] * p + l[0]),
                  (n.y = u[1] * d + l[1]),
                  (h = 0.8 < u[0] ? 'left' : u[0] < -0.8 ? 'right' : 'center'),
                  (c = 0.8 < u[1] ? 'top' : u[1] < -0.8 ? 'bottom' : 'middle')
                break
              case 'start':
                ;(n.x = -u[0] * p + s[0]),
                  (n.y = -u[1] * d + s[1]),
                  (h = 0.8 < u[0] ? 'right' : u[0] < -0.8 ? 'left' : 'center'),
                  (c = 0.8 < u[1] ? 'bottom' : u[1] < -0.8 ? 'top' : 'middle')
                break
              case 'insideStartTop':
              case 'insideStart':
              case 'insideStartBottom':
                ;(n.x = p * y + s[0]), (n.y = s[1] + m), (h = f[0] < 0 ? 'right' : 'left'), (n.originX = -p * y), (n.originY = -m)
                break
              case 'insideMiddleTop':
              case 'insideMiddle':
              case 'insideMiddleBottom':
              case 'middle':
                ;(n.x = g[0]), (n.y = g[1] + m), (h = 'center'), (n.originY = -m)
                break
              case 'insideEndTop':
              case 'insideEnd':
              case 'insideEndBottom':
                ;(n.x = -p * y + l[0]), (n.y = l[1] + m), (h = 0 <= f[0] ? 'right' : 'left'), (n.originX = p * y), (n.originY = -m)
            }
            ;(n.scaleX = n.scaleY = i), n.setStyle({ verticalAlign: n.__verticalAlign || c, align: n.__align || h })
          }
        }
      }
      function v(t, e) {
        var n,
          i = t.__specifiedRotation
        null == i
          ? ((n = r.tangentAt(e)), t.attr('rotation', ((1 === e ? -1 : 1) * Math.PI) / 2 - Math.atan2(n[1], n[0])))
          : t.attr('rotation', i)
      }
    })
  var BI,
    VI = FI
  function FI(t, e, n) {
    var i = BI.call(this) || this
    return i._createLine(t, e, n), i
  }
  ;(GI.prototype.updateData = function(n) {
    var i = this,
      e = ((this._progressiveEls = null), this.group),
      o = this._lineData,
      r = ((this._lineData = n), o || e.removeAll(), WI(n))
    n.diff(o)
      .add(function(t) {
        i._doAdd(n, t, r)
      })
      .update(function(t, e) {
        i._doUpdate(o, n, e, t, r)
      })
      .remove(function(t) {
        e.remove(o.getItemGraphicEl(t))
      })
      .execute()
  }),
    (GI.prototype.updateLayout = function() {
      var n = this._lineData
      n &&
        n.eachItemGraphicEl(function(t, e) {
          t.updateLayout(n, e)
        }, this)
    }),
    (GI.prototype.incrementalPrepareUpdate = function(t) {
      ;(this._seriesScope = WI(t)), (this._lineData = null), this.group.removeAll()
    }),
    (GI.prototype.incrementalUpdate = function(t, e) {
      function n(t) {
        var e
        t.isGroup || ((e = t).animators && 0 < e.animators.length) || ((t.incremental = !0), (t.ensureState('emphasis').hoverLayer = !0))
      }
      this._progressiveEls = []
      for (var i, o = t.start; o < t.end; o++)
        YI(e.getItemLayout(o)) &&
          ((i = new this._LineCtor(e, o, this._seriesScope)).traverse(n),
          this.group.add(i),
          e.setItemGraphicEl(o, i),
          this._progressiveEls.push(i))
    }),
    (GI.prototype.remove = function() {
      this.group.removeAll()
    }),
    (GI.prototype.eachRendered = function(t) {
      gc(this._progressiveEls || this.group, t)
    }),
    (GI.prototype._doAdd = function(t, e, n) {
      YI(t.getItemLayout(e)) && ((n = new this._LineCtor(t, e, n)), t.setItemGraphicEl(e, n), this.group.add(n))
    }),
    (GI.prototype._doUpdate = function(t, e, n, i, o) {
      t = t.getItemGraphicEl(n)
      YI(e.getItemLayout(i))
        ? (t ? t.updateData(e, i, o) : (t = new this._LineCtor(e, i, o)), e.setItemGraphicEl(i, t), this.group.add(t))
        : this.group.remove(t)
    })
  var HI = GI
  function GI(t) {
    ;(this.group = new Yo()), (this._LineCtor = t || VI)
  }
  function WI(t) {
    var t = t.hostModel,
      e = t.getModel('emphasis')
    return {
      lineStyle: t.getModel('lineStyle').getLineStyle(),
      emphasisLineStyle: e.getModel(['lineStyle']).getLineStyle(),
      blurLineStyle: t.getModel(['blur', 'lineStyle']).getLineStyle(),
      selectLineStyle: t.getModel(['select', 'lineStyle']).getLineStyle(),
      emphasisDisabled: e.get('disabled'),
      blurScope: e.get('blurScope'),
      focus: e.get('focus'),
      labelStatesModels: wc(t),
    }
  }
  function UI(t) {
    return isNaN(t[0]) || isNaN(t[1])
  }
  function YI(t) {
    return t && !UI(t[0]) && !UI(t[1])
  }
  function XI(t, e, n, i) {
    var o,
      r,
      a,
      s,
      l = t.getData()
    return (
      ((e = [
        uI(
          t,
          (n = V(i)
            ? i
            : 'min' === (o = i.type) || 'max' === o || 'average' === o || 'median' === o || null != i.xAxis || null != i.yAxis
            ? ((r = s = void 0),
              (r =
                null != i.yAxis || null != i.xAxis
                  ? ((s = e.getAxis(null != i.yAxis ? 'y' : 'x')), xt(i.yAxis, i.xAxis))
                  : ((s = (e = hI(i, l, e, t)).valueAxis), dI(l, Hv(l, e.valueDataDim), o))),
              (e = 1 - (l = 'x' === s.dim ? 0 : 1)),
              (s = { coord: [] }),
              ((a = y(i)).type = null),
              (a.coord = []),
              (a.coord[e] = -1 / 0),
              (s.coord[e] = 1 / 0),
              0 <= (e = n.get('precision')) && H(r) && (r = +r.toFixed(Math.min(e, 20))),
              (a.coord[l] = s.coord[l] = r),
              [a, s, { type: o, valueIndex: i.valueIndex, value: r }])
            : [])[0]
        ),
        uI(t, n[1]),
        P({}, n[2]),
      ])[2].type = e[2].type || null),
      d(e[2], e[0]),
      d(e[2], e[1]),
      e
    )
  }
  var ZI = Nr()
  function qI(t) {
    return !isNaN(t) && !isFinite(t)
  }
  function jI(t, e, n, i) {
    var o = 1 - t,
      r = i.dimensions[t]
    return qI(e[o]) && qI(n[o]) && e[t] === n[t] && i.getAxis(r).containData(e[t])
  }
  function KI(t, e) {
    if ('cartesian2d' === t.type) {
      var n = e[0].coord,
        i = e[1].coord
      if (n && i && (jI(1, n, i, t) || jI(0, n, i, t))) return !0
    }
    return cI(t, e[0]) && cI(t, e[1])
  }
  function $I(t, e, n, i, o) {
    var r,
      a,
      s = i.coordinateSystem,
      l = t.getItemModel(e),
      u = W(l.get('x'), o.getWidth()),
      l = W(l.get('y'), o.getHeight())
    isNaN(u) || isNaN(l)
      ? ((r = i.getMarkerPosition
          ? i.getMarkerPosition(t.getValues(t.dimensions, e))
          : ((a = s.dimensions), (o = t.get(a[0], e)), (i = t.get(a[1], e)), s.dataToPoint([o, i]))),
        Wx(s, 'cartesian2d') &&
          ((o = s.getAxis('x')),
          (i = s.getAxis('y')),
          (a = s.dimensions),
          qI(t.get(a[0], e))
            ? (r[0] = o.toGlobalCoord(o.getExtent()[n ? 0 : 1]))
            : qI(t.get(a[1], e)) && (r[1] = i.toGlobalCoord(i.getExtent()[n ? 0 : 1]))),
        isNaN(u) || (r[0] = u),
        isNaN(l) || (r[1] = l))
      : (r = [u, l]),
      t.setItemLayout(e, r)
  }
  u(tC, (QI = vh)),
    (tC.prototype.updateTransform = function(t, e, r) {
      e.eachSeries(function(e) {
        var n,
          i,
          o,
          t = eI.getMarkerModelFromSeries(e, 'markLine')
        t &&
          ((n = t.getData()),
          (i = ZI(t).from),
          (o = ZI(t).to),
          i.each(function(t) {
            $I(i, t, !0, e, r), $I(o, t, !1, e, r)
          }),
          n.each(function(t) {
            n.setItemLayout(t, [i.getItemLayout(t), o.getItemLayout(t)])
          }),
          this.markerGroupMap.get(e.id).updateLayout())
      }, this)
    }),
    (tC.prototype.renderSeries = function(r, e, t, a) {
      var n = r.coordinateSystem,
        i = r.id,
        s = r.getData(),
        o = this.markerGroupMap,
        o = o.get(i) || o.set(i, new HI()),
        i =
          (this.group.add(o.group),
          (function(t, e, n) {
            var i
            i = t
              ? B(t && t.dimensions, function(t) {
                  return P(P({}, e.getData().getDimensionInfo(e.getData().mapDimension(t)) || {}), { name: t, ordinalMeta: null })
                })
              : [{ name: 'value', type: 'float' }]
            var o = new Rv(i, n),
              r = new Rv(i, n),
              a = new Rv([], n),
              n = B(n.get('data'), M(XI, e, t, n))
            t && (n = ht(n, M(KI, t)))
            t = pI(!!t, i)
            return (
              o.initData(
                B(n, function(t) {
                  return t[0]
                }),
                null,
                t
              ),
              r.initData(
                B(n, function(t) {
                  return t[1]
                }),
                null,
                t
              ),
              a.initData(
                B(n, function(t) {
                  return t[2]
                })
              ),
              (a.hasItemOption = !0),
              { from: o, to: r, line: a }
            )
          })(n, r, e)),
        l = i.from,
        u = i.to,
        h = i.line,
        c = ((ZI(e).from = l), (ZI(e).to = u), e.setData(h), e.get('symbol')),
        p = e.get('symbolSize'),
        d = e.get('symbolRotate'),
        f = e.get('symbolOffset')
      function g(t, e, n) {
        var i = t.getItemModel(e),
          o = ($I(t, e, n, r, a), i.getModel('itemStyle').getItemStyle())
        null == o.fill && (o.fill = $y(s, 'color')),
          t.setItemVisual(e, {
            symbolKeepAspect: i.get('symbolKeepAspect'),
            symbolOffset: R(i.get('symbolOffset', !0), f[n ? 0 : 1]),
            symbolRotate: R(i.get('symbolRotate', !0), d[n ? 0 : 1]),
            symbolSize: R(i.get('symbolSize'), p[n ? 0 : 1]),
            symbol: R(i.get('symbol', !0), c[n ? 0 : 1]),
            style: o,
          })
      }
      V(c) || (c = [c, c]),
        V(p) || (p = [p, p]),
        V(d) || (d = [d, d]),
        V(f) || (f = [f, f]),
        i.from.each(function(t) {
          g(l, t, !0), g(u, t, !1)
        }),
        h.each(function(t) {
          var e = h
            .getItemModel(t)
            .getModel('lineStyle')
            .getLineStyle()
          h.setItemLayout(t, [l.getItemLayout(t), u.getItemLayout(t)]),
            null == e.stroke && (e.stroke = l.getItemVisual(t, 'style').fill),
            h.setItemVisual(t, {
              fromSymbolKeepAspect: l.getItemVisual(t, 'symbolKeepAspect'),
              fromSymbolOffset: l.getItemVisual(t, 'symbolOffset'),
              fromSymbolRotate: l.getItemVisual(t, 'symbolRotate'),
              fromSymbolSize: l.getItemVisual(t, 'symbolSize'),
              fromSymbol: l.getItemVisual(t, 'symbol'),
              toSymbolKeepAspect: u.getItemVisual(t, 'symbolKeepAspect'),
              toSymbolOffset: u.getItemVisual(t, 'symbolOffset'),
              toSymbolRotate: u.getItemVisual(t, 'symbolRotate'),
              toSymbolSize: u.getItemVisual(t, 'symbolSize'),
              toSymbol: u.getItemVisual(t, 'symbol'),
              style: e,
            })
        }),
        o.updateData(h),
        i.line.eachItemGraphicEl(function(t) {
          ;(D(t).dataModel = e),
            t.traverse(function(t) {
              D(t).dataModel = e
            })
        }),
        this.markKeep(o),
        (o.group.silent = e.get('silent') || r.get('silent'))
    }),
    (tC.type = 'markLine')
  var QI,
    JI = tC
  function tC() {
    var t = (null !== QI && QI.apply(this, arguments)) || this
    return (t.type = tC.type), t
  }
  i1(function(t) {
    t.registerComponentModel(bI),
      t.registerComponentView(JI),
      t.registerPreprocessor(function(t) {
        $2(t.series, 'markLine') && (t.markLine = t.markLine || {})
      })
  })
  u(iC, (eC = eI)),
    (iC.prototype.createMarkerModelFromSeries = function(t, e, n) {
      return new iC(t, e, n)
    }),
    (iC.type = 'markArea'),
    (iC.defaultOption = {
      z: 1,
      tooltip: { trigger: 'item' },
      animation: !1,
      label: { show: !0, position: 'top' },
      itemStyle: { borderWidth: 0 },
      emphasis: { label: { show: !0, position: 'top' } },
    })
  var eC,
    nC = iC
  function iC() {
    var t = (null !== eC && eC.apply(this, arguments)) || this
    return (t.type = iC.type), t
  }
  function oC(t, e, n, i) {
    var o,
      r = i[0],
      i = i[1]
    if (r && i)
      return (
        (r = uI(t, r)),
        (t = uI(t, i)),
        (i = r.coord),
        (o = t.coord),
        (i[0] = xt(i[0], -1 / 0)),
        (i[1] = xt(i[1], -1 / 0)),
        (o[0] = xt(o[0], 1 / 0)),
        (o[1] = xt(o[1], 1 / 0)),
        ((i = ot([{}, r, t])).coord = [r.coord, t.coord]),
        (i.x0 = r.x),
        (i.y0 = r.y),
        (i.x1 = t.x),
        (i.y1 = t.y),
        i
      )
  }
  var rC = Nr()
  function aC(t) {
    return !isNaN(t) && !isFinite(t)
  }
  function sC(t, e, n) {
    t = 1 - t
    return aC(e[t]) && aC(n[t])
  }
  function lC(t, e) {
    var n,
      i,
      o,
      r = e.coord[0],
      a = e.coord[1],
      s = { coord: r, x: e.x0, y: e.y0 },
      e = { coord: a, x: e.x1, y: e.y1 }
    return Wx(t, 'cartesian2d')
      ? !(
          (!r || !a || (!sC(1, r, a) && !sC(0, r, a))) &&
          ((i = s), (o = e), (n = t)) &&
          n.containZone &&
          i.coord &&
          o.coord &&
          !aI(i) &&
          !aI(o)
        ) || n.containZone(i.coord, o.coord)
      : cI(t, s) || cI(t, e)
  }
  function uC(t, e, n, i, o) {
    var r,
      a,
      s,
      l,
      u,
      h,
      c = i.coordinateSystem,
      p = t.getItemModel(e),
      d = W(p.get(n[0]), o.getWidth()),
      p = W(p.get(n[1]), o.getHeight())
    return (
      isNaN(d) || isNaN(p)
        ? ((h = i.getMarkerPosition
            ? ((o = t.getValues(['x0', 'y0'], e)),
              (s = t.getValues(['x1', 'y1'], e)),
              (a = c.clampData(o)),
              (h = c.clampData(s)),
              (r = []),
              'x0' === n[0] ? (r[0] = (a[0] > h[0] ? s : o)[0]) : (r[0] = (a[0] > h[0] ? o : s)[0]),
              'y0' === n[1] ? (r[1] = (a[1] > h[1] ? s : o)[1]) : (r[1] = (a[1] > h[1] ? o : s)[1]),
              i.getMarkerPosition(r, n, !0))
            : ((a = [(l = t.get(n[0], e)), (u = t.get(n[1], e))]), c.clampData && c.clampData(a, a), c.dataToPoint(a, !0))),
          Wx(c, 'cartesian2d') &&
            ((o = c.getAxis('x')),
            (s = c.getAxis('y')),
            (l = t.get(n[0], e)),
            (u = t.get(n[1], e)),
            aC(l)
              ? (h[0] = o.toGlobalCoord(o.getExtent()['x0' === n[0] ? 0 : 1]))
              : aC(u) && (h[1] = s.toGlobalCoord(s.getExtent()['y0' === n[1] ? 0 : 1]))),
          isNaN(d) || (h[0] = d),
          isNaN(p) || (h[1] = p))
        : (h = [d, p]),
      h
    )
  }
  var hC,
    cC = [
      ['x0', 'y0'],
      ['x1', 'y0'],
      ['x1', 'y1'],
      ['x0', 'y1'],
    ],
    pC =
      (u(dC, (hC = vh)),
      (dC.prototype.updateTransform = function(t, e, o) {
        e.eachSeries(function(n) {
          var i,
            t = eI.getMarkerModelFromSeries(n, 'markArea')
          t &&
            (i = t.getData()).each(function(e) {
              var t = B(cC, function(t) {
                return uC(i, e, t, n, o)
              })
              i.setItemLayout(e, t), i.getItemGraphicEl(e).setShape('points', t)
            })
        }, this)
      }),
      (dC.prototype.renderSeries = function(a, o, t, s) {
        var l = a.coordinateSystem,
          e = a.id,
          u = a.getData(),
          n = this.markerGroupMap,
          i = n.get(e) || n.set(e, { group: new Yo() }),
          h =
            (this.group.add(i.group),
            this.markKeep(i),
            (function(t, n, e) {
              var i, o
              {
                var r
                i = t
                  ? ((r = B(t && t.dimensions, function(t) {
                      var e = n.getData()
                      return P(P({}, e.getDimensionInfo(e.mapDimension(t)) || {}), { name: t, ordinalMeta: null })
                    })),
                    (o = B(['x0', 'y0', 'x1', 'y1'], function(t, e) {
                      return { name: t, type: r[e % 2].type }
                    })),
                    new Rv(o, e))
                  : new Rv((o = [{ name: 'value', type: 'float' }]), e)
              }
              e = B(e.get('data'), M(oC, n, t, e))
              t && (e = ht(e, M(lC, t)))
              t = t
                ? function(t, e, n, i) {
                    return $f(t.coord[Math.floor(i / 2)][i % 2], o[i])
                  }
                : function(t, e, n, i) {
                    return $f(t.value, o[i])
                  }
              return i.initData(e, null, t), (i.hasItemOption = !0), i
            })(l, a, o))
        o.setData(h),
          h.each(function(e) {
            var t = B(cC, function(t) {
                return uC(h, e, t, a, s)
              }),
              n = l.getAxis('x').scale,
              i = l.getAxis('y').scale,
              o = n.getExtent(),
              r = i.getExtent(),
              n = [n.parse(h.get('x0', e)), n.parse(h.get('x1', e))],
              i = [i.parse(h.get('y0', e)), i.parse(h.get('y1', e))],
              o = (rr(n), rr(i), !(o[0] > n[1] || o[1] < n[0] || r[0] > i[1] || r[1] < i[0])),
              n =
                (h.setItemLayout(e, { points: t, allClipped: !o }),
                h
                  .getItemModel(e)
                  .getModel('itemStyle')
                  .getItemStyle()),
              r = $y(u, 'color')
            n.fill || ((n.fill = r), F(n.fill) && (n.fill = bi(n.fill, 0.4))), n.stroke || (n.stroke = r), h.setItemVisual(e, 'style', n)
          }),
          h
            .diff(rC(i).data)
            .add(function(t) {
              var e = h.getItemLayout(t)
              e.allClipped || ((e = new qu({ shape: { points: e.points } })), h.setItemGraphicEl(t, e), i.group.add(e))
            })
            .update(function(t, e) {
              var e = rC(i).data.getItemGraphicEl(e),
                n = h.getItemLayout(t)
              n.allClipped
                ? e && i.group.remove(e)
                : (e ? Eh(e, { shape: { points: n.points } }, o, t) : (e = new qu({ shape: { points: n.points } })),
                  h.setItemGraphicEl(t, e),
                  i.group.add(e))
            })
            .remove(function(t) {
              t = rC(i).data.getItemGraphicEl(t)
              i.group.remove(t)
            })
            .execute(),
          h.eachItemGraphicEl(function(t, e) {
            var n = h.getItemModel(e),
              i = h.getItemVisual(e, 'style')
            t.useStyle(h.getItemVisual(e, 'style')),
              xc(t, wc(n), {
                labelFetcher: o,
                labelDataIndex: e,
                defaultText: h.getName(e) || '',
                inheritColor: F(i.fill) ? bi(i.fill, 1) : '#000',
              }),
              Xl(t, n),
              Wl(t, null, null, n.get(['emphasis', 'disabled'])),
              (D(t).dataModel = o)
          }),
          (rC(i).data = h),
          (i.group.silent = o.get('silent') || a.get('silent'))
      }),
      (dC.type = 'markArea'),
      dC)
  function dC() {
    var t = (null !== hC && hC.apply(this, arguments)) || this
    return (t.type = dC.type), t
  }
  i1(function(t) {
    t.registerComponentModel(nC),
      t.registerComponentView(pC),
      t.registerPreprocessor(function(t) {
        $2(t.series, 'markArea') && (t.markArea = t.markArea || {})
      })
  })
  u(gC, (fC = g)),
    (gC.prototype.init = function(t, e, n) {
      this.mergeDefaultAndTheme(t, n), this._initData()
    }),
    (gC.prototype.mergeOption = function(t) {
      fC.prototype.mergeOption.apply(this, arguments), this._initData()
    }),
    (gC.prototype.setCurrentIndex = function(t) {
      null == t && (t = this.option.currentIndex)
      var e = this._data.count()
      this.option.loop ? (t = ((t % e) + e) % e) : (t = e <= t ? e - 1 : t) < 0 && (t = 0), (this.option.currentIndex = t)
    }),
    (gC.prototype.getCurrentIndex = function() {
      return this.option.currentIndex
    }),
    (gC.prototype.isIndexMax = function() {
      return this.getCurrentIndex() >= this._data.count() - 1
    }),
    (gC.prototype.setPlayState = function(t) {
      this.option.autoPlay = !!t
    }),
    (gC.prototype.getPlayState = function() {
      return !!this.option.autoPlay
    }),
    (gC.prototype._initData = function() {
      var o,
        t = this.option,
        e = t.data || [],
        t = t.axisType,
        r = (this._names = []),
        e =
          ('category' === t
            ? ((o = []),
              E(e, function(t, e) {
                var n,
                  i = kr(Ir(t), '')
                O(t) ? ((n = y(t)).value = e) : (n = e), o.push(n), r.push(i)
              }))
            : (o = e),
          { category: 'ordinal', time: 'time', value: 'number' }[t] || 'number')
      ;(this._data = new Rv([{ name: 'value', type: e }], this)).initData(o, r)
    }),
    (gC.prototype.getData = function() {
      return this._data
    }),
    (gC.prototype.getCategories = function() {
      if ('category' === this.get('axisType')) return this._names.slice()
    }),
    (gC.type = 'timeline'),
    (gC.defaultOption = {
      z: 4,
      show: !0,
      axisType: 'time',
      realtime: !0,
      left: '20%',
      top: null,
      right: '20%',
      bottom: 0,
      width: null,
      height: 40,
      padding: 5,
      controlPosition: 'left',
      autoPlay: !1,
      rewind: !1,
      loop: !0,
      playInterval: 2e3,
      currentIndex: 0,
      itemStyle: {},
      label: { color: '#000' },
      data: [],
    })
  var fC,
    ic = gC
  function gC() {
    var t = (null !== fC && fC.apply(this, arguments)) || this
    return (t.type = gC.type), (t.layoutMode = 'box'), t
  }
  u(vC, (yC = ic)),
    (vC.type = 'timeline.slider'),
    (vC.defaultOption = qc(ic.defaultOption, {
      backgroundColor: 'rgba(0,0,0,0)',
      borderColor: '#ccc',
      borderWidth: 0,
      orient: 'horizontal',
      inverse: !1,
      tooltip: { trigger: 'item' },
      symbol: 'circle',
      symbolSize: 12,
      lineStyle: { show: !0, width: 2, color: '#DAE1F5' },
      label: { position: 'auto', show: !0, interval: 'auto', rotate: 0, color: '#A4B1D7' },
      itemStyle: { color: '#A4B1D7', borderWidth: 1 },
      checkpointStyle: {
        symbol: 'circle',
        symbolSize: 15,
        color: '#316bf3',
        borderColor: '#fff',
        borderWidth: 2,
        shadowBlur: 2,
        shadowOffsetX: 1,
        shadowOffsetY: 1,
        shadowColor: 'rgba(0, 0, 0, 0.3)',
        animation: !0,
        animationDuration: 300,
        animationEasing: 'quinticInOut',
      },
      controlStyle: {
        show: !0,
        showPlayBtn: !0,
        showPrevBtn: !0,
        showNextBtn: !0,
        itemSize: 24,
        itemGap: 12,
        position: 'left',
        playIcon:
          'path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z',
        stopIcon:
          'path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z',
        nextIcon:
          'M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z',
        prevIcon:
          'M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z',
        prevBtnSize: 18,
        nextBtnSize: 18,
        color: '#A4B1D7',
        borderColor: '#A4B1D7',
        borderWidth: 1,
      },
      emphasis: {
        label: { show: !0, color: '#6f778d' },
        itemStyle: { color: '#316BF3' },
        controlStyle: { color: '#316BF3', borderColor: '#316BF3', borderWidth: 2 },
      },
      progress: { lineStyle: { color: '#316BF3' }, itemStyle: { color: '#316BF3' }, label: { color: '#6f778d' } },
      data: [],
    }))
  var yC,
    mC = vC
  function vC() {
    var t = (null !== yC && yC.apply(this, arguments)) || this
    return (t.type = vC.type), t
  }
  st(mC, Ef.prototype)
  u(xC, (_C = ry)), (xC.type = 'timeline')
  var _C,
    Kr = xC
  function xC() {
    var t = (null !== _C && _C.apply(this, arguments)) || this
    return (t.type = xC.type), t
  }
  u(SC, (wC = sp)),
    (SC.prototype.getLabelModel = function() {
      return this.model.getModel('label')
    }),
    (SC.prototype.isHorizontal = function() {
      return 'horizontal' === this.model.get('orient')
    })
  var wC,
    bC = SC
  function SC(t, e, n, i) {
    t = wC.call(this, t, e, n) || this
    return (t.type = i || 'value'), t
  }
  var MC,
    TC = Math.PI,
    IC = Nr(),
    CC =
      (u(AC, (MC = Kr)),
      (AC.prototype.init = function(t, e) {
        this.api = e
      }),
      (AC.prototype.render = function(e, t, n) {
        var i, o, r
        ;(this.model = e),
          (this.api = n),
          (this.ecModel = t),
          this.group.removeAll(),
          e.get('show', !0) &&
            ((i = this._layout(e, n)),
            (o = this._createGroup('_mainGroup')),
            (t = this._createGroup('_labelGroup')),
            (r = this._axis = this._createAxis(i, e)),
            (e.formatTooltip = function(t) {
              return Eg('nameValue', { noName: !0, value: r.scale.getLabel({ value: t }) })
            }),
            E(
              ['AxisLine', 'AxisTick', 'Control', 'CurrentPointer'],
              function(t) {
                this['_render' + t](i, o, r, e)
              },
              this
            ),
            this._renderAxisLabel(i, t, r, e),
            this._position(i, e)),
          this._doPlayStop(),
          this._updateTicksStatus()
      }),
      (AC.prototype.remove = function() {
        this._clearTimer(), this.group.removeAll()
      }),
      (AC.prototype.dispose = function() {
        this._clearTimer()
      }),
      (AC.prototype._layout = function(t, e) {
        var n,
          i,
          o,
          r = t.get(['label', 'position']),
          a = t.get('orient'),
          s = ((s = e), Up((l = t).getBoxLayoutParams(), { width: s.getWidth(), height: s.getHeight() }, l.get('padding'))),
          l =
            null == r || 'auto' === r
              ? 'horizontal' === a
                ? s.y + s.height / 2 < e.getHeight() / 2
                  ? '-'
                  : '+'
                : s.x + s.width / 2 < e.getWidth() / 2
                ? '+'
                : '-'
              : F(r)
              ? { horizontal: { top: '-', bottom: '+' }, vertical: { left: '-', right: '+' } }[a][r]
              : r,
          e = { horizontal: 'center', vertical: 0 <= l || '+' === l ? 'left' : 'right' },
          r = { horizontal: 0 <= l || '+' === l ? 'top' : 'bottom', vertical: 'middle' },
          u = { horizontal: 0, vertical: TC / 2 },
          h = 'vertical' === a ? s.height : s.width,
          c = t.getModel('controlStyle'),
          p = c.get('show', !0),
          d = p ? c.get('itemSize') : 0,
          f = p ? c.get('itemGap') : 0,
          g = d + f,
          y = ((t.get(['label', 'rotate']) || 0) * TC) / 180,
          m = c.get('position', !0),
          v = p && c.get('showPlayBtn', !0),
          _ = p && c.get('showPrevBtn', !0),
          p = p && c.get('showNextBtn', !0),
          c = 0,
          x = h,
          m =
            ('left' === m || 'bottom' === m
              ? (v && ((n = [0, 0]), (c += g)), _ && ((i = [c, 0]), (c += g)))
              : (v && ((n = [x - d, 0]), (x -= g)), _ && ((i = [0, 0]), (c += g))),
            p && ((o = [x - d, 0]), (x -= g)),
            [c, x])
        return (
          t.get('inverse') && m.reverse(),
          {
            viewRect: s,
            mainLength: h,
            orient: a,
            rotation: u[a],
            labelRotation: y,
            labelPosOpt: l,
            labelAlign: t.get(['label', 'align']) || e[a],
            labelBaseline: t.get(['label', 'verticalAlign']) || t.get(['label', 'baseline']) || r[a],
            playPosition: n,
            prevBtnPosition: i,
            nextBtnPosition: o,
            axisExtent: m,
            controlSize: d,
            controlGap: f,
          }
        )
      }),
      (AC.prototype._position = function(t, e) {
        var n,
          i = this._mainGroup,
          o = this._labelGroup,
          r = t.viewRect,
          a =
            ('vertical' === t.orient &&
              (Ee((u = Pe()), u, [-(s = r.x), -(l = r.y + r.height)]),
              ze(u, u, -TC / 2),
              Ee(u, u, [s, l]),
              (r = r.clone()).applyTransform(u)),
            p(r)),
          s = p(i.getBoundingRect()),
          l = p(o.getBoundingRect()),
          u = [i.x, i.y],
          r = [o.x, o.y],
          h = ((r[0] = u[0] = a[0][0]), t.labelPosOpt)
        function c(t) {
          ;(t.originX = a[0][0] - t.x), (t.originY = a[1][0] - t.y)
        }
        function p(t) {
          return [
            [t.x, t.x + t.width],
            [t.y, t.y + t.height],
          ]
        }
        function d(t, e, n, i, o) {
          t[i] += n[i][o] - e[i][o]
        }
        null == h || F(h)
          ? (d(u, s, a, 1, (n = '+' === h ? 0 : 1)), d(r, l, a, 1, 1 - n))
          : (d(u, s, a, 1, (n = 0 <= h ? 0 : 1)), (r[1] = u[1] + h)),
          i.setPosition(u),
          o.setPosition(r),
          (i.rotation = o.rotation = t.rotation),
          c(i),
          c(o)
      }),
      (AC.prototype._createAxis = function(t, e) {
        var n = e.getData(),
          i = e.get('axisType'),
          o = (function(t, e) {
            if ((e = e || t.get('type')))
              switch (e) {
                case 'category':
                  return new o_({ ordinalMeta: t.getCategories(), extent: [1 / 0, -1 / 0] })
                case 'time':
                  return new S_({ locale: t.ecModel.getLocaleModel(), useUTC: t.ecModel.get('useUTC') })
                default:
                  return new l_()
              }
          })(e, i),
          r =
            ((o.getTicks = function() {
              return n.mapArray(['value'], function(t) {
                return { value: t }
              })
            }),
            n.getDataExtent('value')),
          r = (o.setExtent(r[0], r[1]), o.calcNiceTicks(), new bC('value', o, t.axisExtent, i))
        return (r.model = e), r
      }),
      (AC.prototype._createGroup = function(t) {
        t = this[t] = new Yo()
        return this.group.add(t), t
      }),
      (AC.prototype._renderAxisLine = function(t, e, n, i) {
        var o,
          n = n.getExtent()
        i.get(['lineStyle', 'show']) &&
          ((o = new ih({
            shape: { x1: n[0], y1: 0, x2: n[1], y2: 0 },
            style: P({ lineCap: 'round' }, i.getModel('lineStyle').getLineStyle()),
            silent: !0,
            z2: 1,
          })),
          e.add(o),
          (n = this._progressLine = new ih({
            shape: { x1: n[0], x2: this._currentPointer ? this._currentPointer.x : n[0], y1: 0, y2: 0 },
            style: z({ lineCap: 'round', lineWidth: o.style.lineWidth }, i.getModel(['progress', 'lineStyle']).getLineStyle()),
            silent: !0,
            z2: 1,
          })),
          e.add(n))
      }),
      (AC.prototype._renderAxisTick = function(t, a, s, l) {
        var u = this,
          h = l.getData(),
          e = s.scale.getTicks()
        ;(this._tickSymbols = []),
          E(e, function(t) {
            var e = s.dataToCoord(t.value),
              n = h.getItemModel(t.value),
              i = n.getModel('itemStyle'),
              o = n.getModel(['emphasis', 'itemStyle']),
              r = n.getModel(['progress', 'itemStyle']),
              e = { x: e, y: 0, onclick: S(u._changeTimeline, u, t.value) },
              i = DC(n, i, a, e),
              e = ((i.ensureState('emphasis').style = o.getItemStyle()), (i.ensureState('progress').style = r.getItemStyle()), Gl(i), D(i))
            n.get('tooltip') ? ((e.dataIndex = t.value), (e.dataModel = l)) : (e.dataIndex = e.dataModel = null), u._tickSymbols.push(i)
          })
      }),
      (AC.prototype._renderAxisLabel = function(a, s, l, t) {
        var u,
          h = this
        l.getLabelModel().get('show') &&
          ((u = t.getData()),
          (t = l.getViewLabels()),
          (this._tickLabels = []),
          E(t, function(t) {
            var e = t.tickValue,
              n = u.getItemModel(e),
              i = n.getModel('label'),
              o = n.getModel(['emphasis', 'label']),
              n = n.getModel(['progress', 'label']),
              r = l.dataToCoord(t.tickValue),
              r = new Hs({
                x: r,
                y: 0,
                rotation: a.labelRotation - a.rotation,
                onclick: S(h._changeTimeline, h, e),
                silent: !1,
                style: bc(i, { text: t.formattedLabel, align: a.labelAlign, verticalAlign: a.labelBaseline }),
              })
            ;(r.ensureState('emphasis').style = bc(o)),
              (r.ensureState('progress').style = bc(n)),
              s.add(r),
              Gl(r),
              (IC(r).dataIndex = e),
              h._tickLabels.push(r)
          }))
      }),
      (AC.prototype._renderControl = function(t, r, e, a) {
        var s = t.controlSize,
          l = t.rotation,
          u = a.getModel('controlStyle').getItemStyle(),
          h = a.getModel(['emphasis', 'controlStyle']).getItemStyle(),
          n = a.getPlayState(),
          i = a.get('inverse', !0)
        function o(t, e, n, i) {
          var o
          t &&
            ((o = Lo(R(a.get(['controlStyle', e + 'BtnSize']), s), s)),
            ((e = (function(t, e, n, i) {
              var o = i.style,
                t = cc(t.get(['controlStyle', e]), i || {}, new Y(n[0], n[1], n[2], n[3]))
              o && t.setStyle(o)
              return t
            })(a, e + 'Icon', [0, -o / 2, o, o], {
              x: t[0],
              y: t[1],
              originX: s / 2,
              originY: 0,
              rotation: i ? -l : 0,
              rectHover: !0,
              style: u,
              onclick: n,
            })).ensureState('emphasis').style = h),
            r.add(e),
            Gl(e))
        }
        o(t.nextBtnPosition, 'next', S(this._changeTimeline, this, i ? '-' : '+')),
          o(t.prevBtnPosition, 'prev', S(this._changeTimeline, this, i ? '+' : '-')),
          o(t.playPosition, n ? 'stop' : 'play', S(this._handlePlayClick, this, !n), !0)
      }),
      (AC.prototype._renderCurrentPointer = function(t, e, n, i) {
        var o = i.getData(),
          r = i.getCurrentIndex(),
          o = o.getItemModel(r).getModel('checkpointStyle'),
          a = this
        this._currentPointer = DC(o, o, this._mainGroup, {}, this._currentPointer, {
          onCreate: function(t) {
            ;(t.draggable = !0),
              (t.drift = S(a._handlePointerDrag, a)),
              (t.ondragend = S(a._handlePointerDragend, a)),
              kC(t, a._progressLine, r, n, i, !0)
          },
          onUpdate: function(t) {
            kC(t, a._progressLine, r, n, i)
          },
        })
      }),
      (AC.prototype._handlePlayClick = function(t) {
        this._clearTimer(), this.api.dispatchAction({ type: 'timelinePlayChange', playState: t, from: this.uid })
      }),
      (AC.prototype._handlePointerDrag = function(t, e, n) {
        this._clearTimer(), this._pointerChangeTimeline([n.offsetX, n.offsetY])
      }),
      (AC.prototype._handlePointerDragend = function(t) {
        this._pointerChangeTimeline([t.offsetX, t.offsetY], !0)
      }),
      (AC.prototype._pointerChangeTimeline = function(t, e) {
        var t = this._toAxisCoord(t)[0],
          n = rr(this._axis.getExtent().slice()),
          n =
            ((t = t > n[1] ? n[1] : t) < n[0] && (t = n[0]),
            (this._currentPointer.x = t),
            this._currentPointer.markRedraw(),
            this._progressLine),
          n = (n && ((n.shape.x2 = t), n.dirty()), this._findNearestTick(t)),
          t = this.model
        ;(e || (n !== t.getCurrentIndex() && t.get('realtime'))) && this._changeTimeline(n)
      }),
      (AC.prototype._doPlayStop = function() {
        var e = this
        this._clearTimer(),
          this.model.getPlayState() &&
            (this._timer = setTimeout(function() {
              var t = e.model
              e._changeTimeline(t.getCurrentIndex() + (t.get('rewind', !0) ? -1 : 1))
            }, this.model.get('playInterval')))
      }),
      (AC.prototype._toAxisCoord = function(t) {
        return rc(t, this._mainGroup.getLocalTransform(), !0)
      }),
      (AC.prototype._findNearestTick = function(n) {
        var i,
          t = this.model.getData(),
          o = 1 / 0,
          r = this._axis
        return (
          t.each(['value'], function(t, e) {
            ;(t = r.dataToCoord(t)), (t = Math.abs(t - n))
            t < o && ((o = t), (i = e))
          }),
          i
        )
      }),
      (AC.prototype._clearTimer = function() {
        this._timer && (clearTimeout(this._timer), (this._timer = null))
      }),
      (AC.prototype._changeTimeline = function(t) {
        var e = this.model.getCurrentIndex()
        '+' === t ? (t = e + 1) : '-' === t && (t = e - 1),
          this.api.dispatchAction({ type: 'timelineChange', currentIndex: t, from: this.uid })
      }),
      (AC.prototype._updateTicksStatus = function() {
        var t = this.model.getCurrentIndex(),
          e = this._tickSymbols,
          n = this._tickLabels
        if (e) for (var i = 0; i < e.length; i++) e && e[i] && e[i].toggleState('progress', i < t)
        if (n) for (i = 0; i < n.length; i++) n && n[i] && n[i].toggleState('progress', IC(n[i]).dataIndex <= t)
      }),
      (AC.type = 'timeline.slider'),
      AC)
  function AC() {
    var t = (null !== MC && MC.apply(this, arguments)) || this
    return (t.type = AC.type), t
  }
  function DC(t, e, n, i, o, r) {
    var a = e.get('color'),
      a =
        (o
          ? (o.setColor(a), n.add(o), r && r.onUpdate(o))
          : ((o = dm(t.get('symbol'), -1, -1, 2, 2, a)).setStyle('strokeNoScale', !0), n.add(o), r && r.onCreate(o)),
        e.getItemStyle(['color'])),
      n = (o.setStyle(a), (i = d({ rectHover: !0, z2: 100 }, i, !0)), fm(t.get('symbolSize'))),
      r = ((i.scaleX = n[0] / 2), (i.scaleY = n[1] / 2), gm(t.get('symbolOffset'), n)),
      e = (r && ((i.x = (i.x || 0) + r[0]), (i.y = (i.y || 0) + r[1])), t.get('symbolRotate'))
    return (i.rotation = ((e || 0) * Math.PI) / 180 || 0), o.attr(i), o.updateTransform(), o
  }
  function kC(t, e, n, i, o, r) {
    var a
    t.dragging ||
      ((a = o.getModel('checkpointStyle')),
      (i = i.dataToCoord(o.getData().get('value', n))),
      r || !a.get('animation', !0)
        ? (t.attr({ x: i, y: 0 }), e && e.attr({ shape: { x2: i } }))
        : ((o = { duration: a.get('animationDuration', !0), easing: a.get('animationEasing', !0) }),
          t.stopAnimation(null, !0),
          t.animateTo({ x: i, y: 0 }, o),
          e && e.animateTo({ shape: { x2: i } }, o)))
  }
  function LC(t) {
    t = t && t.timeline
    E((t = V(t) ? t : t ? [t] : []), function(t) {
      var e, n
      t &&
        ((e = (t = t).type),
        (n = { number: 'value', time: 'time' })[e] && ((t.axisType = n[e]), delete t.type),
        PC(t),
        OC(t, 'controlPosition') &&
          (OC((n = t.controlStyle || (t.controlStyle = {})), 'position') || (n.position = t.controlPosition),
          'none' !== n.position || OC(n, 'show') || ((n.show = !1), delete n.position),
          delete t.controlPosition),
        E(t.data || [], function(t) {
          O(t) && !V(t) && (!OC(t, 'value') && OC(t, 'name') && (t.value = t.name), PC(t))
        }))
    })
  }
  function PC(t) {
    var e = t.itemStyle || (t.itemStyle = {}),
      e = e.emphasis || (e.emphasis = {}),
      t = t.label || t.label || {},
      n = t.normal || (t.normal = {}),
      i = { normal: 1, emphasis: 1 }
    E(t, function(t, e) {
      i[e] || OC(n, e) || (n[e] = t)
    }),
      e.label && !OC(t, 'emphasis') && ((t.emphasis = e.label), delete e.label)
  }
  function OC(t, e) {
    return t.hasOwnProperty(e)
  }
  i1(function(t) {
    var e
    t.registerComponentModel(mC),
      t.registerComponentView(CC),
      t.registerSubTypeDefaulter('timeline', function() {
        return 'slider'
      }),
      (e = t).registerAction({ type: 'timelineChange', event: 'timelineChanged', update: 'prepareAndUpdate' }, function(t, e, n) {
        var i = e.getComponent('timeline')
        return (
          i &&
            null != t.currentIndex &&
            (i.setCurrentIndex(t.currentIndex), !i.get('loop', !0)) &&
            i.isIndexMax() &&
            i.getPlayState() &&
            (i.setPlayState(!1), n.dispatchAction({ type: 'timelinePlayChange', playState: !1, from: t.from })),
          e.resetOption('timeline', { replaceMerge: i.get('replaceMerge', !0) }),
          z({ currentIndex: i.option.currentIndex }, t)
        )
      }),
      e.registerAction({ type: 'timelinePlayChange', event: 'timelinePlayChanged', update: 'update' }, function(t, e) {
        e = e.getComponent('timeline')
        e && null != t.playState && e.setPlayState(t.playState)
      }),
      t.registerPreprocessor(LC)
  })
  var RC = ['x', 'y', 'radius', 'angle', 'single'],
    NC = ['cartesian2d', 'polar', 'singleAxis']
  function EC(t) {
    return t + 'Axis'
  }
  function zC(t, e) {
    var i,
      o = N(),
      n = [],
      r = N()
    for (
      t.eachComponent({ mainType: 'dataZoom', query: e }, function(t) {
        r.get(t.uid) || s(t)
      });
      (i = !1), t.eachComponent('dataZoom', a), i;

    );
    function a(t) {
      var n
      !r.get(t.uid) &&
        ((n = !1),
        t.eachTargetAxis(function(t, e) {
          t = o.get(t)
          t && t[e] && (n = !0)
        }),
        n) &&
        (s(t), (i = !0))
    }
    function s(t) {
      r.set(t.uid, !0),
        n.push(t),
        t.eachTargetAxis(function(t, e) {
          ;(o.get(t) || o.set(t, []))[e] = !0
        })
    }
    return n
  }
  function BC(t) {
    var o = t.ecModel,
      r = { infoList: [], infoMap: N() }
    return (
      t.eachTargetAxis(function(t, e) {
        var n,
          i,
          t = o.getComponent(EC(t), e)
        t &&
          (e = t.getCoordSysModel()) &&
          ((n = e.uid),
          (i = r.infoMap.get(n)) || (r.infoList.push((i = { model: e, axisModels: [] })), r.infoMap.set(n, i)),
          i.axisModels.push(t))
      }),
      r
    )
  }
  FC.prototype.add = function(t) {
    this.indexMap[t] || (this.indexList.push(t), (this.indexMap[t] = !0))
  }
  var VC = FC
  function FC() {
    ;(this.indexList = []), (this.indexMap = [])
  }
  u(GC, (HC = g)),
    (GC.prototype.init = function(t, e, n) {
      var i = WC(t)
      ;(this.settledOption = i), this.mergeDefaultAndTheme(t, n), this._doInit(i)
    }),
    (GC.prototype.mergeOption = function(t) {
      var e = WC(t)
      d(this.option, t, !0), d(this.settledOption, e, !0), this._doInit(e)
    }),
    (GC.prototype._doInit = function(t) {
      var n = this.option,
        i = (this._setDefaultThrottle(t), this._updateRangeUse(t), this.settledOption)
      E(
        [
          ['start', 'startValue'],
          ['end', 'endValue'],
        ],
        function(t, e) {
          'value' === this._rangePropMode[e] && (n[t[0]] = i[t[0]] = null)
        },
        this
      ),
        this._resetTarget()
    }),
    (GC.prototype._resetTarget = function() {
      var t = this.get('orient', !0),
        e = (this._targetAxisInfoMap = N())
      this._fillSpecifiedTargetAxis(e)
        ? (this._orient = t || this._makeAutoOrientByTargetAxis())
        : ((this._orient = t || 'horizontal'), this._fillAutoTargetAxisByOrient(e, this._orient)),
        (this._noTarget = !0),
        e.each(function(t) {
          t.indexList.length && (this._noTarget = !1)
        }, this)
    }),
    (GC.prototype._fillSpecifiedTargetAxis = function(i) {
      var o = !1
      return (
        E(
          RC,
          function(t) {
            var e,
              n = this.getReferringComponents(EC(t), Fr)
            n.specified &&
              ((o = !0),
              (e = new VC()),
              E(n.models, function(t) {
                e.add(t.componentIndex)
              }),
              i.set(t, e))
          },
          this
        ),
        o
      )
    }),
    (GC.prototype._fillAutoTargetAxisByOrient = function(r, e) {
      var t,
        i = this.ecModel,
        a = !0
      function n(t, e) {
        var n,
          i,
          o = t[0]
        o &&
          ((n = new VC()).add(o.componentIndex),
          r.set(e, n),
          (a = !1),
          ('x' !== e && 'y' !== e) ||
            ((i = o.getReferringComponents('grid', Vr).models[0]) &&
              E(t, function(t) {
                o.componentIndex !== t.componentIndex && i === t.getReferringComponents('grid', Vr).models[0] && n.add(t.componentIndex)
              })))
      }
      a && n(i.findComponents({ mainType: (t = 'vertical' === e ? 'y' : 'x') + 'Axis' }), t),
        a &&
          n(
            i.findComponents({
              mainType: 'singleAxis',
              filter: function(t) {
                return t.get('orient', !0) === e
              },
            }),
            'single'
          ),
        a &&
          E(
            RC,
            function(t) {
              var e, n
              a &&
                (e = i.findComponents({
                  mainType: EC(t),
                  filter: function(t) {
                    return 'category' === t.get('type', !0)
                  },
                }))[0] &&
                ((n = new VC()).add(e[0].componentIndex), r.set(t, n), (a = !1))
            },
            this
          )
    }),
    (GC.prototype._makeAutoOrientByTargetAxis = function() {
      var e
      return (
        this.eachTargetAxis(function(t) {
          e = e || t
        }, this),
        'y' === e ? 'vertical' : 'horizontal'
      )
    }),
    (GC.prototype._setDefaultThrottle = function(t) {
      t.hasOwnProperty('throttle') && (this._autoThrottle = !1),
        this._autoThrottle && ((t = this.ecModel.option), (this.option.throttle = t.animation && 0 < t.animationDurationUpdate ? 100 : 20))
    }),
    (GC.prototype._updateRangeUse = function(i) {
      var o = this._rangePropMode,
        r = this.get('rangeMode')
      E(
        [
          ['start', 'startValue'],
          ['end', 'endValue'],
        ],
        function(t, e) {
          var n = null != i[t[0]],
            t = null != i[t[1]]
          n && !t ? (o[e] = 'percent') : !n && t ? (o[e] = 'value') : r ? (o[e] = r[e]) : n && (o[e] = 'percent')
        }
      )
    }),
    (GC.prototype.noTarget = function() {
      return this._noTarget
    }),
    (GC.prototype.getFirstTargetAxisModel = function() {
      var n
      return (
        this.eachTargetAxis(function(t, e) {
          null == n && (n = this.ecModel.getComponent(EC(t), e))
        }, this),
        n
      )
    }),
    (GC.prototype.eachTargetAxis = function(n, i) {
      this._targetAxisInfoMap.each(function(t, e) {
        E(t.indexList, function(t) {
          n.call(i, e, t)
        })
      })
    }),
    (GC.prototype.getAxisProxy = function(t, e) {
      t = this.getAxisModel(t, e)
      if (t) return t.__dzAxisProxy
    }),
    (GC.prototype.getAxisModel = function(t, e) {
      var n = this._targetAxisInfoMap.get(t)
      if (n && n.indexMap[e]) return this.ecModel.getComponent(EC(t), e)
    }),
    (GC.prototype.setRawRange = function(e) {
      var n = this.option,
        i = this.settledOption
      E(
        [
          ['start', 'startValue'],
          ['end', 'endValue'],
        ],
        function(t) {
          ;(null == e[t[0]] && null == e[t[1]]) || ((n[t[0]] = i[t[0]] = e[t[0]]), (n[t[1]] = i[t[1]] = e[t[1]]))
        },
        this
      ),
        this._updateRangeUse(e)
    }),
    (GC.prototype.setCalculatedRange = function(e) {
      var n = this.option
      E(['start', 'startValue', 'end', 'endValue'], function(t) {
        n[t] = e[t]
      })
    }),
    (GC.prototype.getPercentRange = function() {
      var t = this.findRepresentativeAxisProxy()
      if (t) return t.getDataPercentWindow()
    }),
    (GC.prototype.getValueRange = function(t, e) {
      return null != t || null != e
        ? this.getAxisProxy(t, e).getDataValueWindow()
        : (t = this.findRepresentativeAxisProxy())
        ? t.getDataValueWindow()
        : void 0
    }),
    (GC.prototype.findRepresentativeAxisProxy = function(t) {
      if (t) return t.__dzAxisProxy
      for (var e, n = this._targetAxisInfoMap.keys(), i = 0; i < n.length; i++)
        for (var o = n[i], r = this._targetAxisInfoMap.get(o), a = 0; a < r.indexList.length; a++) {
          var s = this.getAxisProxy(o, r.indexList[a])
          if (s.hostedBy(this)) return s
          e = e || s
        }
      return e
    }),
    (GC.prototype.getRangePropMode = function() {
      return this._rangePropMode.slice()
    }),
    (GC.prototype.getOrient = function() {
      return this._orient
    }),
    (GC.type = 'dataZoom'),
    (GC.dependencies = ['xAxis', 'yAxis', 'radiusAxis', 'angleAxis', 'singleAxis', 'series', 'toolbox']),
    (GC.defaultOption = { z: 4, filterMode: 'filter', start: 0, end: 100 })
  var HC,
    im = GC
  function GC() {
    var t = (null !== HC && HC.apply(this, arguments)) || this
    return (t.type = GC.type), (t._autoThrottle = !0), (t._noTarget = !0), (t._rangePropMode = ['percent', 'percent']), t
  }
  function WC(e) {
    var n = {}
    return (
      E(['start', 'end', 'startValue', 'endValue', 'throttle'], function(t) {
        e.hasOwnProperty(t) && (n[t] = e[t])
      }),
      n
    )
  }
  u(XC, (UC = im)),
    (XC.type = 'dataZoom.inside'),
    (XC.defaultOption = qc(im.defaultOption, {
      disabled: !1,
      zoomLock: !1,
      zoomOnMouseWheel: !0,
      moveOnMouseMove: !0,
      moveOnMouseWheel: !1,
      preventDefaultMouseMove: !0,
    }))
  var UC,
    YC = XC
  function XC() {
    var t = (null !== UC && UC.apply(this, arguments)) || this
    return (t.type = XC.type), t
  }
  u(qC, (ZC = ry)),
    (qC.prototype.render = function(t, e, n, i) {
      ;(this.dataZoomModel = t), (this.ecModel = e), (this.api = n)
    }),
    (qC.type = 'dataZoom')
  var ZC,
    lm = qC
  function qC() {
    var t = (null !== ZC && ZC.apply(this, arguments)) || this
    return (t.type = qC.type), t
  }
  function jC(t, e, n, i, o, r) {
    t = t || 0
    var a = n[1] - n[0],
      a =
        (null != o && (o = $C(o, [0, a])),
        null != r && (r = Math.max(r, null != o ? o : 0)),
        'all' === i && ((s = $C((s = Math.abs(e[1] - e[0])), [0, a])), (o = r = $C(s, [o, r])), (i = 0)),
        (e[0] = $C(e[0], n)),
        (e[1] = $C(e[1], n)),
        KC(e, i)),
      s = ((e[i] += t), o || 0),
      t = n.slice()
    a.sign < 0 ? (t[0] += s) : (t[1] -= s),
      (e[i] = $C(e[i], t)),
      (n = KC(e, i)),
      null != o && (n.sign !== a.sign || n.span < o) && (e[1 - i] = e[i] + a.sign * o),
      (n = KC(e, i)),
      null != r && n.span > r && (e[1 - i] = e[i] + n.sign * r)
  }
  function KC(t, e) {
    t = t[e] - t[1 - e]
    return { span: Math.abs(t), sign: 0 < t || (!(t < 0) && e) ? -1 : 1 }
  }
  function $C(t, e) {
    return Math.min(null != e[1] ? e[1] : 1 / 0, Math.max(null != e[0] ? e[0] : -1 / 0, t))
  }
  var QC = '\0_ec_interaction_mutex'
  function JC(t, e) {
    return ((t = t)[QC] || (t[QC] = {}))[e]
  }
  $0({ type: 'takeGlobalCursor', event: 'globalCursorTaken', update: 'update' }, Bt)
  u(nA, (tA = se)),
    (nA.prototype.isDragging = function() {
      return this._dragging
    }),
    (nA.prototype.isPinching = function() {
      return this._pinching
    }),
    (nA.prototype.setPointerChecker = function(t) {
      this.pointerChecker = t
    }),
    (nA.prototype.dispose = function() {
      this.disable()
    }),
    (nA.prototype._mousedownHandler = function(t) {
      if (!Ce(t)) {
        for (var e = t.target; e; ) {
          if (e.draggable) return
          e = e.__hostTarget || e.parent
        }
        var n = t.offsetX,
          i = t.offsetY
        this.pointerChecker && this.pointerChecker(t, n, i) && ((this._x = n), (this._y = i), (this._dragging = !0))
      }
    }),
    (nA.prototype._mousemoveHandler = function(t) {
      var e, n, i, o, r, a
      this._dragging &&
        rA('moveOnMouseMove', t, this._opt) &&
        'pinch' !== t.gestureEvent &&
        !JC(this._zr, 'globalPan') &&
        ((e = t.offsetX),
        (n = t.offsetY),
        (r = e - (i = this._x)),
        (a = n - (o = this._y)),
        (this._x = e),
        (this._y = n),
        this._opt.preventDefaultMouseMove && Ie(t.event),
        oA(this, 'pan', 'moveOnMouseMove', t, { dx: r, dy: a, oldX: i, oldY: o, newX: e, newY: n, isAvailableBehavior: null }))
    }),
    (nA.prototype._mouseupHandler = function(t) {
      Ce(t) || (this._dragging = !1)
    }),
    (nA.prototype._mousewheelHandler = function(t) {
      var e = rA('zoomOnMouseWheel', t, this._opt),
        n = rA('moveOnMouseWheel', t, this._opt),
        i = t.wheelDelta,
        o = Math.abs(i),
        r = t.offsetX,
        a = t.offsetY
      0 !== i &&
        (e || n) &&
        (e &&
          ((e = 3 < o ? 1.4 : 1 < o ? 1.2 : 1.1),
          iA(this, 'zoom', 'zoomOnMouseWheel', t, { scale: 0 < i ? e : 1 / e, originX: r, originY: a, isAvailableBehavior: null })),
        n) &&
        iA(this, 'scrollMove', 'moveOnMouseWheel', t, {
          scrollDelta: (0 < i ? 1 : -1) * (3 < (o = Math.abs(i)) ? 0.4 : 1 < o ? 0.15 : 0.05),
          originX: r,
          originY: a,
          isAvailableBehavior: null,
        })
    }),
    (nA.prototype._pinchHandler = function(t) {
      JC(this._zr, 'globalPan') ||
        iA(this, 'zoom', null, t, {
          scale: 1 < t.pinchScale ? 1.1 : 1 / 1.1,
          originX: t.pinchX,
          originY: t.pinchY,
          isAvailableBehavior: null,
        })
    })
  var tA,
    eA = nA
  function nA(n) {
    var t = tA.call(this) || this,
      i = ((t._zr = n), S(t._mousedownHandler, t)),
      o = S(t._mousemoveHandler, t),
      r = S(t._mouseupHandler, t),
      a = S(t._mousewheelHandler, t),
      s = S(t._pinchHandler, t)
    return (
      (t.enable = function(t, e) {
        this.disable(),
          (this._opt = z(y(e) || {}, { zoomOnMouseWheel: !0, moveOnMouseMove: !0, moveOnMouseWheel: !1, preventDefaultMouseMove: !0 })),
          (!0 !== (t = null == t ? !0 : t) && 'move' !== t && 'pan' !== t) ||
            (n.on('mousedown', i), n.on('mousemove', o), n.on('mouseup', r)),
          (!0 !== t && 'scale' !== t && 'zoom' !== t) || (n.on('mousewheel', a), n.on('pinch', s))
      }),
      (t.disable = function() {
        n.off('mousedown', i), n.off('mousemove', o), n.off('mouseup', r), n.off('mousewheel', a), n.off('pinch', s)
      }),
      t
    )
  }
  function iA(t, e, n, i, o) {
    t.pointerChecker && t.pointerChecker(i, o.originX, o.originY) && (Ie(i.event), oA(t, e, n, i, o))
  }
  function oA(t, e, n, i, o) {
    ;(o.isAvailableBehavior = S(rA, null, n, i)), t.trigger(e, o)
  }
  function rA(t, e, n) {
    n = n[t]
    return !t || (n && (!F(n) || e.event[n + 'Key']))
  }
  var aA = Nr()
  function sA(t, e) {
    e && (t.removeKey(e.model.uid), (t = e.controller)) && t.dispose()
  }
  function lA(t, e) {
    t.isDisposed() || t.dispatchAction({ type: 'dataZoom', animation: { easing: 'cubicOut', duration: 100 }, batch: e })
  }
  function uA(t, e, n, i) {
    return t.coordinateSystem.containPoint([n, i])
  }
  function hA(t) {
    t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER, function(t, a) {
      var e = aA(a),
        l = e.coordSysRecordMap || (e.coordSysRecordMap = N())
      l.each(function(t) {
        t.dataZoomInfoMap = null
      }),
        t.eachComponent({ mainType: 'dataZoom', subType: 'inside' }, function(o) {
          E(BC(o).infoList, function(t) {
            var r,
              e,
              n = t.model.uid,
              i =
                l.get(n) ||
                l.set(
                  n,
                  ((n = a),
                  (i = t.model),
                  (r = { model: i, containsPoint: M(uA, i), dispatchAction: M(lA, n), dataZoomInfoMap: null, controller: null }),
                  (e = r.controller = new eA(n.getZr())),
                  E(['pan', 'zoom', 'scrollMove'], function(o) {
                    e.on(o, function(n) {
                      var i = []
                      r.dataZoomInfoMap.each(function(t) {
                        var e
                        n.isAvailableBehavior(t.model.option) &&
                          ((e = (e = (t.getRange || {})[o]) && e(t.dzReferCoordSysInfo, r.model.mainType, r.controller, n)),
                          !t.model.get('disabled', !0)) &&
                          e &&
                          i.push({ dataZoomId: t.model.id, start: e[0], end: e[1] })
                      }),
                        i.length && r.dispatchAction(i)
                    })
                  }),
                  r)
                )
            ;(i.dataZoomInfoMap || (i.dataZoomInfoMap = N())).set(o.uid, { dzReferCoordSysInfo: t, model: o, getRange: null })
          })
        }),
        l.each(function(t) {
          var e,
            n,
            i,
            o,
            r,
            a = t.controller,
            s = t.dataZoomInfoMap
          ;(e = s && null != (n = s.keys()[0]) ? s.get(n) : e)
            ? ((o = { type_true: 2, type_move: 1, type_false: 0, type_undefined: -1 }),
              (r = !0),
              s.each(function(t) {
                var t = t.model,
                  e = !t.get('disabled', !0) && (!t.get('zoomLock', !0) || 'move')
                o['type_' + i] < o['type_' + e] && (i = e), (r = r && t.get('preventDefaultMouseMove', !0))
              }),
              (n = {
                controlType: i,
                opt: { zoomOnMouseWheel: !0, moveOnMouseMove: !0, moveOnMouseWheel: !0, preventDefaultMouseMove: !!r },
              }),
              a.enable(n.controlType, n.opt),
              a.setPointerChecker(t.containsPoint),
              wy(t, 'dispatchAction', e.model.get('throttle', !0), 'fixRate'))
            : sA(l, t)
        })
    })
  }
  u(dA, (cA = lm)),
    (dA.prototype.render = function(t, e, n) {
      var i, o
      cA.prototype.render.apply(this, arguments),
        t.noTarget()
          ? this._clear()
          : ((this.range = t.getPercentRange()),
            (n = n),
            (i = t),
            (o = { pan: S(fA.pan, this), zoom: S(fA.zoom, this), scrollMove: S(fA.scrollMove, this) }),
            aA(n).coordSysRecordMap.each(function(t) {
              t = t.dataZoomInfoMap.get(i.uid)
              t && (t.getRange = o)
            }))
    }),
    (dA.prototype.dispose = function() {
      this._clear(), cA.prototype.dispose.apply(this, arguments)
    }),
    (dA.prototype._clear = function() {
      for (var t = this.api, e = this.dataZoomModel, n = aA(t).coordSysRecordMap, i = n.keys(), o = 0; o < i.length; o++) {
        var r,
          a = i[o],
          a = n.get(a),
          s = a.dataZoomInfoMap
        s && ((r = e.uid), s.get(r)) && (s.removeKey(r), s.keys().length || sA(n, a))
      }
      this.range = null
    }),
    (dA.type = 'dataZoom.inside')
  var cA,
    pA = dA
  function dA() {
    var t = (null !== cA && cA.apply(this, arguments)) || this
    return (t.type = 'dataZoom.inside'), t
  }
  var fA = {
    zoom: function(t, e, n, i) {
      var o = this.range,
        r = o.slice(),
        a = t.axisModels[0]
      if (a)
        return (
          (a =
            ((0 < (e = yA[e](null, [i.originX, i.originY], a, n, t)).signal
              ? e.pixelStart + e.pixelLength - e.pixel
              : e.pixel - e.pixelStart) /
              e.pixelLength) *
              (r[1] - r[0]) +
            r[0]),
          (n = Math.max(1 / i.scale, 0)),
          (r[0] = (r[0] - a) * n + a),
          (r[1] = (r[1] - a) * n + a),
          jC(0, r, [0, 100], 0, (t = this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan()).minSpan, t.maxSpan),
          (this.range = r),
          o[0] !== r[0] || o[1] !== r[1] ? r : void 0
        )
    },
    pan: gA(function(t, e, n, i, o, r) {
      i = yA[i]([r.oldX, r.oldY], [r.newX, r.newY], e, o, n)
      return (i.signal * (t[1] - t[0]) * i.pixel) / i.pixelLength
    }),
    scrollMove: gA(function(t, e, n, i, o, r) {
      return yA[i]([0, 0], [r.scrollDelta, r.scrollDelta], e, o, n).signal * (t[1] - t[0]) * r.scrollDelta
    }),
  }
  function gA(s) {
    return function(t, e, n, i) {
      var o = this.range,
        r = o.slice(),
        a = t.axisModels[0]
      if (a) return jC(s(r, a, t, e, n, i), r, [0, 100], 'all'), (this.range = r), o[0] !== r[0] || o[1] !== r[1] ? r : void 0
    }
  }
  var yA = {
      grid: function(t, e, n, i, o) {
        var n = n.axis,
          r = {},
          o = o.model.coordinateSystem.getRect()
        return (
          (t = t || [0, 0]),
          'x' === n.dim
            ? ((r.pixel = e[0] - t[0]), (r.pixelLength = o.width), (r.pixelStart = o.x), (r.signal = n.inverse ? 1 : -1))
            : ((r.pixel = e[1] - t[1]), (r.pixelLength = o.height), (r.pixelStart = o.y), (r.signal = n.inverse ? -1 : 1)),
          r
        )
      },
      polar: function(t, e, n, i, o) {
        var r = n.axis,
          a = {},
          o = o.model.coordinateSystem,
          s = o.getRadiusAxis().getExtent(),
          l = o.getAngleAxis().getExtent()
        return (
          (t = t ? o.pointToCoord(t) : [0, 0]),
          (e = o.pointToCoord(e)),
          'radiusAxis' === n.mainType
            ? ((a.pixel = e[0] - t[0]), (a.pixelLength = s[1] - s[0]), (a.pixelStart = s[0]), (a.signal = r.inverse ? 1 : -1))
            : ((a.pixel = e[1] - t[1]), (a.pixelLength = l[1] - l[0]), (a.pixelStart = l[0]), (a.signal = r.inverse ? -1 : 1)),
          a
        )
      },
      singleAxis: function(t, e, n, i, o) {
        var n = n.axis,
          o = o.model.coordinateSystem.getRect(),
          r = {}
        return (
          (t = t || [0, 0]),
          'horizontal' === n.orient
            ? ((r.pixel = e[0] - t[0]), (r.pixelLength = o.width), (r.pixelStart = o.x), (r.signal = n.inverse ? 1 : -1))
            : ((r.pixel = e[1] - t[1]), (r.pixelLength = o.height), (r.pixelStart = o.y), (r.signal = n.inverse ? -1 : 1)),
          r
        )
      },
    },
    mA = E,
    vA = rr,
    _A =
      ((xA.prototype.hostedBy = function(t) {
        return this._dataZoomModel === t
      }),
      (xA.prototype.getDataValueWindow = function() {
        return this._valueWindow.slice()
      }),
      (xA.prototype.getDataPercentWindow = function() {
        return this._percentWindow.slice()
      }),
      (xA.prototype.getTargetSeriesModels = function() {
        var n = []
        return (
          this.ecModel.eachSeries(function(t) {
            var e
            ;(e = (e = t).get('coordinateSystem')),
              0 <= C(NC, e) &&
                ((e = EC(this._dimName)), (e = t.getReferringComponents(e, Vr).models[0])) &&
                this._axisIndex === e.componentIndex &&
                n.push(t)
          }, this),
          n
        )
      }),
      (xA.prototype.getAxisModel = function() {
        return this.ecModel.getComponent(this._dimName + 'Axis', this._axisIndex)
      }),
      (xA.prototype.getMinMaxSpan = function() {
        return y(this._minMaxSpan)
      }),
      (xA.prototype.calculateDataWindow = function(i) {
        var o,
          r = this._dataExtent,
          s = this.getAxisModel().axis.scale,
          a = this._dataZoomModel.getRangePropMode(),
          l = [0, 100],
          u = [],
          h = [],
          c =
            (mA(['start', 'end'], function(t, e) {
              var n = i[t],
                t = i[t + 'Value']
              'percent' === a[e]
                ? (t = s.parse(ir((n = null == n ? l[e] : n), l, r)))
                : ((o = !0), (n = ir((t = null == t ? r[e] : s.parse(t)), r, l))),
                (h[e] = null == t || isNaN(t) ? r[e] : t),
                (u[e] = null == n || isNaN(n) ? l[e] : n)
            }),
            vA(h),
            vA(u),
            this._minMaxSpan)
        function t(t, e, n, i, o) {
          var r = o ? 'Span' : 'ValueSpan'
          jC(0, t, n, 'all', c['min' + r], c['max' + r])
          for (var a = 0; a < 2; a++) (e[a] = ir(t[a], n, i, !0)), o && (e[a] = s.parse(e[a]))
        }
        return o ? t(h, u, r, l, !1) : t(u, h, l, r, !0), { valueWindow: h, percentWindow: u }
      }),
      (xA.prototype.reset = function(t) {
        var e, i, o, n
        t === this._dataZoomModel &&
          ((n = this.getTargetSeriesModels()),
          (this._dataExtent =
            ((i = (e = this)._dimName),
            (o = [1 / 0, -1 / 0]),
            mA((n = n), function(t) {
              var e, n
              ;(e = o),
                (n = t.getData()),
                (t = i),
                n &&
                  E(Q_(n, t), function(t) {
                    t = n.getApproximateExtent(t)
                    t[0] < e[0] && (e[0] = t[0]), t[1] > e[1] && (e[1] = t[1])
                  })
            }),
            [(e = G_((n = e.getAxisModel()).axis.scale, n, o).calculate()).min, e.max])),
          this._updateMinMaxSpan(),
          (n = this.calculateDataWindow(t.settledOption)),
          (this._valueWindow = n.valueWindow),
          (this._percentWindow = n.percentWindow),
          this._setAxisModel())
      }),
      (xA.prototype.filterData = function(t, e) {
        var o, n, r, c
        t === this._dataZoomModel &&
          ((o = this._dimName), (n = this.getTargetSeriesModels()), (r = t.get('filterMode')), (c = this._valueWindow), 'none' !== r) &&
          mA(n, function(n) {
            var l,
              u,
              i = n.getData(),
              h = i.mapDimensionsAll(o)
            h.length &&
              ('weakFilter' === r
                ? ((l = i.getStore()),
                  (u = B(
                    h,
                    function(t) {
                      return i.getDimensionIndex(t)
                    },
                    i
                  )),
                  i.filterSelf(function(t) {
                    for (var e, n, i, o = 0; o < h.length; o++) {
                      var r = l.get(u[o], t),
                        a = !isNaN(r),
                        s = r < c[0],
                        r = r > c[1]
                      if (a && !s && !r) return !0
                      a && (i = !0), s && (e = !0), r && (n = !0)
                    }
                    return i && e && n
                  }))
                : mA(h, function(t) {
                    var e
                    'empty' === r
                      ? n.setData(
                          (i = i.map(t, function(t) {
                            return (e = t) >= c[0] && e <= c[1] ? t : NaN
                            var e
                          }))
                        )
                      : (((e = {})[t] = c), i.selectRange(e))
                  }),
              mA(h, function(t) {
                i.setApproximateExtent(c, t)
              }))
          })
      }),
      (xA.prototype._updateMinMaxSpan = function() {
        var i = (this._minMaxSpan = {}),
          o = this._dataZoomModel,
          r = this._dataExtent
        mA(
          ['min', 'max'],
          function(t) {
            var e = o.get(t + 'Span'),
              n = o.get(t + 'ValueSpan')
            null != (n = null != n ? this.getAxisModel().axis.scale.parse(n) : n)
              ? (e = ir(r[0] + n, r, [0, 100], !0))
              : null != e && (n = ir(e, [0, 100], r, !0) - r[0]),
              (i[t + 'Span'] = e),
              (i[t + 'ValueSpan'] = n)
          },
          this
        )
      }),
      (xA.prototype._setAxisModel = function() {
        var t,
          e = this.getAxisModel(),
          n = this._percentWindow,
          i = this._valueWindow
        n &&
          ((t = lr(i, [0, 500])),
          (t = Math.min(t, 20)),
          (e = e.axis.scale.rawExtentInfo),
          0 !== n[0] && e.setDeterminedMinMax('min', +i[0].toFixed(t)),
          100 !== n[1] && e.setDeterminedMinMax('max', +i[1].toFixed(t)),
          e.freeze())
      }),
      xA)
  function xA(t, e, n, i) {
    ;(this._dimName = t), (this._axisIndex = e), (this.ecModel = i), (this._dataZoomModel = n)
  }
  var wA = {
    getTargetSeries: function(r) {
      function t(o) {
        r.eachComponent('dataZoom', function(i) {
          i.eachTargetAxis(function(t, e) {
            var n = r.getComponent(EC(t), e)
            o(t, e, n, i)
          })
        })
      }
      t(function(t, e, n, i) {
        n.__dzAxisProxy = null
      })
      var o = [],
        e =
          (t(function(t, e, n, i) {
            n.__dzAxisProxy || ((n.__dzAxisProxy = new _A(t, e, i, r)), o.push(n.__dzAxisProxy))
          }),
          N())
      return (
        E(o, function(t) {
          E(t.getTargetSeriesModels(), function(t) {
            e.set(t.uid, t)
          })
        }),
        e
      )
    },
    overallReset: function(t, i) {
      t.eachComponent('dataZoom', function(n) {
        n.eachTargetAxis(function(t, e) {
          n.getAxisProxy(t, e).reset(n)
        }),
          n.eachTargetAxis(function(t, e) {
            n.getAxisProxy(t, e).filterData(n, i)
          })
      }),
        t.eachComponent('dataZoom', function(t) {
          var e,
            n = t.findRepresentativeAxisProxy()
          n &&
            ((e = n.getDataPercentWindow()),
            (n = n.getDataValueWindow()),
            t.setCalculatedRange({ start: e[0], end: e[1], startValue: n[0], endValue: n[1] }))
        })
    },
  }
  var bA = !1
  function SA(t) {
    bA ||
      ((bA = !0),
      t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER, wA),
      t.registerAction('dataZoom', function(e, t) {
        E(zC(t, e), function(t) {
          t.setRawRange({ start: e.start, end: e.end, startValue: e.startValue, endValue: e.endValue })
        })
      }),
      t.registerSubTypeDefaulter('dataZoom', function() {
        return 'slider'
      }))
  }
  function MA(t) {
    SA(t), t.registerComponentModel(YC), t.registerComponentView(pA), hA(t)
  }
  u(CA, (TA = im)),
    (CA.type = 'dataZoom.slider'),
    (CA.layoutMode = 'box'),
    (CA.defaultOption = qc(im.defaultOption, {
      show: !0,
      right: 'ph',
      top: 'ph',
      width: 'ph',
      height: 'ph',
      left: null,
      bottom: null,
      borderColor: '#d2dbee',
      borderRadius: 3,
      backgroundColor: 'rgba(47,69,84,0)',
      dataBackground: { lineStyle: { color: '#d2dbee', width: 0.5 }, areaStyle: { color: '#d2dbee', opacity: 0.2 } },
      selectedDataBackground: { lineStyle: { color: '#8fb0f7', width: 0.5 }, areaStyle: { color: '#8fb0f7', opacity: 0.2 } },
      fillerColor: 'rgba(135,175,274,0.2)',
      handleIcon: 'path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z',
      handleSize: '100%',
      handleStyle: { color: '#fff', borderColor: '#ACB8D1' },
      moveHandleSize: 7,
      moveHandleIcon:
        'path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z',
      moveHandleStyle: { color: '#D2DBEE', opacity: 0.7 },
      showDetail: !0,
      showDataShadow: 'auto',
      realtime: !0,
      zoomLock: !1,
      textStyle: { color: '#6E7079' },
      brushSelect: !0,
      brushStyle: { color: 'rgba(135,175,274,0.15)' },
      emphasis: { handleLabel: { show: !0 }, handleStyle: { borderColor: '#8FB0F7' }, moveHandleStyle: { color: '#8FB0F7' } },
    }))
  var TA,
    IA = CA
  function CA() {
    var t = (null !== TA && TA.apply(this, arguments)) || this
    return (t.type = CA.type), t
  }
  var AA,
    DA = Es,
    kA = 'horizontal',
    LA = 'vertical',
    PA = ['line', 'bar', 'candlestick', 'scatter'],
    OA = { easing: 'cubicOut', duration: 100, delay: 0 },
    RA =
      (u(NA, (AA = lm)),
      (NA.prototype.init = function(t, e) {
        ;(this.api = e), (this._onBrush = S(this._onBrush, this)), (this._onBrushEnd = S(this._onBrushEnd, this))
      }),
      (NA.prototype.render = function(t, e, n, i) {
        AA.prototype.render.apply(this, arguments),
          wy(this, '_dispatchZoomAction', t.get('throttle'), 'fixRate'),
          (this._orient = t.getOrient()),
          !1 === t.get('show')
            ? this.group.removeAll()
            : t.noTarget()
            ? (this._clear(), this.group.removeAll())
            : ((i && 'dataZoom' === i.type && i.from === this.uid) || this._buildView(), this._updateView())
      }),
      (NA.prototype.dispose = function() {
        this._clear(), AA.prototype.dispose.apply(this, arguments)
      }),
      (NA.prototype._clear = function() {
        by(this, '_dispatchZoomAction')
        var t = this.api.getZr()
        t.off('mousemove', this._onBrush), t.off('mouseup', this._onBrushEnd)
      }),
      (NA.prototype._buildView = function() {
        var t = this.group,
          e =
            (t.removeAll(),
            (this._brushing = !1),
            (this._displayables.brushRect = null),
            this._resetLocation(),
            this._resetInterval(),
            (this._displayables.sliderGroup = new Yo()))
        this._renderBackground(), this._renderHandle(), this._renderDataShadow(), t.add(e), this._positionGroup()
      }),
      (NA.prototype._resetLocation = function() {
        var t = this.dataZoomModel,
          e = this.api,
          n = t.get('brushSelect') ? 7 : 0,
          i = this._findCoordRect(),
          e = { width: e.getWidth(), height: e.getHeight() },
          o =
            this._orient === kA
              ? { right: e.width - i.x - i.width, top: e.height - 30 - 7 - n, width: i.width, height: 30 }
              : { right: 7, top: i.y, width: 30, height: i.height },
          r = Zp(t.option),
          n =
            (E(['right', 'top', 'width', 'height'], function(t) {
              'ph' === r[t] && (r[t] = o[t])
            }),
            Up(r, e))
        ;(this._location = { x: n.x, y: n.y }), (this._size = [n.width, n.height]), this._orient === LA && this._size.reverse()
      }),
      (NA.prototype._positionGroup = function() {
        var t = this.group,
          e = this._location,
          n = this._orient,
          i = this.dataZoomModel.getFirstTargetAxisModel(),
          i = i && i.get('inverse'),
          o = this._displayables.sliderGroup,
          r = (this._dataShadowInfo || {}).otherAxisInverse,
          n =
            (o.attr(
              n !== kA || i
                ? n === kA && i
                  ? { scaleY: r ? 1 : -1, scaleX: -1 }
                  : n !== LA || i
                  ? { scaleY: r ? -1 : 1, scaleX: -1, rotation: Math.PI / 2 }
                  : { scaleY: r ? -1 : 1, scaleX: 1, rotation: Math.PI / 2 }
                : { scaleY: r ? 1 : -1, scaleX: 1 }
            ),
            t.getBoundingRect([o]))
        ;(t.x = e.x - n.x), (t.y = e.y - n.y), t.markRedraw()
      }),
      (NA.prototype._getViewExtent = function() {
        return [0, this._size[0]]
      }),
      (NA.prototype._renderBackground = function() {
        var t = this.dataZoomModel,
          e = this._size,
          n = this._displayables.sliderGroup,
          i = t.get('brushSelect'),
          t =
            (n.add(
              new DA({ silent: !0, shape: { x: 0, y: 0, width: e[0], height: e[1] }, style: { fill: t.get('backgroundColor') }, z2: -40 })
            ),
            new DA({
              shape: { x: 0, y: 0, width: e[0], height: e[1] },
              style: { fill: 'transparent' },
              z2: 0,
              onclick: S(this._onClickPanel, this),
            })),
          e = this.api.getZr()
        i
          ? (t.on('mousedown', this._onBrushStart, this),
            (t.cursor = 'crosshair'),
            e.on('mousemove', this._onBrush),
            e.on('mouseup', this._onBrushEnd))
          : (e.off('mousemove', this._onBrush), e.off('mouseup', this._onBrushEnd)),
          n.add(t)
      }),
      (NA.prototype._renderDataShadow = function() {
        var t = (this._dataShadowInfo = this._prepareDataShadowInfo())
        if (((this._displayables.dataShadowSegs = []), t)) {
          var e = this._size,
            n = this._shadowSize || [],
            i = t.series,
            o = i.getRawData(),
            r = i.getShadowDim && i.getShadowDim(),
            r = r && o.getDimensionInfo(r) ? i.getShadowDim() : t.otherDim
          if (null != r)
            for (
              var a,
                s,
                l,
                u,
                h,
                c,
                p,
                d,
                f,
                g,
                y = this._shadowPolygonPts,
                m = this._shadowPolylinePts,
                v =
                  ((o === this._shadowData && r === this._shadowDim && e[0] === n[0] && e[1] === n[1]) ||
                    ((i = 0.3 * ((a = o.getDataExtent(r))[1] - a[0])),
                    (a = [a[0] - i, a[1] + i]),
                    (s = [0, e[1]]),
                    (t = [0, e[0]]),
                    (l = [
                      [e[0], 0],
                      [0, 0],
                    ]),
                    (u = []),
                    (h = t[1] / (o.count() - 1)),
                    (c = 0),
                    (p = Math.round(o.count() / e[0])),
                    o.each([r], function(t, e) {
                      var n
                      0 < p && e % p
                        ? (c += h)
                        : ((t = (n = null == t || isNaN(t) || '' === t) ? 0 : ir(t, a, s, !0)),
                          n && !d && e
                            ? (l.push([l[l.length - 1][0], 0]), u.push([u[u.length - 1][0], 0]))
                            : !n && d && (l.push([c, 0]), u.push([c, 0])),
                          l.push([c, t]),
                          u.push([c, t]),
                          (c += h),
                          (d = n))
                    }),
                    (y = this._shadowPolygonPts = l),
                    (m = this._shadowPolylinePts = u)),
                  (this._shadowData = o),
                  (this._shadowDim = r),
                  (this._shadowSize = [e[0], e[1]]),
                  this.dataZoomModel),
                _ = 0;
              _ < 3;
              _++
            ) {
              ;(f = 1 === _),
                (x = g = void 0),
                (f = v.getModel(f ? 'selectedDataBackground' : 'dataBackground')),
                (g = new Yo()),
                (x = new qu({
                  shape: { points: y },
                  segmentIgnoreThreshold: 1,
                  style: f.getModel('areaStyle').getAreaStyle(),
                  silent: !0,
                  z2: -20,
                })),
                (f = new Qu({
                  shape: { points: m },
                  segmentIgnoreThreshold: 1,
                  style: f.getModel('lineStyle').getLineStyle(),
                  silent: !0,
                  z2: -19,
                })),
                g.add(x),
                g.add(f)
              var x = g
              this._displayables.sliderGroup.add(x), this._displayables.dataShadowSegs.push(x)
            }
        }
      }),
      (NA.prototype._prepareDataShadowInfo = function() {
        var s,
          l,
          t = this.dataZoomModel,
          u = t.get('showDataShadow')
        if (!1 !== u)
          return (
            (l = this.ecModel),
            t.eachTargetAxis(function(r, a) {
              E(
                t.getAxisProxy(r, a).getTargetSeriesModels(),
                function(t) {
                  var e, n, i, o
                  s ||
                    (!0 !== u && C(PA, t.get('type')) < 0) ||
                    ((e = l.getComponent(EC(r), a).axis),
                    (o = t.coordinateSystem),
                    null != (n = { x: 'y', y: 'x', radius: 'angle', angle: 'radius' }[r]) &&
                      o.getOtherAxis &&
                      (i = o.getOtherAxis(e).inverse),
                    (n = t.getData().mapDimension(n)),
                    (s = { thisAxis: e, series: t, thisDim: r, otherDim: n, otherAxisInverse: i }))
                },
                this
              )
            }, this),
            s
          )
      }),
      (NA.prototype._renderHandle = function() {
        var t,
          e,
          o = this.group,
          n = this._displayables,
          r = (n.handles = [null, null]),
          a = (n.handleLabels = [null, null]),
          s = this._displayables.sliderGroup,
          i = this._size,
          l = this.dataZoomModel,
          u = this.api,
          h = l.get('borderRadius') || 0,
          c = l.get('brushSelect'),
          p = (n.filler = new DA({ silent: c, style: { fill: l.get('fillerColor') }, textConfig: { position: 'inside' } })),
          h =
            (s.add(p),
            s.add(
              new DA({
                silent: !0,
                subPixelOptimize: !0,
                shape: { x: 0, y: 0, width: i[0], height: i[1], r: h },
                style: { stroke: l.get('dataBackgroundColor') || l.get('borderColor'), lineWidth: 1, fill: 'rgba(0,0,0,0)' },
              })
            ),
            E(
              [0, 1],
              function(t) {
                var e = l.get('handleIcon'),
                  e = dm((e = !hm[e] && e.indexOf('path://') < 0 && e.indexOf('image://') < 0 ? 'path://' + e : e), -1, 0, 2, 2, null, !0),
                  n =
                    (e.attr({
                      cursor: EA(this._orient),
                      draggable: !0,
                      drift: S(this._onDragMove, this, t),
                      ondragend: S(this._onDragEnd, this),
                      onmouseover: S(this._showDataInfo, this, !0),
                      onmouseout: S(this._showDataInfo, this, !1),
                      z2: 5,
                    }),
                    e.getBoundingRect()),
                  i = l.get('handleSize'),
                  i =
                    ((this._handleHeight = W(i, this._size[1])),
                    (this._handleWidth = (n.width / n.height) * this._handleHeight),
                    e.setStyle(l.getModel('handleStyle').getItemStyle()),
                    (e.style.strokeNoScale = !0),
                    (e.rectHover = !0),
                    (e.ensureState('emphasis').style = l.getModel(['emphasis', 'handleStyle']).getItemStyle()),
                    Gl(e),
                    l.get('handleColor')),
                  n = (null != i && (e.style.fill = i), s.add((r[t] = e)), l.getModel('textStyle')),
                  i = (l.get('handleLabel') || {}).show || !1
                o.add(
                  (a[t] = new Hs({
                    silent: !0,
                    invisible: !i,
                    style: bc(n, {
                      x: 0,
                      y: 0,
                      text: '',
                      verticalAlign: 'middle',
                      align: 'center',
                      fill: n.getTextColor(),
                      font: n.getFont(),
                    }),
                    z2: 10,
                  }))
                )
              },
              this
            ),
            p)
        c &&
          ((p = W(l.get('moveHandleSize'), i[1])),
          (t = n.moveHandle = new Es({
            style: l.getModel('moveHandleStyle').getItemStyle(),
            silent: !0,
            shape: { r: [0, 0, 2, 2], y: i[1] - 0.5, height: p },
          })),
          (c = 0.8 * p),
          ((c = n.moveHandleIcon = dm(l.get('moveHandleIcon'), -c / 2, -c / 2, c, c, '#fff', !0)).silent = !0),
          (c.y = i[1] + p / 2 - 0.5),
          (t.ensureState('emphasis').style = l.getModel(['emphasis', 'moveHandleStyle']).getItemStyle()),
          (e = Math.min(i[1] / 2, Math.max(p, 10))),
          (h = n.moveZone = new Es({ invisible: !0, shape: { y: i[1] - e, height: p + e } }))
            .on('mouseover', function() {
              u.enterEmphasis(t)
            })
            .on('mouseout', function() {
              u.leaveEmphasis(t)
            }),
          s.add(t),
          s.add(c),
          s.add(h)),
          h.attr({
            draggable: !0,
            cursor: EA(this._orient),
            drift: S(this._onDragMove, this, 'all'),
            ondragstart: S(this._showDataInfo, this, !0),
            ondragend: S(this._onDragEnd, this),
            onmouseover: S(this._showDataInfo, this, !0),
            onmouseout: S(this._showDataInfo, this, !1),
          })
      }),
      (NA.prototype._resetInterval = function() {
        var t = (this._range = this.dataZoomModel.getPercentRange()),
          e = this._getViewExtent()
        this._handleEnds = [ir(t[0], [0, 100], e, !0), ir(t[1], [0, 100], e, !0)]
      }),
      (NA.prototype._updateInterval = function(t, e) {
        var n = this.dataZoomModel,
          i = this._handleEnds,
          o = this._getViewExtent(),
          r = n.findRepresentativeAxisProxy().getMinMaxSpan(),
          a = [0, 100],
          e =
            (jC(
              e,
              i,
              o,
              n.get('zoomLock') ? 'all' : t,
              null != r.minSpan ? ir(r.minSpan, a, o, !0) : null,
              null != r.maxSpan ? ir(r.maxSpan, a, o, !0) : null
            ),
            this._range),
          n = (this._range = rr([ir(i[0], o, a, !0), ir(i[1], o, a, !0)]))
        return !e || e[0] !== n[0] || e[1] !== n[1]
      }),
      (NA.prototype._updateView = function(t) {
        for (
          var i = this._displayables,
            o = this._handleEnds,
            e = rr(o.slice()),
            r = this._size,
            n =
              (E(
                [0, 1],
                function(t) {
                  var e = i.handles[t],
                    n = this._handleHeight
                  e.attr({ scaleX: n / 2, scaleY: n / 2, x: o[t] + (t ? -1 : 1), y: r[1] / 2 - n / 2 })
                },
                this
              ),
              i.filler.setShape({ x: e[0], y: 0, width: e[1] - e[0], height: r[1] }),
              { x: e[0], width: e[1] - e[0] }),
            a =
              (i.moveHandle &&
                (i.moveHandle.setShape(n), i.moveZone.setShape(n), i.moveZone.getBoundingRect(), i.moveHandleIcon) &&
                i.moveHandleIcon.attr('x', n.x + n.width / 2),
              i.dataShadowSegs),
            s = [0, e[0], e[1], r[0]],
            l = 0;
          l < a.length;
          l++
        ) {
          var u = a[l],
            h = u.getClipPath()
          h || ((h = new Es()), u.setClipPath(h)), h.setShape({ x: s[l], y: 0, width: s[l + 1] - s[l], height: r[1] })
        }
        this._updateDataInfo(t)
      }),
      (NA.prototype._updateDataInfo = function(t) {
        var e,
          n,
          i = this.dataZoomModel,
          o = this._displayables,
          r = o.handleLabels,
          a = this._orient,
          s = ['', ''],
          l =
            (i.get('showDetail') &&
              (i = i.findRepresentativeAxisProxy()) &&
              ((e = i.getAxisModel().axis),
              (n = this._range),
              (t = t ? i.calculateDataWindow({ start: n[0], end: n[1] }).valueWindow : i.getDataValueWindow()),
              (s = [this._formatLabel(t[0], e), this._formatLabel(t[1], e)])),
            rr(this._handleEnds.slice()))
        function u(t) {
          var e = oc(o.handles[t].parent, this.group),
            n = ac(0 === t ? 'right' : 'left', e),
            i = this._handleWidth / 2 + 5,
            i = rc([l[t] + (0 === t ? -i : i), this._size[1] / 2], e)
          r[t].setStyle({ x: i[0], y: i[1], verticalAlign: a === kA ? 'middle' : n, align: a === kA ? n : 'center', text: s[t] })
        }
        u.call(this, 0), u.call(this, 1)
      }),
      (NA.prototype._formatLabel = function(t, e) {
        var n = this.dataZoomModel,
          i = n.get('labelFormatter'),
          n = n.get('labelPrecision'),
          e =
            ((null != n && 'auto' !== n) || (n = e.getPixelPrecision()),
            null == t || isNaN(t)
              ? ''
              : 'category' === e.type || 'time' === e.type
              ? e.scale.getLabel({ value: Math.round(t) })
              : t.toFixed(Math.min(n, 20)))
        return A(i) ? i(t, e) : F(i) ? i.replace('{value}', e) : e
      }),
      (NA.prototype._showDataInfo = function(t) {
        var e = (this.dataZoomModel.get('handleLabel') || {}).show || !1,
          n = this.dataZoomModel.getModel(['emphasis', 'handleLabel']).get('show') || !1,
          t = t || this._dragging ? n : e,
          n = this._displayables,
          e = n.handleLabels
        e[0].attr('invisible', !t),
          e[1].attr('invisible', !t),
          n.moveHandle && this.api[t ? 'enterEmphasis' : 'leaveEmphasis'](n.moveHandle, 1)
      }),
      (NA.prototype._onDragMove = function(t, e, n, i) {
        ;(this._dragging = !0), Ie(i.event)
        ;(i = rc([e, n], this._displayables.sliderGroup.getLocalTransform(), !0)),
          (e = this._updateInterval(t, i[0])),
          (n = this.dataZoomModel.get('realtime'))
        this._updateView(!n), e && n && this._dispatchZoomAction(!0)
      }),
      (NA.prototype._onDragEnd = function() {
        ;(this._dragging = !1), this._showDataInfo(!1), this.dataZoomModel.get('realtime') || this._dispatchZoomAction(!1)
      }),
      (NA.prototype._onClickPanel = function(t) {
        var e = this._size,
          t = this._displayables.sliderGroup.transformCoordToLocal(t.offsetX, t.offsetY)
        t[0] < 0 ||
          t[0] > e[0] ||
          t[1] < 0 ||
          t[1] > e[1] ||
          ((e = ((e = this._handleEnds)[0] + e[1]) / 2),
          (t = this._updateInterval('all', t[0] - e)),
          this._updateView(),
          t && this._dispatchZoomAction(!1))
      }),
      (NA.prototype._onBrushStart = function(t) {
        var e = t.offsetX,
          t = t.offsetY
        ;(this._brushStart = new G(e, t)), (this._brushing = !0), (this._brushStartTime = +new Date())
      }),
      (NA.prototype._onBrushEnd = function(t) {
        var e, n, i
        this._brushing &&
          ((e = this._displayables.brushRect), (this._brushing = !1), e) &&
          (e.attr('ignore', !0),
          (e = e.shape),
          (+new Date() - this._brushStartTime < 200 && Math.abs(e.width) < 5) ||
            ((n = this._getViewExtent()),
            (this._range = rr([ir(e.x, n, (i = [0, 100]), !0), ir(e.x + e.width, n, i, !0)])),
            (this._handleEnds = [e.x, e.x + e.width]),
            this._updateView(),
            this._dispatchZoomAction(!1)))
      }),
      (NA.prototype._onBrush = function(t) {
        this._brushing && (Ie(t.event), this._updateBrushRect(t.offsetX, t.offsetY))
      }),
      (NA.prototype._updateBrushRect = function(t, e) {
        var n = this._displayables,
          i = this.dataZoomModel,
          o = n.brushRect,
          i =
            (o || ((o = n.brushRect = new DA({ silent: !0, style: i.getModel('brushStyle').getItemStyle() })), n.sliderGroup.add(o)),
            o.attr('ignore', !1),
            this._brushStart),
          n = this._displayables.sliderGroup,
          t = n.transformCoordToLocal(t, e),
          e = n.transformCoordToLocal(i.x, i.y),
          n = this._size
        ;(t[0] = Math.max(Math.min(n[0], t[0]), 0)), o.setShape({ x: e[0], y: 0, width: t[0] - e[0], height: n[1] })
      }),
      (NA.prototype._dispatchZoomAction = function(t) {
        var e = this._range
        this.api.dispatchAction({
          type: 'dataZoom',
          from: this.uid,
          dataZoomId: this.dataZoomModel.id,
          animation: t ? OA : null,
          start: e[0],
          end: e[1],
        })
      }),
      (NA.prototype._findCoordRect = function() {
        var t,
          e,
          n = BC(this.dataZoomModel).infoList
        return (t = (t = !t && n.length ? (n = n[0].model.coordinateSystem).getRect && n.getRect() : t)
          ? t
          : { x: 0.2 * (n = this.api.getWidth()), y: 0.2 * (e = this.api.getHeight()), width: 0.6 * n, height: 0.6 * e })
      }),
      (NA.type = 'dataZoom.slider'),
      NA)
  function NA() {
    var t = (null !== AA && AA.apply(this, arguments)) || this
    return (t.type = NA.type), (t._displayables = {}), t
  }
  function EA(t) {
    return 'vertical' === t ? 'ns-resize' : 'ew-resize'
  }
  function zA(t) {
    t.registerComponentModel(IA), t.registerComponentView(RA), SA(t)
  }
  i1(function(t) {
    i1(MA), i1(zA)
  }),
    i1(Ax)
  var BA = { value: 'eq', '<': 'lt', '<=': 'lte', '>': 'gt', '>=': 'gte', '=': 'eq', '!=': 'ne', '<>': 'ne' },
    VA =
      ((FA.prototype.evaluate = function(t) {
        var e = typeof t
        return F(e) ? this._condVal.test(t) : !!H(e) && this._condVal.test(t + '')
      }),
      FA)
  function FA(t) {
    null == (this._condVal = F(t) ? new RegExp(t) : vt(t) ? t : null) && f('')
  }
  GA.prototype.evaluate = function() {
    return this.value
  }
  var HA = GA
  function GA() {}
  UA.prototype.evaluate = function() {
    for (var t = this.children, e = 0; e < t.length; e++) if (!t[e].evaluate()) return !1
    return !0
  }
  var WA = UA
  function UA() {}
  XA.prototype.evaluate = function() {
    for (var t = this.children, e = 0; e < t.length; e++) if (t[e].evaluate()) return !0
    return !1
  }
  var YA = XA
  function XA() {}
  qA.prototype.evaluate = function() {
    return !this.child.evaluate()
  }
  var ZA = qA
  function qA() {}
  KA.prototype.evaluate = function() {
    for (
      var t = !!this.valueParser, e = (0, this.getValue)(this.valueGetterParam), n = t ? this.valueParser(e) : null, i = 0;
      i < this.subCondList.length;
      i++
    )
      if (!this.subCondList[i].evaluate(t ? n : e)) return !1
    return !0
  }
  var jA = KA
  function KA() {}
  function $A(t, e) {
    if (!0 === t || !1 === t) return ((n = new HA()).value = t), n
    var n
    if ((JA(t) || f(''), t.and)) return QA('and', t, e)
    if (t.or) return QA('or', t, e)
    if (t.not) return (n = e), JA((r = (r = t).not)) || f(''), ((l = new ZA()).child = $A(r, n)), l.child || f(''), l
    for (var i = t, o = e, r = o.prepareGetValue(i), a = [], s = ct(i), l = i.parser, u = l ? Jf(l) : null, h = 0; h < s.length; h++) {
      var c,
        p = s[h]
      'parser' === p ||
        o.valueGetterAttrMap.get(p) ||
        ((c = zt(BA, p) ? BA[p] : p),
        (p = i[p]),
        (p = u ? u(p) : p),
        (c =
          (function(t, e) {
            return 'eq' === t || 'ne' === t ? new rg('eq' === t, e) : zt(tg, t) ? new eg(t, e) : null
          })(c, p) ||
          ('reg' === c && new VA(p))) || f(''),
        a.push(c))
    }
    return a.length || f(''), ((l = new jA()).valueGetterParam = r), (l.valueParser = u), (l.getValue = o.getValue), (l.subCondList = a), l
  }
  function QA(t, e, n) {
    ;(e = e[t]), V(e) || f(''), e.length || f(''), (t = new ('and' === t ? WA : YA)())
    return (
      (t.children = B(e, function(t) {
        return $A(t, n)
      })),
      t.children.length || f(''),
      t
    )
  }
  function JA(t) {
    return O(t) && !lt(t)
  }
  eD.prototype.evaluate = function() {
    return this._cond.evaluate()
  }
  var tD = eD
  function eD(t, e) {
    this._cond = $A(t, e)
  }
  var nD = {
      type: 'echarts:filter',
      transform: function(t) {
        for (
          var e,
            n,
            i = t.upstream,
            o =
              ((t = t.config),
              (n = {
                valueGetterAttrMap: N({ dimension: !0 }),
                prepareGetValue: function(t) {
                  var e = t.dimension,
                    t = (zt(t, 'dimension') || f(''), i.getDimensionInfo(e))
                  return t || f(''), { dimIdx: t.index }
                },
                getValue: function(t) {
                  return i.retrieveValueFromItem(e, t.dimIdx)
                },
              }),
              new tD(t, n)),
            r = [],
            a = 0,
            s = i.count();
          a < s;
          a++
        )
          (e = i.getRawDataItem(a)), o.evaluate() && r.push(e)
        return { data: r }
      },
    },
    iD = {
      type: 'echarts:sort',
      transform: function(t) {
        for (
          var a = t.upstream,
            t = t.config,
            t = Sr(t),
            s = (t.length || f(''), []),
            t =
              (E(t, function(t) {
                var e = t.dimension,
                  n = t.order,
                  i = t.parser,
                  t = t.incomparable,
                  e =
                    (null == e && f(''),
                    'asc' !== n && 'desc' !== n && f(''),
                    t && 'min' !== t && 'max' !== t && f(''),
                    'asc' !== n && 'desc' !== n && f(''),
                    a.getDimensionInfo(e)),
                  o = (e || f(''), i ? Jf(i) : null)
                i && !o && f(''), s.push({ dimIdx: e.index, parser: o, comparator: new ig(n, t) })
              }),
              a.sourceFormat),
            e = (t !== od && t !== rd && f(''), []),
            n = 0,
            i = a.count();
          n < i;
          n++
        )
          e.push(a.getRawDataItem(n))
        return (
          e.sort(function(t, e) {
            for (var n = 0; n < s.length; n++) {
              var i = s[n],
                o = a.retrieveValueFromItem(t, i.dimIdx),
                r = a.retrieveValueFromItem(e, i.dimIdx),
                i = (i.parser && ((o = i.parser(o)), (r = i.parser(r))), i.comparator.evaluate(o, r))
              if (0 !== i) return i
            }
            return 0
          }),
          { data: e }
        )
      },
    }
  i1(function(t) {
    t.registerTransform(nD), t.registerTransform(iD)
  }),
    (t.Axis = sp),
    (t.ChartView = hy),
    (t.ComponentModel = g),
    (t.ComponentView = ry),
    (t.List = Rv),
    (t.Model = Uc),
    (t.PRIORITY = am),
    (t.SeriesModel = $g),
    (t.color = xi),
    (t.connect = function(e) {
      var t
      return (
        V(e) &&
          ((t = e),
          (e = null),
          E(t, function(t) {
            null != t.group && (e = t.group)
          }),
          (e = e || 'g_' + H0++),
          E(t, function(t) {
            t.group = e
          })),
        (V0[e] = !0),
        e
      )
    }),
    (t.dataTool = {}),
    (t.dependencies = { zrender: '5.6.1' }),
    (t.disConnect = rm),
    (t.disconnect = W0),
    (t.dispose = function(t) {
      F(t) ? (t = B0[t]) : t instanceof M0 || (t = U0(t)), t instanceof M0 && !t.isDisposed() && t.dispose()
    }),
    (t.env = b),
    (t.extendChartView = function(t) {
      return (t = hy.extend(t)), hy.registerClass(t), t
    }),
    (t.extendComponentModel = function(t) {
      return (t = g.extend(t)), g.registerClass(t), t
    }),
    (t.extendComponentView = function(t) {
      return (t = ry.extend(t)), ry.registerClass(t), t
    }),
    (t.extendSeriesModel = function(t) {
      return (t = $g.extend(t)), $g.registerClass(t), t
    }),
    (t.format = Vc),
    (t.getCoordinateSystemDimensions = function(t) {
      if ((t = Ed.get(t))) return t.getDimensionsInfo ? t.getDimensionsInfo() : t.dimensions.slice()
    }),
    (t.getInstanceByDom = U0),
    (t.getInstanceById = function(t) {
      return B0[t]
    }),
    (t.getMap = function(t) {
      var e = Zm.getMap
      return e && e(t)
    }),
    (t.graphic = Hc),
    (t.helper = sm),
    (t.init = function(t, e, n) {
      var i = !(n && n.ssr)
      if (i) {
        var o = U0(t)
        if (o) return o
      }
      return ((o = new M0(t, e, n)).id = 'ec_' + F0++), (B0[o.id] = o), i && Gr(t, G0, o.id), x0(o), Xm.trigger('afterinit', o), o
    }),
    (t.innerDrawElementOnCanvas = Vm),
    (t.matrix = Fe),
    (t.number = zc),
    (t.parseGeoJSON = x1),
    (t.parseGeoJson = x1),
    (t.registerAction = $0),
    (t.registerCoordinateSystem = Q0),
    (t.registerLayout = J0),
    (t.registerLoading = iv),
    (t.registerLocale = ep),
    (t.registerMap = ov),
    (t.registerPostInit = q0),
    (t.registerPostUpdate = j0),
    (t.registerPreprocessor = X0),
    (t.registerProcessor = Z0),
    (t.registerTheme = Y0),
    (t.registerTransform = rv),
    (t.registerUpdateLifecycle = K0),
    (t.registerVisual = tv),
    (t.setCanvasCreator = function(t) {
      w({ createCanvas: t })
    }),
    (t.setPlatformAPI = w),
    (t.throttle = xy),
    (t.time = na),
    (t.use = i1),
    (t.util = Nc),
    (t.vector = ie),
    (t.version = '5.6.0'),
    (t.zrUtil = Ft),
    (t.zrender = er)
})
